<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Theo's Documentation Site Blog</title>
        <link>https://wolffn.github.io/blog</link>
        <description>Theo's Documentation Site Blog</description>
        <lastBuildDate>Wed, 12 Oct 2022 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[JSON in PostgreSQL]]></title>
            <link>https://wolffn.github.io/blog/2022/10/12/json-in-postfresql</link>
            <guid>/2022/10/12/json-in-postfresql</guid>
            <pubDate>Wed, 12 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[PostgreSQL 有许多存储、处理 JSON 数据的功能。本文将讲述：]]></description>
            <content:encoded><![CDATA[<p>PostgreSQL 有许多存储、处理 JSON 数据的功能。本文将讲述：</p><ul><li>JSON 是什么，为什么值得使用。</li><li>创建一张 table 来储存 JSON。</li><li>JSON 数据的增删改查</li><li>性能、校验、处理 JSON 数据的一些建议。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json-是什么">JSON 是什么<a class="hash-link" href="#json-是什么" title="Direct link to heading">​</a></h2><p>JSON 是 JavaScript Object Notation 的缩写，是一种格式化和储存数据的方式。与 HTMl 或 XML 类似，使用一种适合人类阅读的特定格式来展现数据，最初是为了程序能够使用数据来设计的。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="为什么使用-json">为什么使用 jSON<a class="hash-link" href="#为什么使用-json" title="Direct link to heading">​</a></h3><p>因为需要一种灵活的结构。<br>
<!-- -->一个规范化的数据库结构，包含数据表、列、关系，适用于大多数情况。最近开发实践的改进,也意味着改变一个表并不像过去那样重要，所以一旦你的数据库投入生产，调整它是可能的。<br>
<!-- -->但如果你的需求，要求数据比较灵活，JSON 字段比较适合。<br>
<!-- -->一个典型的例子是，用户可能添加自定义属性。如果是规范化的数据库，这边需要修改表，或者创建一个实体属性(Entity Attribute)，或其他一些方法。<br>
<!-- -->如果使用 JSON 字段，增加、维护这些自定义属性将会变得十分容易。<br>
<!-- -->JSON 数据同样可以被 ORM 和代码处理。所以数据库不需要其他额外工作。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="json-数据的样式">JSON 数据的样式<a class="hash-link" href="#json-数据的样式" title="Direct link to heading">​</a></h3><p>对象：</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"id"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"1"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"username"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"jsmith"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"United States"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>包含数组：</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"username"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"jsmith"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"location"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"United States"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"posts"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"id"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"1"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"title"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"Welcome"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"id"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"4"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"title"</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"What started it all"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="创建-json-字段">创建 JSON 字段<a class="hash-link" href="#创建-json-字段" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="两种类型">两种类型<a class="hash-link" href="#两种类型" title="Direct link to heading">​</a></h3><p>PostgreSQL 中有两种 JSON 的数据类型：JSON 和 JSONB。</p><ul><li>JSON 是常规 JSON 类型，在 9.2 版本中加入。</li><li>JSONB 用来存储二进制 JSON，9.4 版本加入。</li></ul><p>区别主要在于数据如何存储。JSONB 数据以二进制格式存储，更容易被处理。<br>
<!-- -->PostgreSQL 推荐在大多数情况下使用 JSONB 格式。</p><table><thead><tr><th><strong>Feature</strong></th><th><strong>JSON</strong></th><th><strong>JSONB</strong></th></tr></thead><tbody><tr><td>存储</td><td>保持原状</td><td>以分解的二进制格式存储</td></tr><tr><td>支持全文索引</td><td>No</td><td>Yes</td></tr><tr><td>保留空格</td><td>Yse</td><td>No</td></tr><tr><td>保留 key 的顺序</td><td>Yse</td><td>No</td></tr><tr><td>保留重复的 key</td><td>Yse</td><td>No(保留最后一个 key)</td></tr></tbody></table><p>优于存储结构的原因，JSONB 数据存储较慢（需要转换），但处理较快。<br>
<!-- -->本文将使用 JSONB 数据类型。大部分功能也同样适用于 JSON 类型。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建-json-字段-1">创建 JSON 字段<a class="hash-link" href="#创建-json-字段-1" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> product </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  id </span><span class="token keyword" style="color:#00009f">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  product_name </span><span class="token keyword" style="color:#00009f">CHARACTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">VARYING</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  attributes JSONB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>attributes 是 JSONB 类型，所以要求传入的必须是有效的 JSON 数据。其他数据库需要校验，而 postgreSQL 不需要。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="insert">Insert<a class="hash-link" href="#insert" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> product </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> attributes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Chair'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'{"color":"brown", "material":"wood", "height":"60cm"}'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="insert-array">Insert Array<a class="hash-link" href="#insert-array" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> product </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> attributes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">'Desk'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">'{"color":"black", "material":"metal", "drawers":[{"side":"left", "height":"30cm"}, {"side":"left", "height":"40cm"}]}'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="json-函数">JSON 函数<a class="hash-link" href="#json-函数" title="Direct link to heading">​</a></h3><p><code>JSONB_BUILD_OBJECT</code> 函数接收一系列值，以二进制格式创建 JSON 对象。</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">JSONB_BUILD_OBJECT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'color'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'black'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'material'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'plastic'</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>结果：</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">"color"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"black"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">"material"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plastic"</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>使用 <code>JSONB_BUILD_OBJECT</code> 函数的好处是无需担心括号、冒号，引号、逗号等等。</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> product </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> attributes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Small Table'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> JSONB_BUILD_OBJECT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'color'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'black'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'material'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'plastic'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>其他一些帮助 insert JSON 的函数：</p><ul><li>to_json and to_jsonb</li><li>array_to_json</li><li>row_to_json</li><li>json_build_array and jsonb_build_array</li><li>json_object and jsonb_object</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="read-and-filter">Read and Filter<a class="hash-link" href="#read-and-filter" title="Direct link to heading">​</a></h2><p>select 一个 JSON 字段很简单：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="select-单个属性">Select 单个属性<a class="hash-link" href="#select-单个属性" title="Direct link to heading">​</a></h3><p>通过 <code>-&gt;</code> 来获取单个属性，<code>-&gt;&gt;</code> 仅获取 value，无引号。如果没有对应字段，返回 null。</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'color'</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> color_key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'color'</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> color_value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="select-array">Select Array<a class="hash-link" href="#select-array" title="Direct link to heading">​</a></h3><p><code>-&gt; [index]</code> 获取指定元素，<code>#&gt;&gt;</code> 是另一种语法</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'drawers'</span><span class="token plain">      </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> drawers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'drawers'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> drawer_value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes </span><span class="token comment" style="color:#999988;font-style:italic">#&gt; '{drawers, 1}'  AS drawers_element,  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes </span><span class="token comment" style="color:#999988;font-style:italic">#&gt;&gt; '{drawers, 1}' AS drawers_text  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="filtering">Filtering<a class="hash-link" href="#filtering" title="Direct link to heading">​</a></h3><p><code>LIKE</code> 不能使用。</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> attributes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'{  </span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  "color": "brown",  "material": "wood",  "height": "60cm"}'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>使用 <code>-&gt;&gt;</code> 来对字符串进行筛选</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> attributes </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'color'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'brown'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="拆分-json-到多行">拆分 JSON 到多行<a class="hash-link" href="#拆分-json-到多行" title="Direct link to heading">​</a></h3><p><code>JSONB_EACH</code> 会把key value 对展示为元组，每个 key 占据一行。虽然这并没有什么卵用。</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       JSONB_EACH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attributes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>JSON_OBJECT_KEYS</code> 用以获取 JSON 字段的 key，也会拆分多行：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       JSONB_OBJECT_KEYS</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attributes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果想要找到 包含指定 key 的行，或者是想统计 key 的数量，会很有帮助。</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> JSONB_OBJECT_KEYS</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attributes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> attr_key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> JSONB_OBJECT_KEYS</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attributes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="检查-key-是否存在">检查 key 是否存在<a class="hash-link" href="#检查-key-是否存在" title="Direct link to heading">​</a></h3><p><code>?</code> 可以用来检查 JSON 是否含有指定 key</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       product_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       attributes  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> attributes ? </span><span class="token string" style="color:#e3116c">'drawers'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="update">Update<a class="hash-link" href="#update" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="insert-new-key">Insert new key<a class="hash-link" href="#insert-new-key" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> product  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> attributes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> attributes </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'{"width":"100cm"}'</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jsonb_set更新已有-value">JSONB_SET：更新已有 value<a class="hash-link" href="#jsonb_set更新已有-value" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> product  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> attributes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> JSONB_SET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attributes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'{height}'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'"75cm"'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="delete">Delete<a class="hash-link" href="#delete" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="删除指定行">删除指定行<a class="hash-link" href="#删除指定行" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">DELETE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> product</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> attributes </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'color'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'brown'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="删除-json-字段的指定属性">删除 JSON 字段的指定属性<a class="hash-link" href="#删除-json-字段的指定属性" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> product  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> attributes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> attributes </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'height'</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a class="hash-link" href="#performance" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gin-全文索引">GIN 全文索引<a class="hash-link" href="#gin-全文索引" title="Direct link to heading">​</a></h3><p>GIN: Generalised Inverted Index. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> idx_prod_json </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> product </span><span class="token keyword" style="color:#00009f">USING</span><span class="token plain"> GIN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attributes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tips">Tips<a class="hash-link" href="#tips" title="Direct link to heading">​</a></h2><ol><li>不要因为可以，便使用。</li><li>将 JSON 字段视为 black box。</li><li>使用 PK 或其他字段来检索。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ref">Ref:<a class="hash-link" href="#ref" title="Direct link to heading">​</a></h2><p><a href="https://www.databasestar.com/postgresql-json/" target="_blank" rel="noopener noreferrer">https://www.databasestar.com/postgresql-json/</a></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[数据库设计]]></title>
            <link>https://wolffn.github.io/blog/2022/10/09/introduction-to-database-design</link>
            <guid>/2022/10/09/introduction-to-database-design</guid>
            <pubDate>Sun, 09 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[译自：https://www.datanamic.com/support/lt-dez005-introduction-db-modeling.html]]></description>
            <content:encoded><![CDATA[<blockquote><p>译自：<a href="https://www.datanamic.com/support/lt-dez005-introduction-db-modeling.html" target="_blank" rel="noopener noreferrer">https://www.datanamic.com/support/lt-dez005-introduction-db-modeling.html</a></p></blockquote><p>本文将讲述关系型数据库设计的基础，并解释如何进行良好的数据库设计。文章很长，但我们建议你读完它。数据库设计是相当容易的，但有一些规则需要坚守。知其然更要知其所以然，否则，很容易犯错。</p><p>标准化使数据模型更加灵活，从而使处理数据更加容易。请花点时间去学习这些规则，并应用它们。本文使用的数据库是用数据库设计和建模工具<a href="https://www.datanamic.com/dezign/" target="_blank" rel="noopener noreferrer">design for Databases</a>设计的。</p><p>一个好的数据库设计，首先要列出，你想要保存的数据，以及对其进行的操作。尝试首先用人类语言进行描述，而不要去想 table, column 这些概念。要认真对待这个问题，否则很容易返工。数据库是软件开发中很重要的一部分，值得你多花些时间。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="实体-entities">实体 Entities<a class="hash-link" href="#实体-entities" title="Direct link to heading">​</a></h2><p>保存在数据库中的信息，一般称为实体。实体主要包含四种类型：人 (people），物 (things)，事件 (events)，以及地点 (locations)。如果你发现某种信息不能归入以上四类，那他很可能不是实体，而是实体的属性 (property, attribute)。</p><p>让我们使用以下例子，以便于理解。想象，你要创建一个电商网站，都需要处理哪些信息呢？在一家商店 (shop)，你做的事情，是出售商品 (products)，给顾客 (customers)。</p><ul><li>商店 shop，是一个 location.</li><li>出售 sale，是一个 event</li><li>商品 products，是 things</li><li>顾客 customers，是 people
以上就是所有需要数据库需要包含的全部的实体。</li></ul><p>在交易过程中，还有别的事情发生吗？一个顾客走进商店，靠近一名售货员(vendor)，问了一个问题，得到一个答案。售货员也参与了这个过程，并且是 people，所以我们需要一个售货员实体。</p><p><em>Figure 1: Entities: type of information.</em><br>
<img loading="lazy" alt="entities.png" src="/assets/images/entities-8dfa85d8693993efa459c3a42c44dd08.png" width="302" height="100" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="关系-relationships">关系 Relationships<a class="hash-link" href="#关系-relationships" title="Direct link to heading">​</a></h2><p>下一步是确定实体之间的关系，以及每个关系的基数(Cardinality)。关系是实体间的联系，跟真实世界类似：一个实体会对另一个实体做什么？他们之间有什么关系？比如顾客 (customers) 购买 商品 (products)，商品被卖给顾客，一次出售 (sale)，包含若干商品，并发生在一家商店 (shop)</p><p>基数(cardinity) 表达的是关系两端实体间的数量对比。对于每一个关系，你都要先声明，左侧的一个实体，能包含多少个右侧的实体。比如：一次出售，能有多少顾客呢？一个顾客，能属于多少次出售活动？一个商店，能发生多少次出售？</p><p>你将会有如下结论： (请注意，商品 product  代表某一种类的商品，而不是某一个特定商品)</p><ul><li>Customers --&gt; Sales; 一个顾客可以多次进行购买</li><li>Sales --&gt; Customers; 一次出售活动，只属于一名顾客</li><li>Customers --&gt; Products; 一个顾客可以购买多种商品</li><li>Products --&gt; Customers; 一个商品可以被多名顾客购买</li><li>Customers --&gt; Shops; 一个顾客可以到多个商店进行购买</li><li>Shops --&gt; Customers; 一个商店可以接待多名顾客</li><li>Shops --&gt; Products; 一个商店有多种商品</li><li>Products --&gt; Shops;  一类商品可以在多个商店进行售卖</li><li>Shops --&gt; Sales; 一个商店可以进行多次售卖</li><li>Sales --&gt; Shops; 一次售卖只能发生在一家商店</li><li>Products --&gt; Sales; 一类商品可以多次被出售</li><li>Sales --&gt; Products; 一次售卖可以包含多种商品</li></ul><p>如何确定我们已经包含了所有关系呢？共有四种实体，每种实体与其他三种实体之间，都有关系。所以共有 4<!-- -->*<!-- -->3 = 12 种关系。</p><p>接下来让我们进行汇总，来找到整体关系的基数。为了实现这个目的，我们首先列出每一种关系的基数。为了使这个过程变得简单，我们会对箭头进行调整，改变其方向：</p><ul><li>Customers --&gt; Sales; 一个顾客可以多次进行购买</li><li>Sales --&gt; Customers; 一次出售活动，只属于一名顾客</li></ul><p>我们会改变第二个关系的方向，让实体顺序保持一致。</p><ul><li>Customers &lt;-- Sales; 一次出售活动，只属于一名顾客</li></ul><p>基数有四种类型：一对一，一对多，多对一，多对多。在数据库设计中，这表示为：1:1，1:N， M:1，和 M:N。</p><ul><li>Customers --&gt; Sales; 一个顾客可以多次进行购买；1:N</li><li>Customers &lt;-- Sales; 一次出售活动，只属于一名顾客；1:1</li></ul><p>最终的基数，便是左右两侧分别分配最大数，其中，N 和 M 都大于 1。上述关系中，两种情况左侧都是 1，右侧则分别为 1 和 N，N 是最大值。所以基数为 1:N。一个顾客可以进行多次购买，但是一次购买只属于一名顾客。</p><p>让我们为其他关系也进行类似计算，得到：</p><ul><li>Customers --&gt; Sales;  --&gt; 1:N</li><li>Customers --&gt; Products;  --&gt; M:N</li><li>Customers --&gt; Shops;  --&gt; M:N</li><li>Sales --&gt; Products;  --&gt; M:N</li><li>Shops --&gt; Sales;  --&gt; 1:N</li><li>Shops --&gt; Products;  --&gt; M:N</li></ul><p>最终，我们将会有两个 一对多 关系，以及四个 多对多 关系。</p><p><em>Figure 2: Relationships between the entities.</em><br>
<img loading="lazy" alt="relations-1.png" src="/assets/images/relations-1-b65e7f44167dff03c6115df56d36211c.png" width="418" height="287" class="img_ev3q"></p><p>实体之间可能会有互相依赖。这意味着，如果某一个条目不存在，那么令一个条目也不可能存在。比如，如果没有顾客，那么便不可能有销售；如果没有商品，也不会有销售。</p><p>销售 ---&gt; 顾客，销售 ---&gt; 产品 这两种关系是强制依赖，反过来则不然。即使没有销售，顾客、产品也可以存在。这对接下来的内容很重要。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="递归关系-recursive-relationships">递归关系 Recursive Relationships<a class="hash-link" href="#递归关系-recursive-relationships" title="Direct link to heading">​</a></h3><p>有时候，一个实体会拥有指向自己的关系。比如，一名 empolyee 拥有一个 boss，而 boss 本身也是一名 employee。employees 实体的 boss 属性(attribute) 指向 employees 实体</p><p>在一个 ERD 中，这种关系表现为从实体中出发的线条，返回到当前实体。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="冗余关系-redundant-relationships">冗余关系 Redundant Relationships<a class="hash-link" href="#冗余关系-redundant-relationships" title="Direct link to heading">​</a></h3><p>有时候你的数据模型中存在冗余关系。这是一种已经在其他关系中间接包含的关系。</p><p>在我们的例子中，顾客和产品有直接关系。但是 顾客与销售、销售与产品之间，也有关系。其中便包含了顾客与产品之间通过销售的间接关系。<code>Customers &lt;----&gt; Products</code> 关系出现了两次，其中之一就是冗余关系。在这个例子中，产品只会通过销售被购买所以 <code>Customers &lt;----&gt; Products</code> 的直接关系应该被删除。之后，数据模型如下：</p><p><em>Figure 3: Relationships between the entities.</em><br>
<img loading="lazy" alt="relations-2.png" src="/assets/images/relations-2-2dccf39c48761c4e5c55a9dfbfd51d92.png" width="416" height="287" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="处理多对多关系">处理多对多关系<a class="hash-link" href="#处理多对多关系" title="Direct link to heading">​</a></h3><p>在数据库中，我们没法直接实现多对多 (M:N) 关系。 多对多关系意味着，一张表中的若干条记录，属于另一张表中的若干条记录。需要另寻他处来存储这些关系，一般解决方案是将其分成两组一对多的关系。</p><p>可以通过在两组实体间，创建一张新表来实现。在我们的例子中，销售与产品间是多对多关系，我们为此创建一个新实体：sales-products。这个实体同时与销售、产品具有多对一的关系。从逻辑模型层面，这被称为关联实体(associative entity)；而在物理数据库术语中，这被称为链接表、交集表或联结表(link table, intersection table or junction table)。</p><p><em>Figure 4: Many to many relationship implementation via associative entity.</em><br>
<img loading="lazy" alt="n-n.png" src="data:image/png;base64,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" width="474" height="51" class="img_ev3q">
<img loading="lazy" alt="associative-entity.png" src="data:image/png;base64,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" width="471" height="47" class="img_ev3q"></p><p>除了 <code>Products &lt;----&gt; Sales</code>，另一个需要解决的多对多关系是 <code>Products &lt;----&gt; Shops</code>。这两种情况，我们都需要创建新实体，但这个新实体应该如何命名呢？</p><p>对于 <code>Products &lt;----&gt; Sales</code> 关系，每次销售包含多种产品。这个关系展示了销售的内容或者说销售的细节。所以可以称之为 销售细节(Sales details)，你也可以称之为 卖掉的产品(sold products)。</p><p><code>Products &lt;----&gt; Shops</code> 关系则展示了商店中可以购买的产品，也就是库存(sock)。</p><p>我们的数据模型如下：</p><p><em>Figure 5: Model with link tables Stock and Sales_details.</em><br>
<img loading="lazy" alt="model-with-stock-and-sales-details.png" src="/assets/images/model-with-stock-and-sales-details-f8f7434067419592acc164cd1043d15d.png" width="381" height="355" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="属性-attributes">属性 Attributes<a class="hash-link" href="#属性-attributes" title="Direct link to heading">​</a></h2><p>每个实体中，我们想保存的数据，便是其属性。
对于产品，我们两了解的是价格、制造商、型号。对于顾客，是顾客编号、姓名、地址。对于销售，是什么时候发生、在哪个商店，包含哪些产品，以及总价。对于服务员，是员工号码、姓名、地址。具体的内容现在不重要，只是要列出你想保存的条目。</p><p><em>Figure 6: Entities with attributes.</em><br>
<img loading="lazy" alt="entities-with-attributes.png" src="/assets/images/entities-with-attributes-108223ecff66dfa2e5f5ea0f6239a113.png" width="340" height="231" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="衍生数据-derived-data">衍生数据 Derived Data<a class="hash-link" href="#衍生数据-derived-data" title="Direct link to heading">​</a></h3><p>已经保存在现有其他数据中的数据，我们称之为衍生数据。在这个例子中，总价格便是一例。已知销售中的每一项售出内容和价格，所以很方便计算出总价。所以没必要存储总价。</p><p>那为什么还要存储呢？因为这是一次销售，而产品的价格可能会有变化。一个产品可能今天卖 10 欧元，下个月卖 8 欧元。对于管理者，需要知道销售发生时的具体价格，最简单的方法，便是将其存储。当然，有一些更优雅的办法，不过不在本文讨论之列。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="展示实体和关系-实体关系图-entity-relationship-diagram-erd">展示实体和关系： 实体关系图 Entity Relationship Diagram (ERD)<a class="hash-link" href="#展示实体和关系-实体关系图-entity-relationship-diagram-erd" title="Direct link to heading">​</a></h2><p>实体关系图提供数据库的整体预览，有几种类型和样式。比较常见的一种是 <code>crowfeet</code> 表示法，其中实体表示为矩形，关系表示为实体之间的线，线末端的样式表示关系的类型。强制关系通过破折号表示出来，非强制性实体通过圆圈表示。多 则通过 <code>crowfeet</code> 来表示，表示关系的线一分为 3。</p><p>一对一的强制关系如下：</p><p><em>Figure 7: Mandatory one to one relationship.</em><br>
<img loading="lazy" alt="1-1-mandatory.png" src="data:image/png;base64,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" width="240" height="49" class="img_ev3q"></p><p>一对多的强制关系如下：</p><p><em>Figure 8: Mandatory one to many relationship.</em><br>
<img loading="lazy" alt="1-n-mandatory.png" src="data:image/png;base64,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" width="236" height="45" class="img_ev3q"></p><p>多对多关系如下：</p><p><em>Figure 9: Mandatory many to many relationship.</em><br>
<img loading="lazy" alt="m-n.png" src="data:image/png;base64,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" width="245" height="51" class="img_ev3q"></p><p>我们例子中的数据模型如下：<br>
<em>Figure 10: Model with relationships.</em><br>
<img loading="lazy" alt="model-with-relationships.png" src="/assets/images/model-with-relationships-b65e7f44167dff03c6115df56d36211c.png" width="418" height="287" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="分配键-keys">分配键 Keys<a class="hash-link" href="#分配键-keys" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="主键-primary-keys-pk">主键 Primary Keys (PK)<a class="hash-link" href="#主键-primary-keys-pk" title="Direct link to heading">​</a></h3><p>主键是可以唯一标识一条实体的一个或多个属性。包含两个以上属性的键被称为组合键。主键的所有属性都不能为空，并且这些属性组成的值在表中必须是唯一的。</p><p>在我们的例子中有一些很明显的适合做主键的属性。顾客都有编号，产品都有独特的产品编号，销售也都有其编号。这些数据都是唯一的，并且每条记录都包含，所以可以做主键。一般我们用整数(integer)列作为主键，这样可以让通过主键检索数据变得容易。</p><p>链接实体(Link-entities)通常指向他们链接的实体的主键。链接实体的主键通常是这些引用属性的集合。比如，对于 Sales_details 实体，我们可以用 sales 和 products 的主键组合作为其主键。通过这种方式，我们可以确保一次销售中，对于特定产品，只能包含一次。</p><p>在 ERD 中，主键通过名称后面的<code>&lt;PK&gt;</code> 来表示。在我们的例子中，只有商店没有特别适合做主键的属性。为此，我们引入一个新的属性：<code>shopnr</code>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="外键-foreign-keys-fk">外键 Foreign Keys (FK)<a class="hash-link" href="#外键-foreign-keys-fk" title="Direct link to heading">​</a></h3><p>外键，是被当前实体引用的实体的主键。在 ERD 中，通过名称后面的 <code>&lt;FK&gt;</code> 来表示。外键也可以同时作为主键，此时用 <code>&lt;PF&gt;</code> 来表示。这种情况一般出现在链接表，因为对于两个实体，通常只需要链接一次。（在一次销售中，一个特定品类的产品只能被卖一次。）</p><p>添加键的标识之后，我们的数据模型将如下所示。值得注意的是，sales 表中不再需要 products，因为将会出现在 sold products 链接表中。与此同时，我们在链接表中添加了一个新的属性，数量 quantity。我们也在 stock 表中添加了这个属性，用以表示库存量。</p><p><em>Figure 11: Primary keys and foreign keys.</em><br>
<img loading="lazy" alt="pk-fk.png" src="/assets/images/pk-fk-8388abc356b74cd13a8f57aaa65d3d58.png" width="474" height="435" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="属性的数据类型">属性的数据类型<a class="hash-link" href="#属性的数据类型" title="Direct link to heading">​</a></h2><p>接下来需要决定的是属性的属性的数据类型。数据类型有很多，一些是标准的，另一些则是特定数据库特有的。一些数据库还可以自定义类型。</p><p>每个数据库都有的标准类型如下：CHAR, VARCHAR, TEXT, FLOAT, DOUBLE, and INT.</p><p>Text:</p><ul><li>CHAR(length) - 包含特定数量的字符 (characters, numbers, punctuations...). 比如 CHAR(10) 最多保存 10 位。但如果你只使用了两位，数据库依然会保存 10 位。剩余的 8 位将为空。</li><li>VARCHAR(length) - 包含字符，与 CHAR 类似，唯一区别是 VARCHAR 只占用必须得空间。</li><li>TEXT - 可以包含大量字符，取决于所用的数据库，甚至可能上 G。</li></ul><p>Numbers:</p><ul><li>INT - 包含一个正整数或负整数。许多数据库对其进行了扩展，比如  TINYINT, SMALLINT, MEDIUMINT, BIGINT, INT2, INT4, INT8。这些扩展相比于 INT，只改变了数字的位数。 INT 包含四字节 (INT4) ，适用于从 -2147483647 到 +2147483646 的数字。或者你也可以定义为无符号，用以表示 0 to 4294967296。INT8 或者 BIGINT，适用于更大的范围，从 0 到 18446744073709551616，于此同时，占用更多的空间，即使只是保存很小的数字。</li><li>FLOAT, DOUBLE - 与 INT 类似，可以用于保存浮点数。请注意，有时候他们工作并不如你的预期。比如，MySQL 对浮点数的计算并不完美，<code>(1/3) * 3</code> 得到的值将会是 0.9999999，而不是 1。</li></ul><p>其他类型：</p><ul><li>BLOB - 二进制数据，比如文件。</li><li>INET - 用以 IP 地址，以及子网掩码。</li></ul><p>添加类型后，我们的数据模型如下：</p><p><em>Figure 12: Data model displaying data types.</em><br>
<img loading="lazy" alt="data-types.png" src="/assets/images/data-types-b8557866c718edcb906236a8cbb4ac31.png" width="570" height="424" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="规范化-normalization">规范化 Normalization<a class="hash-link" href="#规范化-normalization" title="Direct link to heading">​</a></h2><p>规范化使数据模型灵活可靠。这会带来一些额外的开销，因为通常需要更多的表，但他也让你在无需调整数据库的情况下，可以做更多的事情。扩展阅读：<a href="https://www.datanamic.com/support/database-normalization.html" target="_blank" rel="noopener noreferrer">this article</a>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="第一种形式">第一种形式<a class="hash-link" href="#第一种形式" title="Direct link to heading">​</a></h3><p>第一种形式的规范化指出，实体中的列不可以重复。我们可以创建一个实体“sales”，其中包含所购买的每个产品的属性。它看起来是这样的:  </p><p><em>Figure 13: Not in 1st normal form.</em><br>
<img loading="lazy" alt="normalization-1-1.png" src="data:image/png;base64,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" width="107" height="140" class="img_ev3q"></p><p>这里面的错误在于，只有三种产品可以被售卖。如果你想售卖第四种产品，需要启动另一次销售，或增加一个属性 product4。这两种方法都不好。我们应该创建一个新的实体，并通过一对多的关系进行链接。</p><p><em>Figure 14: In accordance with 1st normal form.</em><br>
<img loading="lazy" alt="normalization-1-2.png" src="/assets/images/normalization-1-2-a70b577c30f9656f1c5f0d3702ebb04d.png" width="363" height="107" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="第二种形式">第二种形式<a class="hash-link" href="#第二种形式" title="Direct link to heading">​</a></h3><p> 第二种形式指出，实体的所有属性，都应该依赖主键。这意味着实体的每个属性只能通过整个主键来标识。假设我们在Sales_details实体中有日期：</p><p><em>Figure 15: Not in 2nd normal form.</em><br>
<img loading="lazy" alt="normalization-2-1.png" src="data:image/png;base64,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" width="147" height="130" class="img_ev3q"></p><p>这个实体不符合第二个规范化形式，因为为了能够查询销售日期，我不需要知道销售了什么(productnr)，只需要知道销售编号。通过将表分为 sales 和 Sales_details 来解决:</p><p><em>Figure 16: In accordance with 2nd normal form.</em><br>
<img loading="lazy" alt="normalization-2-2.png" src="/assets/images/normalization-2-2-a10af22c7beea858969b430e4c592d29.png" width="375" height="123" class="img_ev3q"></p><p>现在，实体的每一个属性，都只依赖于主键。日期只依赖于销售编号，数量依赖于销售编号以及销售的产品。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="第三种形式">第三种形式<a class="hash-link" href="#第三种形式" title="Direct link to heading">​</a></h3><p> 第三种形式指出，所有属性都应该直接依赖于主键，而不是其他属性。这看起来与第二种形式类似，事实确是相反。在第二种形式的规范化中，我们通过PK指出属性，在第三种形式的规范化中，每个属性都需要依赖于PK，而不是其他。</p><p><em>Figure 17: Not in 3rd normal form.</em><br>
<img loading="lazy" alt="normalization-3-1.png" src="data:image/png;base64,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" width="140" height="159" class="img_ev3q"></p><p>在上例中，产品价格依赖于订单编号，订单编号则依赖于销售编号和产品编号。这不符合第三种形式。同样，拆分表格来解决。</p><p><em>Figure 18: In accordance with 3rd normal form.</em><br>
<img loading="lazy" alt="normalization-3-2.png" src="/assets/images/normalization-3-2-c4ead591a35eb20bc4df31a369e62a7d.png" width="336" height="160" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="更多的形式">更多的形式<a class="hash-link" href="#更多的形式" title="Direct link to heading">​</a></h3><p>除了上述三种，规范化还有更多形式，但普通用户无需关心。其他形式更适用于特定应用。只需要遵从上述三种规范化，便可适用于大多数程序。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="正规化的数据模型">正规化的数据模型<a class="hash-link" href="#正规化的数据模型" title="Direct link to heading">​</a></h3><p>使用正规化规则，我们会发现，product 中的 manufacturer 也需要一张单独的表。</p><p><em>Figure 19: Data model in accordance with 1st, 2nd and 3d normal form.</em><br>
<img loading="lazy" alt="data-model-after-normalization.png" src="/assets/images/data-model-after-normalization-f2e67657950cc48c580ee0be23a9ee3f.png" width="570" height="424" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="词汇-glossary">词汇 Glossary<a class="hash-link" href="#词汇-glossary" title="Direct link to heading">​</a></h2><ul><li>属性 Attributes -实体的具体数据，比如价格、长度、名称。</li><li>基数 Cardinality - 两种实体间的关系，用数字表示。比如，一个人可以有多个订单。</li><li>实体 Entities - 抽象后的数据，存储在数据库中。比如，顾客，产品。</li><li>外键 Foreign key (FK) - 对于另一张表中主键的引用。外键列只能包含其引用的主键列中存在的值。</li><li>键 Key - 键用来指向其他记录。最常见的是主键。</li><li>规范化 Normalization - 一个灵活的数据模型需要遵循若干规则。应用这些规则的过程，被称为规范化  </li><li>主键 Primary key - one or more columns within a table that together form a unique combination of values by which each record can be pointed out separately. For example: customer numbers, or the serial number of a product.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">​</a></h4><p><strong>Learn</strong></p><ul><li><a href="https://www.datanamic.com/dezign/" target="_blank" rel="noopener noreferrer">DeZign for Databases</a>: Learn more about DeZign for Databases.</li><li><a href="https://www.datanamic.com/support/database-normalization.html" target="_blank" rel="noopener noreferrer">Database normalization</a>: Learn how to normalize a data model (1NF, 2NF, 3NF).</li><li><a href="https://www.datanamic.com/support/lt-dez001-getting-started-with-dezign.html" target="_blank" rel="noopener noreferrer">Getting started with DeZign for Databases</a>: Start making a data model directly.</li><li><a href="https://www.datanamic.com/support/lt-dez002-display-data-types-in-a-diagram.html" target="_blank" rel="noopener noreferrer">Display data types in a diagram</a>: Learn how to display data type and/or domain info in the entity boxes on your diagram.</li></ul><p><strong>Get products and technologies</strong></p><ul><li>Build your next data model with DeZign for Databases trial software, available for&nbsp;<a href="https://www.datanamic.com/download/" target="_blank" rel="noopener noreferrer">download</a>&nbsp;directly from Datanamic's download section.</li><li>Need (realistic) test data for your new database? Try out our&nbsp;<a href="https://www.datanamic.com/datagenerator/" target="_blank" rel="noopener noreferrer">data generator</a>.</li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[一些日常护眼措施]]></title>
            <link>https://wolffn.github.io/blog/2022/08/18/eyes</link>
            <guid>/2022/08/18/eyes</guid>
            <pubDate>Thu, 18 Aug 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[本文为 《从0.1到1.0：不用药，不开刀，也能拥有好视力》 内容摘抄整理。]]></description>
            <content:encoded><![CDATA[<blockquote><p>本文为 <a href="https://book.douban.com/subject/35152380/" target="_blank" rel="noopener noreferrer">《从0.1到1.0：不用药，不开刀，也能拥有好视力》</a> 内容摘抄整理。  </p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="锻炼">锻炼<a class="hash-link" href="#锻炼" title="Direct link to heading">​</a></h2><p>锻炼内脏根治疾病：原地弹跳比拉伸更有效</p><ul><li>在各种各样的运动中，用上下晃动身体的运动锻炼内脏（胃肠）效果最佳。</li><li>通过交互看向远处和近处的视力恢复法，可以改善睫状体的血液循环，但是，通过弹跳晃动内脏更能治本</li></ul><p>原地弹跳可以让“第二心脏”正常复苏</p><ul><li>弹跳<strong>一次跳 50～100 下</strong>，可以分早、中、晚3个时段来跳，争取<strong>一天跳500下</strong>。这足以让内脏出汗了。</li><li>若身体允许的话，深蹲也能起到很好的效果，争取<strong>一天深蹲100下</strong>就可以了。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="措施">措施<a class="hash-link" href="#措施" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="必读视力恢复法说明书">必读：视力恢复法说明书<a class="hash-link" href="#必读视力恢复法说明书" title="Direct link to heading">​</a></h3><p>我们先来确认一下自己现在的视力。</p><ul><li>用裸眼看一下广告牌或时钟上的数字。</li><li>找出眼睛刚好能够看清楚这些数字的临界距离，做一个记号。&nbsp;</li><li>今后，我们就以这个距离为基准对比视力的变化，每天都确认一下眼睛的状态。</li></ul><p>最理想的检查时间是在工作之后或洗澡之前，这个时间段疲劳程度差不多。<br>
<!-- -->若出现看不清或模糊的状况时，就说明眼睛累了，需要用锻炼法来恢复眼睛的状态。若出现越来越难看清楚的情况，则该马上到医院接受诊疗。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="拍打法在眼睛上跳跳踢踏舞恢复视力又美容">拍打法：在眼睛上跳跳踢踏舞，恢复视力又美容<a class="hash-link" href="#拍打法在眼睛上跳跳踢踏舞恢复视力又美容" title="Direct link to heading">​</a></h3><p>注意事项：</p><ul><li>每只手除大拇指外的四根手指，用指尖同时接触面部皮肤，有节奏地敲击。</li><li>敲击的速度是1秒钟3次，从步骤（1）开始，5秒内一共要敲击15次，力度要稍微大点。但如果皮肤变红，则说明力度太大了。</li><li>力度要注意保持在“疼得舒服”的程度。</li></ul><p>位置，如下图：</p><ol><li>沿着眉毛上方，从眉间向鬓角方向敲击；</li><li>沿着眼睛下1厘米处，从内眼角向外眼角方向敲击；</li><li>从鬓角向头顶方向敲击。  </li></ol><img loading="lazy" src="/assets/images/拍打法-3cd8a9bfe2a7a5b06dc1b26a7294bf4d.jpg" alt="拍打法" width="200" class="img_ev3q">;<p>如果有空，对手臂、腿部、指甲3个部位也可以进行拍打锻炼。毕竟，自律神经遍布全身各处，这样能更有效地促进自律神经运作。</p><ul><li>手臂的拍打法：用一只手的侧面敲击另一只手的手臂，范围是从肩关节到手肘，来回10次，手臂的内侧和外侧都要敲击。</li><li>腿部的拍打法：用手的侧面敲击腿部，范围是从脚踝到膝盖，来回10次，腿部内侧和外侧都要敲击。</li><li>指甲的拍打法：用一只手的拇指和食指捏住另一只手的指甲盖两侧，进行点捏，每根手指5次。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="摇动法手指晃动面部和头颈眼睛肌肤齐焕彩">摇动法：手指晃动面部和头颈，眼睛肌肤齐焕彩<a class="hash-link" href="#摇动法手指晃动面部和头颈眼睛肌肤齐焕彩" title="Direct link to heading">​</a></h3><ul><li>指尖轻轻地贴在面部皮肤上，上下左右摇动起来。</li><li>只把皮肤弄得起皱是不行的，还需要我们有意识地摇动皮肤下的肌肉。</li></ul><p>具体地，我们可以在6处位置采用摇动法进行训练。</p><ol><li>眉毛上方。四根手指与眉毛垂直，轻轻放到眉毛上，上下摇动5次。然后，手指向着额头发际线一点点垂直移动，并在小范围内轻轻进行抖动。</li><li>眼睛下方颧骨位置。四根手指放到颧骨上，左右摇动5次。手指向着耳朵方向一点点水平移动，并在小范围内轻轻进行摇动。</li><li>外眼角和鬓角之间。四根手指按在外眼角和鬓角之间，左右摇动5次。这时候手指摇动的位置，要比（2）手指最后所在的位置高2厘米。</li><li>双手手指按在耳朵或头部感觉舒服的位置，上下左右各摇动5次。</li><li>单手手掌捂住脖子后的颈椎，上下左右各摇动5次。</li><li>双手按在脖子两侧，上下左右各摇动5次。</li></ol><img loading="lazy" src="/assets/images/摇动法-1-6861a4e1a468adab3d07881be6c81971.jpg" alt="摇动法-1" width="200" class="img_ev3q"><img loading="lazy" src="/assets/images/摇动法-2-cd72619d9f1a4b4159d71c3bd2f9474e.jpg" alt="摇动法-2" width="200" class="img_ev3q"><img loading="lazy" src="/assets/images/摇动法-3-27ced463aa41e32cc1bf0b3f015da3e7.jpg" alt="摇动法-3" width="200" class="img_ev3q"><img loading="lazy" src="/assets/images/摇动法-4-97a6fef81c9d0901933cc94fbcaa86a1.jpg" alt="摇动法-4" width="200" class="img_ev3q"><img loading="lazy" src="/assets/images/摇动法-5-395ebfa1c2f57381c0e12641b9ae65ad.jpg" alt="摇动法-5" width="200" class="img_ev3q"><img loading="lazy" src="/assets/images/摇动法-6-c0bca9321e300903d86d5596c77cac78.jpg" alt="摇动法-6" width="200" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="指压法指压眼耳大穴疼得舒服眼睛才受用">指压法：指压眼耳大穴，疼得舒服，眼睛才受用<a class="hash-link" href="#指压法指压眼耳大穴疼得舒服眼睛才受用" title="Direct link to heading">​</a></h3><ul><li>用中指的指腹逐一按在眼睛周围的12个穴位上，每个穴位都轻轻地揉3圈后再轻轻地按3秒。</li><li>拇指和中指夹在耳朵的穴道上，施以3秒钟强烈的刺激。然后用拇指和食指揉遍整个耳朵。</li><li>不必在意穴位的正确位置。手指要比穴位范围大得多，所以手指按在大致的范围内就可以了。</li></ul><img loading="lazy" src="/assets/images/指压法-1-9a4aeb43b390bc2b453c3f8e09e4c0eb.jpg" alt="指压法-1" width="200" class="img_ev3q"><img loading="lazy" src="/assets/images/指压法-2-bc48df0730332e0b2b2c6fab0ec8acfa.jpg" alt="指压法-2" width="200" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="揉搓法7步揉搓眼周消灭眼疲劳黑眼圈和小皱纹">揉搓法：7步揉搓眼周，消灭眼疲劳、黑眼圈和小皱纹<a class="hash-link" href="#揉搓法7步揉搓眼周消灭眼疲劳黑眼圈和小皱纹" title="Direct link to heading">​</a></h3><ul><li>用双手中指的指腹轻轻揉搓肌肉。用意念想象手指正在发热，再缓缓揉搓，能提高效果。</li><li>关于揉搓的部位，眼睛上下各有3处。从眼睛内侧开始，一点点地往外揉搓，最后中指指尖轻轻地划过发际。</li><li>拇指按在下巴下方以作支撑。</li></ul><ol><li>中指指腹按在眉毛上方，向着外眼角方向揉搓5次。</li><li>中指指腹按在眉毛上，向着外眼角方向揉搓5次。</li><li>从眼睛上方的骨头凹陷处开始，用中指指腹按着，朝外眼角方向揉搓5次。</li><li>中指指腹按在眼睛下方5毫米处，向着外眼角方向揉搓5次。</li><li>中指指腹按在颧骨低洼处上方，向着外眼角方向揉搓5次。</li><li>中指指腹按在颧骨下方5毫米处，向着外眼角方向揉搓5次。</li><li>最后，中指指腹轻轻按在鬓角处3秒。</li></ol><img loading="lazy" src="/assets/images/揉搓法-1-95f10ec25089b87c52fbe27f9e0e6cbb.jpg" alt="揉搓法-1" width="200" class="img_ev3q"><img loading="lazy" src="/assets/images/揉搓法-2-438c89b47e49ce708c2699e2385ad29f.jpg" alt="揉搓法-2" width="200" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="呼吸法6秒口鼻并用视力恢复事半功倍">呼吸法：6秒口鼻并用，视力恢复事半功倍<a class="hash-link" href="#呼吸法6秒口鼻并用视力恢复事半功倍" title="Direct link to heading">​</a></h3><p>人们在使用电脑或手机时总是低着头，这种姿势会堵塞气管，使呼吸管变窄，呼吸道会细得跟水龙头漏水一样。在这样的姿势下，人们吸入的氧气只有人体氧气所需量的1/5。持续地缺氧，会对身体造成不良影响。<br>
<!-- -->只要呼吸时注意以下3点，改变呼吸的方法，就能锻炼呼吸系统，大大地改善眼睛的状态。</p><ol><li>要从鼻子吸气。</li><li>开始呼吸时，先从嘴巴呼气。</li><li>呼和吸都要持续6秒以上。</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="塑料瓶呼吸法每天50次塑料瓶长呼吸神清气爽面色好还能减肥">塑料瓶呼吸法：每天50次塑料瓶长呼吸，神清气爽面色好，还能减肥<a class="hash-link" href="#塑料瓶呼吸法每天50次塑料瓶长呼吸神清气爽面色好还能减肥" title="Direct link to heading">​</a></h4><p>让肺更有效率地吸入氧气，为大脑提供充足的氧，就需要用到塑料瓶呼吸法。我们先要准备一个500毫升的塑料瓶。</p><ol><li>用锥子在塑料瓶底开三个直径1.5～2毫米的小孔，3个孔要相互分开。</li><li>用嘴含住塑料瓶的瓶口，从鼻子深吸一口气，要持续6秒以上，再从嘴巴呼气。&nbsp;</li></ol><p>方法看似很简单，但却格外需要用力，可以让人切实感受到肺的功能正在被强化。</p><ul><li>刚开始时，一回做10次就可以了。</li><li>呼吸10次都觉得困难的，证明呼吸系统状态不佳。一般可以从5次开始，一点点地增加次数。</li><li>有些人在还没法做到10次时，若勉强做下去可能会头晕，所以请不要勉强。&nbsp;</li><li>大家要以一天做50次为目标。在每次工作或做家务中途休息时，做5～10次，目标会比想象中的容易达成。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="想象法放松大脑想象美好场景视野变清晰">想象法：放松大脑，想象美好场景，视野变清晰<a class="hash-link" href="#想象法放松大脑想象美好场景视野变清晰" title="Direct link to heading">​</a></h3><p>当我们的大脑出现疲劳状态时，请务必用以下2种方法来让大脑休息一下。</p><ol><li>闭上眼，想象一些能令自己放松，或感觉快乐、幸福的场景。一般只要想象1～5分钟就可以了。&nbsp;想象一下小时候在原野上奔跑的场景，或是新婚旅行时在夏威夷看到的景色，只要是想去的地方的景色，都可以。请想象着美丽的风景，回忆起快乐的事情，缓缓地放松自己的身心。&nbsp;消除大脑疲劳后，再做视力检测，基本上所有人的视力都会得到一定的恢复。虽然这效果只是暂时性的，但是不停地重复就会使效果长久稳定。想象完快乐的场景后，接下来就是激励大脑了。&nbsp;</li><li>回想一下小时候还没有戴眼镜或隐形眼镜时眼睛所看到的景色。回忆一下以前无须矫正视力也能看得清清楚楚的景色，例如学校的庭院或是与小伙伴们一起玩耍的空地等。大脑若能通过回想当年裸眼也能看清的情景恢复自信的话，它就会开始进行调整，努力让自己恢复以前的状态。</li></ol><p>想象法一天做多少回都不要紧，做得越多，大脑越能消除疲劳，恢复精神。大家想象后应该能感觉到视野变得清晰。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="确认法裸眼每日一测每天站远一点视力变好一点">确认法：裸眼每日一测，每天站远一点，视力变好一点<a class="hash-link" href="#确认法裸眼每日一测每天站远一点视力变好一点" title="Direct link to heading">​</a></h3><ol><li>首先要选定一个确认目标，例如海报上的文字，或日历上的数字。</li><li>然后移动到能彻底看清这目标的位置。&nbsp;</li><li>接下来就退一步，到有点难以看清目标的位置。如果退一步就看不见了，那么只退后几厘米也可以。</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="远眺法远眺也有秘诀小孔里练出好视力">远眺法：远眺也有秘诀，小孔里练出好视力<a class="hash-link" href="#远眺法远眺也有秘诀小孔里练出好视力" title="Direct link to heading">​</a></h3><p>远眺法同样要用裸眼进行。  </p><ol><li>选定1个裸眼看起来模糊不清的目标，例如日历上的数字。</li><li>双手五指屈卷，前后叠在一起，通过中间的小孔看向目标。孔要尽可能小，小到正好能看到数字就够了。孔太大目标看起来会模模糊糊的。</li><li>保持这种状态，盯着目标看20～30秒，让大脑牢记看得见的感觉。</li></ol><p>远眺吧！带着仿佛置身非洲大草原的心情
希望大家能养成频繁远眺的习惯，可以的话最好每10分钟远眺一次。<br>
<!-- -->从窗户望出去，看一下停在电线上的鸟，或稍远处的行道树（种植在道路两侧及分车带的树木）。<br>
<!-- -->太阳下山之后，可以抬头仰望月亮……养成远眺的习惯后，眼睛和大脑都能得到放松，有百利而无一害。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="其他">其他<a class="hash-link" href="#其他" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="别挑食多吃能让细胞重获新生的受欢迎食物">别挑食！多吃能让细胞重获新生的受欢迎食物<a class="hash-link" href="#别挑食多吃能让细胞重获新生的受欢迎食物" title="Direct link to heading">​</a></h4><p>萝卜、南瓜、红辣椒、油菜等蔬菜中富含大量的β-胡萝卜素，而西红柿、橘子等食物中则富含大量维生素C。大家平时要多吃这些食物。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="别熬夜12点前睡觉视力能以3倍速度恢复">别熬夜！12点前睡觉视力能以3倍速度恢复<a class="hash-link" href="#别熬夜12点前睡觉视力能以3倍速度恢复" title="Direct link to heading">​</a></h4><p>人体内促进修复身体的成长激素依旧只会在晚上睡觉时分泌。身心的疲劳只有在睡觉时才会得到恢复。早上若不出去晒晒太阳，自律神经也会出现紊乱。<br>
<!-- -->而我希望大家遵守的就寝时间是晚上12点之前。因为，一到凌晨3点，睡眠就会逐渐变浅，只在深度睡眠时才会更多地分泌生长激素。过了时间，分泌效率就会变低。若以为成年人不需要什么生长激素，那就大错特错了。生长激素能促进人体修复脆弱的部分，也是抗衰老不可或缺的激素。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="减压力身心俱疲的时候该培养个兴趣了">减压力！身心俱疲的时候该培养个兴趣了<a class="hash-link" href="#减压力身心俱疲的时候该培养个兴趣了" title="Direct link to heading">​</a></h4><p>沉浸于兴趣中有助于消除压力。哪怕只有一小会儿，埋头做某事也能将压力的源头彻底排出大脑，转换心情。这能拯救你的眼睛。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="简单操作守护全家人的眼睛和健康">简单操作，守护全家人的眼睛和健康<a class="hash-link" href="#简单操作守护全家人的眼睛和健康" title="Direct link to heading">​</a></h4><ul><li>无论何时，只要你相信今后会比现在好，好好珍惜自己的眼睛，继续进行今野式视力恢复训练，你的身体就一定会好起来。</li><li>最大限度地激活人体本来拥有的力量——这是今野式一贯坚持的信条，相信人体自身的治愈力能改善身体的一切不适。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="理论">理论<a class="hash-link" href="#理论" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="药物不可取">药物不可取<a class="hash-link" href="#药物不可取" title="Direct link to heading">​</a></h3><p>人不停地吃药，会给负责解毒的肝脏造成负担，阻碍自愈力的发挥。因为眼睛和肝脏有很深的联系，所以，不停地吃药会延缓眼睛的恢复。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="身体发出的救命信号">身体发出的救命信号<a class="hash-link" href="#身体发出的救命信号" title="Direct link to heading">​</a></h3><p>过度用眼的人或眼睛有问题的人眼球都会发硬。<strong>试着闭上眼，隔着眼皮用中指轻轻按压整个眼球。</strong>但请千万不要用力按压。理想状态的眼球，按下去应该会像大福饼（也称夹心糯米团，是一种点心，与放大版的汤圆很像）一样<strong>柔软且有弹性</strong>。&nbsp;若眼球按压手感比大福饼硬的话，则很有可能是晶状体正在硬化。晶状体一旦开始硬化，患上白内障、青光眼的概率也会随之增高。如果家里有小孩的话，可以轻轻地隔着眼皮，摸一下他的眼球。小孩子的眼球应该是相当有弹性的。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="青光眼----轮流捂住双眼看周围视野缺失">青光眼 -- 轮流捂住双眼看周围视野缺失<a class="hash-link" href="#青光眼----轮流捂住双眼看周围视野缺失" title="Direct link to heading">​</a></h3><p>青光眼不会有疼痛现象，所以一般发现得比较晚。但青光眼引起的视野缺失是无法恢复的，最好是趁早发现。青光眼很多时候都是单边眼睛出现视野缺失，所以必须要<strong>两只眼睛轮流看同一片景物以检查是否有视野缺失。</strong></p><ul><li>用右手遮住右眼，用左眼看完后，再换左手遮住左眼，用右眼看。</li><li>不要只看眼前的事物，要让眼球转动一圈，看遍所有的角度，好好确认有没有看不见的范围。</li></ul><p>两只眼睛一起看的时候，即便一只眼出现了视野缺失，另一只眼也会将缺失视野补上，所以无法察觉。如果只有一只眼出现视野狭窄或部分视野模糊的现象，则说明青光眼很严重了，请赶紧找医生接受诊察，并开始按第4章所述方法开始锻炼</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="老花">老花<a class="hash-link" href="#老花" title="Direct link to heading">​</a></h3><p>试着先盯着20米外的广告牌看几秒，然后再将视线移回到手中的书上，看那些细小的印刷字体。若需要<strong>花上几秒来重新聚焦</strong>才能看清，则说明你已得老花眼。</p>]]></content:encoded>
            <category>health</category>
        </item>
        <item>
            <title><![CDATA[【转载】30条编程名言佳句]]></title>
            <link>https://wolffn.github.io/blog/2020/10/07/30条编程名言佳句</link>
            <guid>/2020/10/07/30条编程名言佳句</guid>
            <pubDate>Wed, 07 Oct 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[以下内容收集自一些优秀的技术书籍章节开头的名言佳句，非常有意思，直接或间接反映了软件开发中的一些事情。]]></description>
            <content:encoded><![CDATA[<blockquote><p>以下内容收集自一些优秀的技术书籍章节开头的名言佳句，非常有意思，直接或间接反映了软件开发中的一些事情。  </p></blockquote><blockquote><p>网上很多，都是转载，未找到原作者，故未附出处</p></blockquote><p>生命太短暂，不要去做一些根本没有人想要的东西。——Ash Maurya</p><p>如果你交给某人一个程序，你将折磨他一整天；如果你教某人如何编写程序，你将折磨他一辈子。——David Leinweber</p><p>软件设计有两种方式：一种方式是，使软件过于简单，明显没有缺陷；另一种方式是，使软件过于复杂，没有明显的缺陷。——C.A.R. Hoare</p><p>其实，我尝试着使 Ruby 更自然，而不是简单。Ruby 看起来很简单，但内部是非常复杂的，就像我们的身体一样。——松本行弘，Ruby 之父</p><p>大部分情况下，构建程序的过程本质上是对规范调试的过程。——Fred Brooks，《人月神话》作者</p><p>软件开发往往是这样：最开始的 90% 代码占用了开始的 90% 的开发时间；剩下 10% 代码同样需要 90% 的开发时间。——Tom Cargill</p><p>当你试图解决一个你不理解的问题时，复杂化就产成了。——Andy Boothe</p><p>用几个小时来制定计划，可以节省几周的编程时间。—— 匿名</p><p>控制复杂性是计算机编程的本质。—— Brian Kernighan</p><p>计算机科学领域的所有问题都可以通过其他方式间接解决。——David Wheeler</p><p>编程是两队人马在竞争：软件工程师努力设计出最大最好的连白痴都会使用的程序；而宇宙在拼命制造最大最好的白痴。到目前为止，宇宙是胜利者。—— Rick Cook</p><p>调试一个初次见到的代码比重写代码要困难两倍。因此，按照定义，如果你写代码非常巧妙，那么没有人足够聪明来调试它。—— Brian W. Kernighan</p><p><img loading="lazy" alt="Steve Jobs" src="/assets/images/steve-jobs-40f12f77ecc97978ea6cf7b60d7de682.jpg" width="700" height="394" class="img_ev3q"></p><p>我不是一个伟大的程序员，我只是一个具有良好习惯的优秀程序员。― Kent Beck</p><p>你们中大多数人都熟悉程序员的美德，有三种：那就是懒惰、急躁和傲慢。- Larry Wall，Perl 語言发明人</p><p>任何一个傻瓜都会写能够让机器理解的代码，只有好的程序员才能写出人类可以理解的代码。——Martin Fowler</p><p>靠代码行数来衡量开发进度，就像是凭重量来衡量飞机制造的进度。——比尔·盖茨</p><p>这不是一个 bug，这只是一个未列出来的特性。——匿名</p><p>作为一个程序员，郁闷的事情是，面对一个代码块，却不敢去修改。更糟糕的是，这个代码块还是自己写的。—— Peyton Jones</p><p>它在我的机器上可以很好运行！——大部分程序员</p><p>能说算不上什么，有本事就把你的代码给我看看。——Linus Torvalds，Linux 之父</p><p>我认为对象就像是生物学里的细胞，或者网络中的一台计算机，只能够通过消息来通信——Alan Kay，Smalltalk 的发明人，面向对象之父</p><p>当你选择了一种语言，意味着你还选择了一组技术、一个社区。——Joshua Bloch</p><p>质量、速度、廉价，选择其中两个。——匿名</p><p>过早的优化是罪恶之源。——Donald Knuth</p><p>没有什么代码的执行速度比空代码更快。——Merb 核心原则</p><p>如果你是房间里最聪明的人，那么你走错房间了。——匿名</p><p>如果只需更改一个单一的代码行，你的部门需要花费多长时间？——Mary Poppendieck</p><p>九个人不能让一个孩子在一个月内出生。——Fred Brooks，《人月神话》作者</p><p>好代码本身就是最好的文档。当你需要添加一个注释时，你应该考虑如何修改代码才能不需要注释。——Steve McConnell，Code Complete 作者</p><p>一个人在教会电脑之前，别说他真正理解这个东西了。——Donald Knuth</p>]]></content:encoded>
            <category>read</category>
        </item>
        <item>
            <title><![CDATA[Create React App 中的 Webpack 优化]]></title>
            <link>https://wolffn.github.io/blog/2020/07/17/Create React App 中的 Webpack 优化</link>
            <guid>/2020/07/17/Create React App 中的 Webpack 优化</guid>
            <pubDate>Fri, 17 Jul 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[Create React App 创建的工程，一段时间后，打包速度越来越慢。我对速度和打包体积做了初步的优化，本文记录大概过程。]]></description>
            <content:encoded><![CDATA[<p>Create React App 创建的工程，一段时间后，打包速度越来越慢。我对速度和打包体积做了初步的优化，本文记录大概过程。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="优化方式">优化方式<a class="hash-link" href="#优化方式" title="Direct link to heading">​</a></h2><p>比较主流的优化方式有如下几种：</p><ol><li><code>react-scripts</code> 提供了 <code>eject</code> 的方式，将其托管的 <code>webpack</code> 配置全部弹出。<ul><li>优点：完全掌控配置。</li><li>缺点：代码包复杂度增加，而且是与业务逻辑无关的配置。</li></ul></li><li>自己维护一个包，替换 <code>react-scripts</code><ul><li>优点：完全掌控配置，不会给业务代码包增加复杂度，且可以跨项目使用</li><li>缺点：维护额外的包，发布等工作量</li></ul></li><li><code>react-app-rewired</code> + <code>customize-cra</code>，项目中替换部分配置<ul><li>优点：不需要额外围护代码包，与此同时不给业务代码包带来过多的额外内容。</li><li>缺点：隔靴搔痒的感觉。一些深度侵入的配置改动会比较麻烦。</li></ul></li></ol><p>综上，方案 2 应该是最佳选择。考虑到优化带来的效果不明，以及 2 的前期额外投入，我们暂时先采取方案 3，待效果明显或遇到瓶颈后，切换方案 2 。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rewired">rewired<a class="hash-link" href="#rewired" title="Direct link to heading">​</a></h2><p>安装依赖</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -D react-app-rewired customize-cra</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>根目录创建文件 <code>config-overrides.js</code></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* config-overrides.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">override</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">config</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> env</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//do stuff with the webpack config...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>修改 <code>package.json</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* package.json */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"scripts"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"start"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"react-app-rewired start"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"build"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"react-app-rewired build"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"test"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"react-app-rewired test"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"eject"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"react-scripts eject"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="测量手段">测量手段<a class="hash-link" href="#测量手段" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="打包体积">打包体积<a class="hash-link" href="#打包体积" title="Direct link to heading">​</a></h4><p>最终校验手段，可以看每次打包后的输出，也可以在 Devtool -&gt; Networks 中看包大小。</p><p>优化过程中，我们引入 <code>BundleAnalyzerPlugin</code> 来查看 bundle 的组成。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -D webpack-bundle-analyzer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> override</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> addWebpackPlugin </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'customize-cra'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">BundleAnalyzerPlugin</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'webpack-bundle-analyzer'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">BundleAnalyzerPlugin</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">override</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">addWebpackPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BundleAnalyzerPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>加入插件后，打包结束后会在 <code>127.0.0.0:8888</code> 通过可视化手段展示打包组成图。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="速度">速度<a class="hash-link" href="#速度" title="Direct link to heading">​</a></h4><p>通过 <code>time</code> 命令可以直观查看。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">time</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>优化过程中，为了方便查看各个步骤所用时间，我们引入 <code>SpeedMeasurePlugin</code>。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -D speed-measure-webpack-plugin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">SpeedMeasurePlugin</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'speed-measure-webpack-plugin'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">useSMP</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">config</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">SpeedMeasurePlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">wrap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">override</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">useSMP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sourcemap">SourceMap<a class="hash-link" href="#sourcemap" title="Direct link to heading">​</a></h2><p><a href="https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/config/webpack.config.js" target="_blank" rel="noopener noreferrer">react-scripts</a> 中关于 <code>devtool</code> 的配置如下：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">devtool</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> isEnvProduction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> shouldUseSourceMap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'source-map'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> isEnvDevelopment </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'cheap-module-source-map'</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>显然，在 prod 环境使用 source-map 意义不大。所以此处我们对该配置进行覆盖。</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">rewiredMap</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">config</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">devtool</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">mode</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'development'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'cheap-module-source-map'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// only for debug in test env</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// config.devtool = 'source-map';</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">override</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rewiredMap</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此外，如果未在项目中对 webpack 进行 override，通过对环境变量赋值也可以达到该目的。只需要修改 <code>package.json</code>。</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">"build"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"GENERATE_SOURCEMAP=false react-scripts build"</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="happypack">HappyPack<a class="hash-link" href="#happypack" title="Direct link to heading">​</a></h2><p><a href="https://github.com/amireh/happypack" target="_blank" rel="noopener noreferrer">Happy Pack</a> 通过将打包过程并行，进行优化。由于该配置对已有配置侵入性比较强，我选择了<code>react-app-rewire-happy-pack</code> 来处理这一过程</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -D react-app-rewire-happy-pack</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rewireHappyPackLoader </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'react-app-rewire-happy-pack'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">useHappyPack</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">config</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rewireHappyPackLoader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">override</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">useHappyPack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>遗憾的是，该步骤并未能压缩打包时间，反而加长了打包时间。初步推测可能 webpack 自己对该部分进行了优化，而该 package 已经很久没有新的发布，可能未适配 webpack 的更新。</p><p>社区还有其他一些并行打包方案，后续可以研究下。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="externals">Externals<a class="hash-link" href="#externals" title="Direct link to heading">​</a></h2><p>该配置主要是抽出项目中的依赖，将其在 html 中以 link 或 script 的形式引入。既降低了打包体积，又减少了打包时间。</p><p>首先找到这些依赖的打包版本。可以查看其官网，也可以直接去 cdn 网战找，推荐 <a href="https://www.bootcdn.cn/" target="_blank" rel="noopener noreferrer">bootcdn</a>。</p><p>然后下载这些打包文件，发布到 cdn。如果个人项目，可以直接使用 bootcdn 的版本。公司项目，还是不要偷懒，发布到公司的 cdn 或者其他付费 cdn，避免依赖引起的可用性问题。</p><p>接下来，在 <code>public/index.html</code> 中添加链接。</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">//cdn.bootcdn.net/ajax/libs/antd/4.3.4/antd.min.css</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">//cdn.bootcdn.net/ajax/libs/react/16.12.0/umd/react.production.min.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">//cdn.bootcdn.net/ajax/libs/react-dom/16.12.0/umd/react-dom.production.min.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">//cdn.bootcdn.net/ajax/libs/redux/4.0.5/redux.min.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">//cdn.bootcdn.net/ajax/libs/lodash.js/4.17.15/lodash.min.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">//cdn.bootcdn.net/ajax/libs/moment.js/2.27.0/moment.min.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">//cdn.bootcdn.net/ajax/libs/moment.js/2.27.0/locale/zh-cn.min.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">//cdn.bootcdn.net/ajax/libs/antd/4.3.4/antd-with-locales.min.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>最后，override config</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">useExternal</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">config</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">externals</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">react</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'React'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">'react-dom'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'ReactDOM'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">redux</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Redux'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">lodash</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'_'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">moment</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'moment'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">'moment/locale/zh-cn'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'moment.locale'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">antd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'antd'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">override</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">useExternal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>antd</code> 里面国际化相关的代码，还要做一点改动</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// import zhCN from 'antd/es/locale/zh_CN';</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> locales </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'antd'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">ReactDOM</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">ConfigProvider</span><span class="token plain"> locale</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">locales</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">zh_CN</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">ConfigProvider</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'root'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>经过这些操作后，打包时间大幅减少，bundle analyzer 中依赖所占比例也降低了很多。</p><p>该过程中，我发现了社区有一个 package，可以通过配置的方式增加 external。这样写法更优雅一些，同时打包时间还减少了。。。我实在是不知道为什么。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -D html-webpack-externals-plugin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">HtmlWebpackExternalsPlugin</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'html-webpack-externals-plugin'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> externals </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">module</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'antd'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">entry</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">'//cdn.bootcdn.net/ajax/libs/antd/4.3.4/antd-with-locales.min.js'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">global</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'antd'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">module</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'antd-css'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">entry</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'//cdn.bootcdn.net/ajax/libs/antd/4.3.4/antd.min.css'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">override</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">addWebpackPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HtmlWebpackExternalsPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> externals </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="todo">TODO<a class="hash-link" href="#todo" title="Direct link to heading">​</a></h2><p>上述就是我的初步优化。属于比较粗糙的对最明显的步骤的优化，肉眼可见的速度优化，后续细节优化还需要进一步研究。</p>]]></content:encoded>
            <category>webpack</category>
        </item>
        <item>
            <title><![CDATA[QCon上海2019见闻]]></title>
            <link>https://wolffn.github.io/blog/2019/10/23/QCon上海2019见闻</link>
            <guid>/2019/10/23/QCon上海2019见闻</guid>
            <pubDate>Wed, 23 Oct 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[前段时间有幸去上海参加了Qcon，聆听了业界一些优秀经验、实践的分享，感觉收获很大。尤其对两个分享感触比较深，分别是美团田泱同学分享的： 《云+端一体化：前端工程化探索》，以及字节跳动艾石光同学分享的《微前端在字节跳动的落地》。两个分享虽然落地点不同，但是解决的却是同一个问题：开发效率。]]></description>
            <content:encoded><![CDATA[<p>前段时间有幸去上海参加了Qcon，聆听了业界一些优秀经验、实践的分享，感觉收获很大。尤其对两个分享感触比较深，分别是美团田泱同学分享的： 《云+端一体化：前端工程化探索》，以及字节跳动艾石光同学分享的《微前端在字节跳动的落地》。两个分享虽然落地点不同，但是解决的却是同一个问题：开发效率。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="微前端在字节跳动的落地">微前端在字节跳动的落地<a class="hash-link" href="#微前端在字节跳动的落地" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="问题">问题<a class="hash-link" href="#问题" title="Direct link to heading">​</a></h3><ul><li><p>Monolithic 应用，build / deploy / rollback 慢，无法应对应用体量增大后，大量上线诉求。</p></li><li><p>框架无法调整</p></li><li><p>工程巨大难以理解，消耗过多认知资源</p><blockquote><p>每个人认知是一个有限的资源池，做一件事情时，牺牲掉注意力越多，分配到其他事情注意力越少；需要注意的东西越多，犯错的概率越大。</p></blockquote></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="解决方案">解决方案<a class="hash-link" href="#解决方案" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-服务发现">1. 服务发现<a class="hash-link" href="#1-服务发现" title="Direct link to heading">​</a></h4><p>将服务进行分拆，解除耦合。由此解决 Monolithic 应用带来的问题，实现独立运维，急速上线下线，流量分发，问题追踪。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-运行隔离">2. 运行隔离<a class="hash-link" href="#2-运行隔离" title="Direct link to heading">​</a></h4><p>之前各个业务运行在一起，互相之间形成干扰，达到了一个很严重的程度。主要包括：</p><ol><li>一些模块/组件（或其依赖）对 Javascript 原型链的修改，对其他模块/组件形成干扰，带来bug。</li><li>CSS选择器互相干扰。</li></ol><p>主要通过 Sandbox 解决。为 CSS，DOM，变量、数据采集、sentry、localstorage 等添加沙盒。此外还引入了时序，并且对 polyfill 和其他 delete 情况作了特殊处理</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-环境一致">3. 环境一致<a class="hash-link" href="#3-环境一致" title="Direct link to heading">​</a></h4><p>这一块主要解决环境带来的问题。为了开发体验好，效率高，不论 serverless 还是 container，都坚持要有本地开发环境，并与线上保持一致。</p><p>通过命令启动 chrome ，leverage chrome 在 debug 方面的相关能力，引入对 timeout，memory，runtimes，API Gateway 等相关模拟。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-其他">4. 其他<a class="hash-link" href="#4-其他" title="Direct link to heading">​</a></h4><p>拆分主工程和业务模块，统一数据采集、复杂事件分析。规范和灵活动态统一等。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="云端一体化前端工程化探索">云+端一体化：前端工程化探索<a class="hash-link" href="#云端一体化前端工程化探索" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="问题-1">问题<a class="hash-link" href="#问题-1" title="Direct link to heading">​</a></h3><p>田泱同学（以下简称”演讲者“）由三年前一次与老板的对话引出话题。当时的情景是，老板提出一个简单的需求，演讲者给了一个比较久的排期。老板对此不理解，认为不应该这么久。由此引起了演讲者对前端开发效率的思考，并为自己和团队提出了<strong>5分钟上线一个MVP项目</strong>的终极目标。</p><p>经过思考，前端开发效率低，主要问题是工程师距离业务逻辑较远，经常是支持多个业务，每个业务都不深入。团队组织不利于工程化。常见的团队划分方式有两种：</p><p><img loading="lazy" alt="按职能划分" src="/assets/images/fe-team-func-0a472f6b75cded74de04d7ebd0efa736.jpg" width="672" height="494" class="img_ev3q"></p><ul><li>按职能划分，一个大前端团队，支撑多个业务<ul><li>优点：氛围好，团队稳定</li><li>缺点：响应慢，协同效率低</li></ul></li></ul><p><img loading="lazy" alt="按业务划分" src="/assets/images/fe-team-business-56fe625691ae16ba96c3694d6a5526f6.jpg" width="690" height="352" class="img_ev3q"></p><ul><li>按业务线划分，分成多个小前端团队，嵌入各个业务team<ul><li>优点：响应快，协同效率⾼</li><li>缺点：氛围差，团队不不稳定</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="解决方案-1">解决方案<a class="hash-link" href="#解决方案-1" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="团队组织进化">团队组织进化<a class="hash-link" href="#团队组织进化" title="Direct link to heading">​</a></h4><p>进阶：按业务划分基础上，增加基础服务团队，并且在业务小团队中，有部分力量支持基础服务。</p><p>基础团队主要职责：制定规范，制定框架，开发工具，其他服务。</p><p><img loading="lazy" alt="进阶" src="/assets/images/fe-team-pro-58d692af22b79db8bdaee71a7eae063d.jpg" width="690" height="510" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="团队合作">团队合作<a class="hash-link" href="#团队合作" title="Direct link to heading">​</a></h4><p>职责清晰后，比之前的情况有了很大改观。即使如此，依然会有一些问题：</p><ul><li>基建同学：维护压力，业务方无法理解工具用法，需求又很多。</li><li>业务同学：成长诉求，以及可能对工具不满意。</li></ul><p>解决方案就是业务团队与基础服务团队的交集。可能是业务团队部分同学，做基础服务的业务；也可能是业务同学部分精力支持基础服务。基建团队承担主要维护压力，业务分摊部分功能的维护压力。交集存在后，合作流畅很多，基础团队能给给业务团队更多赋能。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="技术方案与流程规范">技术方案与流程规范<a class="hash-link" href="#技术方案与流程规范" title="Direct link to heading">​</a></h4><p>分享者提出了一个开发实践中的效率公式：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">效率 = 技术方案的完善程度 x 流程规范的可执行性</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>技术方案不完善：业务分摊部分功能维护压力，按层级分配职责同时，通过插件机制反哺：<ul><li>大前端委员会，各组TL：制定前端工程规范标准</li><li>各团队架构师：基于标准实现内核Loader，Tools工具链，以及Plugin插件。</li><li>各业务线骨干：开发适合特定业务场景的Template</li><li>各业务线的一线开发同学：基于Template进行二次开发</li><li>在此基础上，各个业务线的骨干、一线开发同学，通过贡献Plugin插件，反哺架构师的工作。</li></ul></li><li>流程规范不彻底：流程学习成本高，问题解决意愿低。<ul><li>主要通过GUI可视化工具解决。将流程，问题暴露在开发过程中。流程可视化，透明可见，执行成本更低。</li><li>GUI工具的主要功能：代码检查（兼容性，版本），Lint &amp; Test，Buid，Deploy，各个流程审批。</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="faas">Faas<a class="hash-link" href="#faas" title="Direct link to heading">​</a></h4><p>运维成本是阻碍 Node.js 在企业落地的绊脚石，通过 Faas 实现 Serverless，带来了耕地的学习成本、开发成本、运维成本。据演讲者称，能够带来20倍提升。主要有以下好处：</p><ul><li>运维托管，降低运维成本，”不用管“</li><li>无缝迁移，降低开发成本，利于方案推广，”不用学“</li><li>集中运行，充分利用机器资源，解决 nodejs 资源利用率低带来的浪费。与此同时，将 worker 分为以下两种模式，进一步提高资源利用率：<ul><li>Process模式，计算型，独享进程资源，通信效率低，适合计算型函数</li><li>Thread模式，响应型，共享进程资源，通信效率高，适合响应型函数，HTTP/MQ trigger</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference<a class="hash-link" href="#reference" title="Direct link to heading">​</a></h2><ul><li><a href="https://qcon.infoq.cn/2019/shanghai/presentation/2021" target="_blank" rel="noopener noreferrer">前端微服务在字节跳动的打磨与应用</a></li><li><a href="https://qcon.infoq.cn/2019/shanghai/presentation/2008" target="_blank" rel="noopener noreferrer">云+端一体化：前端工程化探索</a></li></ul>]]></content:encoded>
            <category>qconf</category>
        </item>
        <item>
            <title><![CDATA[《子弹笔记》行动指南]]></title>
            <link>https://wolffn.github.io/blog/2019/05/20/《子弹笔记》行动指南</link>
            <guid>/2019/05/20/《子弹笔记》行动指南</guid>
            <pubDate>Mon, 20 May 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[核心思想]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="核心思想">核心思想<a class="hash-link" href="#核心思想" title="Direct link to heading">​</a></h2><ul><li>集<strong>规划簿</strong>、<strong>日记本</strong>、<strong>笔记本</strong>、<strong>todo list</strong>、<strong>速写簿</strong>于一身。</li><li>想要成功应对周围世界，我们必须看清自己的内心。</li><li>动手写字 -&gt; 思想在神经层面沉浸于当下。</li><li><strong>整理思绪</strong>，从客观角度出发，审视自己的想法。</li><li>拒绝被动回应，开始主动应对</li><li>信息过载比筋疲力竭或吸食大麻更不利于我们集中注意力。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="有意向性的生活">有意向性的生活<a class="hash-link" href="#有意向性的生活" title="Direct link to heading">​</a></h3><p>遵循信念行动，描绘一个你坚信的，并能让你感动的生活故事。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="决策规避">决策规避<a class="hash-link" href="#决策规避" title="Direct link to heading">​</a></h3><p>每天的生活中，我们都面对决策疲劳。抓住生活中每一个能够用来减少做选择的机会。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="长路即捷径">"长路即捷径"<a class="hash-link" href="#长路即捷径" title="Direct link to heading">​</a></h3><p>真正的效率无关速度，在于为真正重要的事情留出了多少时间。
动手写字的意义：</p><ul><li>帮助记忆力欠佳的人保持条理</li><li>抵御年龄对记忆的损害</li><li>抓住慢慢思考的机会</li><li>把有价值的信息从喧嚣中摘选出来</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="结构">结构<a class="hash-link" href="#结构" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="思想清单p43">思想清单(P43)<a class="hash-link" href="#思想清单p43" title="Direct link to heading">​</a></h3><p>找一张纸，分三列，列出：</p><ol><li>正在做</li><li>应该做</li><li>想要做</li></ol><p>之后，在其中选出自己真正需要做的事情。如何判断：</p><blockquote><p>这件事情，紧急吗？重要吗？没完成会怎样？一直不完成会怎样？</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="笔记分类">笔记分类<a class="hash-link" href="#笔记分类" title="Direct link to heading">​</a></h3><ol><li>Task<ul><li><code>.</code>，任务</li><li><code>x</code>，任务完成</li><li><code>&gt;</code>，迁移至下一个时间段，或个性化集子</li><li><code>&lt;</code>，暂时不做，迁移至Feature Log</li><li>横线划过的<code>.</code>，决定不做的任务</li><li><code>+</code> ，长篇笔记</li></ul></li><li>Event <code>。</code>，简明，客观，及时</li><li>Note <code>-</code> ，提炼和新，积极聆听，深度回顾；考虑可读性，写给未来的自己。</li><li>Signfier：<ul><li><code>*</code>，优先</li><li><code>!</code>，灵感</li><li><code>/</code>或<code>@</code>，由谁负责</li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="collection">Collection<a class="hash-link" href="#collection" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="index">Index<a class="hash-link" href="#index" title="Direct link to heading">​</a></h4><p><strong>4页</strong>，位于正本笔记开头，为collection、次集子提供专用索引。
可以使用引线法，连接不在一起的相关任务。
价值：一览时间、精力投向何方，在值得做的事情上保持专注。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="future-log">Future Log<a class="hash-link" href="#future-log" title="Direct link to heading">​</a></h4><p><strong>2-4页</strong>。</p><ul><li>每日反思时，一部分任务迁移至Future；</li><li>月度规划时，从Future取出部分任务。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="monthly-log">Monthly Log<a class="hash-link" href="#monthly-log" title="Direct link to heading">​</a></h4><p><strong>2页</strong>，分别为：</p><ul><li>Calendar<ul><li>第一列留用做标记</li><li>第二列为日期、星期(比如，<code>1 一</code>，<code>13 五</code>)</li><li>第三列为日历事项或做过的事情，可以事后记录。</li></ul></li><li>Tasks，不断更新，梳理大脑。创建阅读记录时，从上月转移过来。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="daily-log">Daily Log<a class="hash-link" href="#daily-log" title="Direct link to heading">​</a></h4><p>每日记录，安心地表达自我。
主要内容是todo，record，需要提供对背景的认识，供翻阅反思
当天开始，或前一天晚上动笔</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="个性化collection">个性化Collection<a class="hash-link" href="#个性化collection" title="Direct link to heading">​</a></h4><p>来源：目标，难题，任务
步骤：头脑风暴，审视动机，设计，计划
计划（以旅行为例）：任务描述，目的地，活动，时间，预算
清单（有效辩解地整理内容）：分清主次，背景信息
行程：地点、时间、事件</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="任务迁移">任务迁移<a class="hash-link" href="#任务迁移" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="月度迁移">月度迁移<a class="hash-link" href="#月度迁移" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="每月开始时回顾上月任务">每月开始时，回顾上月任务：<a class="hash-link" href="#每月开始时回顾上月任务" title="Direct link to heading">​</a></h4><blockquote><p>为什么未完成？紧急吗？重要吗？未完成的后果？
剔除</p></blockquote><p><code>&gt;</code>，迁移至下月记录，个性化集子
<code>&lt;</code>，迁移至Future Log</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="检查future-log">检查Future Log<a class="hash-link" href="#检查future-log" title="Direct link to heading">​</a></h4><h3 class="anchor anchorWithStickyNavbar_LWe7" id="年度迁移">年度迁移<a class="hash-link" href="#年度迁移" title="Direct link to heading">​</a></h3><p>换新本，重新整理思想清单</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="思想综述">思想综述<a class="hash-link" href="#思想综述" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="自我探索">自我探索<a class="hash-link" href="#自我探索" title="Direct link to heading">​</a></h3><p>我不会轻易说出这个词，但子弹笔记确实是探索自我这趟旅程的工具，它能帮助你发现你关心的事以及你想过的生活。着眼于如何以适应自我需求为目的提升你的子弹笔记。</p><p>你使用子弹笔记的时间越久，子弹笔记就越有益处。如果没能达到这种效果，那就问问自己为什么。是因为太费时？是因为为了让别人印象深刻而忽略了自己的需求？还是因为你没有取得进展？</p><p>子弹笔记有助于你推进自我探索这一旅程，让你了解如何把握自己的生命。这一切都取决于你是否愿意抛开限制，正视自己的潜能。在这一过程中，你要寻找勇气和执着，深入探究宇宙中难以承受的光辉，从而对自己的生活负责。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="聚焦当下">聚焦当下<a class="hash-link" href="#聚焦当下" title="Direct link to heading">​</a></h3><p>其实，你拥有多少时间无关紧要，重要的是你能把多少注意力放在当下。控制注意力很难，因为我们的头脑是不称职的时间旅者，容易迷失于过去和未来。我们是否常常囿于自己无法改变的事情，或者担心我们无法预测的事情？这样的担忧会从我们真正能够做出改变的地方挪走大把的时间和精力，只有抓住此时此刻，我们才能够有所作为。
时间的质量取决于我们把握当下的能力。</p><p>达到心流状态的关键是在任务的难度与自己的技能水平之间找到平衡</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="快乐">快乐<a class="hash-link" href="#快乐" title="Direct link to heading">​</a></h3><p>谁都不知道究竟什么才能使自己快乐。
影响偏差（impact bias）：“容易高估某种未来情绪的持续时间和强度”。
快乐是我们着手进行其他目标时得到的结果。
如果快乐是行为的结果，那么我们就不该再问自己如何才能快乐了。相反，我们应该问问自己，要怎么做。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="好奇心---目标">好奇心 -&gt; 目标<a class="hash-link" href="#好奇心---目标" title="Direct link to heading">​</a></h3><p>我们也有一个内在的机制来感知闪耀的事物，我们称之为：好奇心。
好奇心是我们在看到某种潜能时产生的触电般的兴奋劲。</p><p>目标的灵感启发应当源自自身的生活经历。不论是带给你欢乐的积极动力还是带给你悲惨教训的生活苦难，你的生活中肯定有真正的激情之源。把这些经历都运用起来！这些都是强有力的意义源泉，你可以从中找到有意义的目标。
抱着这一态度重新开始设定坐拥百万金钱的目标，比如可以这样：我要挣足够的钱来偿还学生贷款、购置一套两居室给退休的父母安享晚年、负担子女的学费。</p><p>尽管现在这个目标还是很宏大，但有了明确的意义。你清楚地知道这笔钱将如何改善你的生活。这一点至关重要。宏大的目标往往费时又费力，在这一路上你会面对各种挑战，耐力常常是你最狡猾、最致命的对手。因此，要实现宏大的目标，常常需要切实的需求来激励自己度过数日、数月，甚至数年的风风雨雨。这项需求必须要足够强劲，才能抵御一路上的分心、借口和疑惑。华裔心理学家安杰拉·李·达克沃斯（Angela Lee Duckworth）博士出版了《坚毅》（<em>Grit</em>）一书，她在书中写道，“对长期目标的坚毅与激情”激励成功的程度“胜过其他任何激励”。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="实践技巧">实践技巧<a class="hash-link" href="#实践技巧" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="目标分解">目标分解<a class="hash-link" href="#目标分解" title="Direct link to heading">​</a></h3><p>从大到小，可以将目标分为：</p><ul><li>长期目标</li><li>冲刺目标</li><li>任务
将长期目标分解为冲刺目标可以降低不堪重负和身心疲惫带来的风险。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="设立冲刺目标的要求">设立冲刺目标的要求：<a class="hash-link" href="#设立冲刺目标的要求" title="Direct link to heading">​</a></h4><ol><li><strong>初始阶段不要设立大的障碍（不能阻止你开始完成目标）。</strong></li><li><strong>具有清晰可行的任务步骤。</strong></li><li><strong>完成时间必须固定在短期之内</strong>（最多不能超过一个月，理想中应该在一至两周）。</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="开始分解目标前再思考一下要做什么和为什么">开始分解目标前，再思考一下要做什么和为什么。<a class="hash-link" href="#开始分解目标前再思考一下要做什么和为什么" title="Direct link to heading">​</a></h4><ol><li><strong>这个目标为什么会激起我的好奇心？</strong></li><li><strong>是什么鼓励我为这个目标费时、费力？</strong></li><li><strong>是什么鼓励我为这个目标费时、费力？</strong></li><li><strong>有什么要求吗？</strong></li><li><strong>在这个目标上，我对成功的定义是什么？</strong></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="小目标反思">小目标反思<a class="hash-link" href="#小目标反思" title="Direct link to heading">​</a></h4><ol><li>我了解了自身的哪些优缺点？</li><li>什么奏效了？什么没有奏效？</li><li>我还有什么改进空间？</li><li>我的生命增添了什么价值？</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="循序渐进">循序渐进<a class="hash-link" href="#循序渐进" title="Direct link to heading">​</a></h3><p>通过把注意力放在小事上，我们既可以做到改变，又能避免不堪重负。我们要做的只是一次只解决一个问题。每一个解决方案都建立在先前的解决方案之上，因此，这些细化的步骤能很快积累起来，随着时间的推移实现巨大的改变。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="通过问问题的方法来激发好奇心和想象力">通过问问题的方法来激发好奇心和想象力。<a class="hash-link" href="#通过问问题的方法来激发好奇心和想象力" title="Direct link to heading">​</a></h4><ol><li>我想做什么？</li><li>我为什么想这么做？</li><li>我可以从哪件小事开始？</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="就算某个人或某件事羁绊住你你也很有可能找到突破口">就算某个人或某件事羁绊住你，你也很有可能找到突破口。<a class="hash-link" href="#就算某个人或某件事羁绊住你你也很有可能找到突破口" title="Direct link to heading">​</a></h4><ol><li>目前我能采取什么微小的措施推动进展？</li><li>目前我能改善的是什么？</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="遇到麻烦">遇到麻烦<a class="hash-link" href="#遇到麻烦" title="Direct link to heading">​</a></h4><ol><li>究竟是哪里出了错？</li><li>为什么会出错？</li><li>下一次我能如何改进？</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="安排任务">安排任务<a class="hash-link" href="#安排任务" title="Direct link to heading">​</a></h3><ul><li>把简单的事情都趁早做完也是一种拖延。</li><li>把烦心事趁早做完才会让接下来的一天轻松一些。</li><li>就好比负重跑步，卸下沙包的瞬间会觉得身轻如燕。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="倒序排列任务的好处">倒序排列任务的好处:<a class="hash-link" href="#倒序排列任务的好处" title="Direct link to heading">​</a></h4><ul><li>可以<strong>一步一步接近</strong>自己最感兴趣的任务。</li><li>有期盼会更容易保持一整天的专注和动力。<blockquote><p>需要说明的一点是，每个人的生物钟都不同，比如有的人越晚就越兴奋。因此，安排任务时的诀窍是找出自己最高效、最专注的时候，然后制订相应的计划。</p></blockquote></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="思考">思考<a class="hash-link" href="#思考" title="Direct link to heading">​</a></h4><p>正念帮助我们<strong>抽身远观</strong>自己的想法。我的老师打了一个比方，把我们的想法比作汽车，冥想帮助我们站在路旁观察，而不是堵在马路中间。</p><p>在下次画掉笔记本上的任务时，慢下来，反思完成这一任务对你的影响。</p><ul><li>你有何感觉？如果什么感觉都没有，或者只感到如释重负，那么很有可能这项费力的任务并没有给你的生活带来多少价值。我们必须承认这一点。</li><li>但若你觉察到了一丝愉悦、自豪、感激、满足，那么你可能就有收获。给自己一小段时间体悟成就、感激成就，因为你会从这一过程中有所收获。毕竟，如果连你都无法欣赏自己的成就，这样的成就还有何意义呢？</li><li>成就能够滋养你、指引你，但是，在这之前，你必须花点时间感激自己取得的成就。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="感恩">感恩<a class="hash-link" href="#感恩" title="Direct link to heading">​</a></h4><p>1 在每日记、的夜反思中，写下至少一件让你感恩的事，养成习惯。
2 创建“感恩”集子，每天写下至少一件让你感恩的事，养成习惯。如果你热衷于此，你甚至可以带着创意来记录你最喜爱的瞬间。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="掌控">掌控<a class="hash-link" href="#掌控" title="Direct link to heading">​</a></h3><blockquote><p>与其把查德约到门外了事，不如深吸一口气，等进行每日反思时再以更恰当的角度重新审视这件事。想想为什么他会这么说或者为什么他会这么做？为什么他会主动提出这个别有用心的看法？这个看法究竟为什么会激怒你？你的看法是什么？  </p></blockquote><blockquote><p>根据斯多葛学派的要义，我们无法掌控周围的世界以及其中的人。不自量力地否认这一真理只会让我们沮丧、受挫、完全迷失自我。</p></blockquote><p>比如：</p><ul><li>你提供了合理的建议，但是朋友不愿意采纳，直截了当地选择了相反的建议；</li><li>你没日没夜地加班，却得不到晋升的机会。</li><li>有的时候我们想要获得他人的认可和褒奖，但是常常得不到自己想象中的奖励，这时我们便会感到愤怒和困惑。</li><li>为什么我们的情绪会这么糟糕呢？因为我们对自己无法掌控的事情寄予了厚望。</li></ul><p>带着这些问题，在子弹笔记中写一封信记录自己斟酌过后的应对方案。这是为了让你厘清思路，为了让你看清怒气正盛时被掩藏了的机会和见解。这个方法帮助过我应对许多麻烦的人和事。</p><ul><li>首先，笔记本给了你一个安全的宣泄口，都写在纸上以后心情就已经平复了许多。</li><li>同时，纸上的想法也能凸显你卑鄙、无理或不理智的一面。</li><li>把这些负面情绪整理出来之后，你就能退后一步，以一种冷静的心态重新考虑这件事，想出有效的后续解决步骤。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="忧虑">忧虑<a class="hash-link" href="#忧虑" title="Direct link to heading">​</a></h4><blockquote><p>马克·吐温曾说：“我一生总在无止境地忧虑，其实很多担忧从未真正发生过。”
忧虑诱使我们以为这种情绪会带来解决方案，但通常并非如此。</p></blockquote><p>在进行日反思和夜反思以及月度迁移时，扫视一遍你的任务，试着分别找出受你掌控与不受你掌控的事。一个简单的分辨方法是观察这条任务是注重结果还是过程。</p><blockquote><p>如果我们没有意识到要对自己的卑劣品质负责（或者不愿意负责），我们就会不可避免地把这些负能量传递给附近的人。你的一言一行所带有的能量会改变周遭的世界和其中的人。</p></blockquote><p>比如：</p><ul><li>你对某个项目缺乏热情，整个团队都可能会被你拖垮。</li><li>再如，坏情绪可能会在你和同伴安静地共进晚餐时又默默回到你这里。</li></ul><p>情绪低落时，趁着做反思的时间看看这些记录，向自己展示证据，让自己接受证据。</p><p>消极或死气沉沉的人可能会破坏你用心生活的努力，试着与那些鼓舞你、激励你、提升你的人保持联系。问问自己：</p><ul><li>我能从他们身上学到什么？</li><li>他们的出现改善了我的世界吗？</li><li>他们激励我上进了吗？</li></ul><p>你无法改变身边人，但你可以更换身边人。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="拆解问题">拆解问题<a class="hash-link" href="#拆解问题" title="Direct link to heading">​</a></h3><p>我们可以利用同样的方法解决自己的问题。在子弹笔记中创建一个新的集子，以遇到的问题为标题，比如，我付不起房租。现在开始问自己为什么，写下答案，然后再次提问为什么，质疑你的答案，一共问自己五个问题。</p><p><strong>我付不起房租。</strong>
1．为什么？因为我没钱。
2．为什么？因为租金太高。
3．为什么？因为这是个好地方。
4．为什么？因为我喜欢住在这里。
5．为什么？因为这里治安好、邻里友善、商店餐馆物美价廉。</p><p>现在，我们已经把一个难题拆解为五个小问题，可以有针对性地依次解决了。更重要的是，我们挖掘出了潜在的价值。我们常常会在拆解问题时发现真正濒临失去的东西。比如在这个例子中，房租其实不是关键，关键的是“我”不想失去住在这里的幸福感和安全感。有了这两条重要的信息后，我们便知道如何制订方案了。</p><p>我们面对的难题就如同镜子一般，折射出我们的脆弱、不安、弱点和恐惧。尽管问题艰巨，但不要退缩，勇敢地直视挑战、审视挑战，带着好奇面对自己的恐惧，然后你就会发现一条前进的道路。勇气会让你最终收获个人成长和专业进步，这是完全有可能的。如果你不奋勇向前，什么都得不到。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="橡皮鸭调试法">橡皮鸭调试法<a class="hash-link" href="#橡皮鸭调试法" title="Direct link to heading">​</a></h3><p>重要的是把烦心事从你脑海中剔除。解释时要耐心、细心，毕竟你倾诉的对象可不像你一样掌握事情的来龙去脉。良好的沟通可以让对方不带偏差地理解实际情况。在详细叙述事情的过程中，我可能就已经找出应对方法了。</p><ul><li>你遇到的麻烦</li><li>出问题的地方</li><li>会出问题的原因</li><li>你尝试过的方法</li><li>还没尝试过的方法</li><li>你想要的结果</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="不完美">不完美<a class="hash-link" href="#不完美" title="Direct link to heading">​</a></h3><p>不要视心神游荡为一种错误，而要视其为一种机遇。因为每当你回到现实中，你就变得更加专注于当下。
接受自己的不完美，知道自己会失败，我们就可以带着轻松的心情重新回到工作中。
优于别人并不高贵，真正的高贵应该是优于过去的自己。</p>]]></content:encoded>
            <category>read</category>
        </item>
        <item>
            <title><![CDATA[记一次对Koa.js middleware的源码贡献]]></title>
            <link>https://wolffn.github.io/blog/2018/07/06/记一次对Koa.js中间件的源码贡献</link>
            <guid>/2018/07/06/记一次对Koa.js中间件的源码贡献</guid>
            <pubDate>Fri, 06 Jul 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[本文主要记录笔者在使用开源Node.js web框架Koa.js过程中遇到的一个小bug，为修复此Bug查找Koa及其middleware源码的过程，以及最终发起Pull Request并被采纳的过程。]]></description>
            <content:encoded><![CDATA[<blockquote><p>本文主要记录笔者在使用开源Node.js web框架Koa.js过程中遇到的一个小bug，为修复此Bug查找Koa及其middleware源码的过程，以及最终发起Pull Request并被采纳的过程。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="缘起">缘起<a class="hash-link" href="#缘起" title="Direct link to heading">​</a></h2><p>事情的起因是这样的，在我刚入职当前公司时，由于团队组件不久，开发人员尚未配备期权，尤其缺乏服务端(<code>Java</code>)开发人员；而恰好有一个对内视频服务的需求比较紧急，所以本人虽然是一名（资深）前端工程师，依然主动承担起了<code>Server</code>端开发的责任。项目最终选择<code>FE</code>们最爱的<code>Node.js</code>进行开发，<code>web</code>框架则选择了<code>Koa.js</code>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="问题">问题<a class="hash-link" href="#问题" title="Direct link to heading">​</a></h2><p><code>Service</code>中有一个功能是为生成的视频提供下载功能。因为仅是内部人员下载，加上每天都要生成，所以决定直接在存储在服务器，然后提供链接供用户下载。</p><p>于是在服务端选择中间件<code>koa-static</code>，煎蛋设置一下缓存即可。主要代码如下：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Koa</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'koa'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> serve </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'koa-static'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Koa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">serve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/dist'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">extensions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'mp4'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">maxage</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>网页部分提供一个下载按钮，采用<code>a</code>标签加<code>download</code>，外面套<code>button</code>的形式，代码如下（vue）：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">video.outputPath</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">download</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">下载</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>于是，功能完成，顺利上线，运营小mm们效率提升，齐声夸赞，完满解决。</p><p>本集完。</p><hr><p>如果生活是童话故事，那么上面便是结局。可惜，生活不是童话。</p><p>大概在今年（2018）2月左右，忽然大家反映，<strong>下载按钮</strong>不能用了，点击后，都是直接在新的<code>Tab</code>页打开链接。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="归因">归因<a class="hash-link" href="#归因" title="Direct link to heading">​</a></h2><p>遇到bug后，第一反应是分析，能用 -&gt; 不能用 的过程中，发生了什么。经过大致判断，可以得出结论是<code>chrome</code>自动升级后，对<code>download</code>的支持发生了变化。</p><p>接下来，我的第一反应是，是不是<code>download</code>属性没有用好呢。于是去搜了搜标准，然后尝试给赋值，结果发现一样是不行。</p><p>这个时候我忽然想到，可以去看看别的网站，是否有同样的问题，以及怎么做的。</p><p>找了好久之后，发现了一个网站，视频还可以下载，于是在<code>chrome Develop Tools</code>的<code>Network</code>面板下，苦苦寻找差异。终于发现，在<code>Response Header</code>的<code>Content-Type</code>中存在差异。我的请求情况如下：</p><p><img loading="lazy" alt="content-type-mp4" src="/assets/images/content-type-mp4-92fc757e446b0e1961e299b87c316411.jpg" width="455" height="232" class="img_ev3q"></p><p>而可以下载的视频请求，内容则是：<code>Content-Type: video/mpeg4</code>。于是我怀疑，是不是浏览器把自己能够识别的扩展名直接打开，不能识别的则进行保存操作。那么接下来要做的事情就简单了：修改我们的响应头。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="初次尝试">初次尝试<a class="hash-link" href="#初次尝试" title="Direct link to heading">​</a></h2><p>对于<code>npm</code>安装的package，个人建议直接去<a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npm官网</a>搜索，一般都会提供源码地址，文档地址。</p><p>于是直接进入npm官网，搜索<code>koa-static</code>，进入<a href="https://www.npmjs.com/package/koa-static" target="_blank" rel="noopener noreferrer">该package主页</a>，发现如下内容：</p><blockquote><ul><li><a href="https://github.com/koajs/send#setheaders" target="_blank" rel="noopener noreferrer">setHeaders</a> Function to set custom headers on response.</li></ul></blockquote><p>既然官方直接提供了功能，那么事情好办了，直接加上吧。</p><p>修改Server端代码如下：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">serve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/dist'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">extensions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'mp4'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">maxage</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function-variable function" style="color:#d73a49">setHeaders</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'Content-Type'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'video/mpeg4'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>欢天洗地，打开浏览器刷新重试，结果呢，无效！</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="深入源码探索">深入源码探索<a class="hash-link" href="#深入源码探索" title="Direct link to heading">​</a></h2><blockquote><p>柴犬屁股一沉，发现事情并不简单  </p></blockquote><p><img loading="lazy" alt="柴犬屁股一沉，发现事情并不简单" src="/assets/images/dogs-d2766e48b9e7857d259ec329f275423b.jpeg" width="640" height="640" class="img_ev3q"></p><p>文档救不了我们，只能去看源码了。好在这些中间件一般都短小精悍并且逻辑严谨，读一读还是很有价值的。</p><p>对于node/js的项目，用到的package，直接打开项目目录下的<code>node_modules</code>找到对应目录阅读就可以了，十分方便。PS：大多数package入口在目录下的	<code>index.js</code> 文件。</p><p>打开<code>node_modules/koa-static/index.js</code>后，发现<code>koa-static</code>直接把传入的<code>options</code>原封不动传递给了<code>koa-send</code>：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">serve</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">root</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> opts</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> opts</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>于是继续，打开<code>node_modules/koa-send/index.js</code>，仔细阅读代码，发现对options中的<code>setHeaders</code>处理如下：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 此处为一个Assertion，若setHeaders不是函数，直接抛出错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> setHeaders </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> opts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">setHeaders</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">setHeaders </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> setHeaders </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'function'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">TypeError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'option setHeaders must be function'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token spread operator" style="color:#393A34">...</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 如果是函数，则将其加入到reponse header</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">setHeaders</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setHeaders</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">res</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stats</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>这里关于Assertion可以多说一句，断言是编程中很使用的一种技巧，不管是开发、调试过程中快速发现错误，还是线上的防御性编程。在《代码大全》等经典书籍中都有介绍，推荐大家阅读相关章节。</p></blockquote><p>这么看没问题啊，传入的config应该都使用了啊。于是继续往下读，发现玄机：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encodingExt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * File type.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">file</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> ext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> ext </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">extname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">basename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">extname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>原来，在setHeader之后，源代码又根据文件扩展名，修改了其content-type。为了验证自己的想法，我简单修改这里的代码，进行尝试：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encodingExt</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>重启服务，刷新后，发现效果如下：
<img loading="lazy" alt="content-type-mpeg4" src="/assets/images/content-type-mpeg4-d0de5b42eba4a86994b237a729a55003.jpg" width="455" height="219" class="img_ev3q"></p><p>果然ok了。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pull-request">Pull Request<a class="hash-link" href="#pull-request" title="Direct link to heading">​</a></h2><p>既然折腾了这么一大圈，解决了问题，于是我决定一不做二不休，直接给<code>koa-send</code>开源项目Pull Request，如果被采纳，还算是给开源届做了Contribution。</p><p>过程很简单，到项目主页，fork项目。到自己主页，把fork的项目checkout到本地，修改代码，commit, push。</p><p>修改的代码很简单，但是注意，这些开源项目一般会有很重视测试，所以如果有UT，一定记得添加用例。我的代码具体如下（提交内容不包含注释）：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 删除原来代码：ctx.type = type(path, encodingExt)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encodingExt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 添加Test Case</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">it</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'should set the Content-Type'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">done</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Koa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/test/fixtures/user.json'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'/'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'Content-Type'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">application\/json</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">done</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后到还是到自己fork的项目中，选择第二个Tab：<code>Pull requests</code>，然后点击<code>New pull request</code>按钮，选择自己想提交的分支即可。</p><p><img loading="lazy" alt="pull-request" src="/assets/images/pull-request-06c81a492093cddb6c83cf272cb3a8f5.jpg" width="1005" height="577" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="结论">结论<a class="hash-link" href="#结论" title="Direct link to heading">​</a></h2><p>发起请求后，项目维护者愉快的采纳了，于是我也有了对<code>Node.js</code>生态开源圈的第一次贡献，心里还是很高兴的。</p><p>Pull Request的地址在<a href="https://github.com/koajs/send/pull/105" target="_blank" rel="noopener noreferrer">这里</a>。</p><p>这件事情也给我带来了一定的思考，整理后，结论如下：</p><ol><li>写代码，解决问题，是充满快乐的，能够给我们带来满足感。</li><li>认真调研，阅读文档，甚至深入源码，问题总归是可以解决的。</li><li>我发现这些开源项目其实都有issue，并且有些维护者也公开说了<code>pull request is welcomed</code>，所以有时间可以多读一些源码，找机会多做一些贡献。</li></ol><p>以上就是这次修复bug、贡献源码的全过程以及给我带来的思考。只做了一点小小的工作，谢谢大家。</p>]]></content:encoded>
            <category>javascript</category>
            <category>node</category>
            <category>koa</category>
        </item>
        <item>
            <title><![CDATA[写给Javascript程序员的Jupyter Notebook使用指北]]></title>
            <link>https://wolffn.github.io/blog/2018/06/14/写给Javascript程序员的Jupyter-Notebook使用指北</link>
            <guid>/2018/06/14/写给Javascript程序员的Jupyter-Notebook使用指北</guid>
            <pubDate>Thu, 14 Jun 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[Jupyter Notebook是一块所见即所得的画布，通过在浏览器上编辑代码，让开发人员实现展示与快速迭代的利器。项目最初给予python，通过安装插件，对Javascript也有良好的支持。]]></description>
            <content:encoded><![CDATA[<blockquote><p> <a href="http://jupyter.org/" target="_blank" rel="noopener noreferrer">Jupyter Notebook</a>是一块所见即所得的画布，通过在浏览器上编辑代码，让开发人员实现展示与快速迭代的利器。项目最初给予python，通过安装插件，对Javascript也有良好的支持。</p></blockquote><blockquote><p> 本文主要针对前端/Javascript工程师在安装、配置的过程进行记录。希望notebook能给我们的开发、研究工作带来便利。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="python工程师">python工程师<a class="hash-link" href="#python工程师" title="Direct link to heading">​</a></h2><p>推荐专业的Python开发人员，安装<code>Anaconda</code>用以进行版本控制、包管理：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew cask </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> Anaconda</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="前端javascript工程师">前端(Javascript)工程师<a class="hash-link" href="#前端javascript工程师" title="Direct link to heading">​</a></h2><p>前端工程师使用notebook主要是为了运行js代码，所以没必要安装专业的<code>python</code>版本管理工具。直接通过<code>python3</code>以及<code>pip3安装即可</code>。具体安装方法如下：</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装jupyter-notebook">安装Jupyter Notebook<a class="hash-link" href="#安装jupyter-notebook" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 首先安装python3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> python3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 --version </span><span class="token comment" style="color:#999988;font-style:italic"># 确认安装成功</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 --version </span><span class="token comment" style="color:#999988;font-style:italic"># 确认pip3安装成功</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> jupyter notebook </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 此时已经安装成功，但是还没有对js的支持。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 进入你希望存储notebook文件的目录，即可运行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> ~/workspace/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> my-notebooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jupyter notebook</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装对javascript的支持">安装对javascript的支持<a class="hash-link" href="#安装对javascript的支持" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 安装对js的支持</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g ijavascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 此时jupyter中还是没有对javascript的支持</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 手动进入ijavascript所在目录，执行一次.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> /Users/</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">user-name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">/.nvm/versions/node/v8.1.0/lib/node_modules/ijavascript/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./ijavascript.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 退出后再一次执行命令，就可以看到对js的支持了。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jupyter notebook</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="使用npm-package">使用npm package<a class="hash-link" href="#使用npm-package" title="Direct link to heading">​</a></h4><p>如果<code>notebook</code>仅仅支持<code>javascript</code>，而不支持广大的<code>npm packages</code>，相信对于我们没什么实质意义。所幸，只需要在<code>my-notebooks</code>目录初始化npm，然后安装所需package即可支持。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i lodash -S</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>安装过后，效果如下：
<img loading="lazy" alt="npm-support.png" src="/assets/images/npm-support-8054ad8777454097dad2c53bc228e2b9.png" width="1540" height="864" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装对es6的支持">安装对ES6的支持<a class="hash-link" href="#安装对es6的支持" title="Direct link to heading">​</a></h4><p><code>ijavascript</code>作者创建了一个新包<a href="https://github.com/n-riesco/jp-babel" target="_blank" rel="noopener noreferrer">jp-babel</a>来支持<code>ES6</code>。
与<code>ijavascript</code>一样，通过<code>npm</code>全局安装，再进入到其所在目录下的<code>bin</code>目录运行<code>jp-babel.js</code>一次即可。之后每次启动<code>jupytor notebook</code>，选择对应类型即可。如下图。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 安装对ES6的支持</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -g jp-babel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 与ijavascript一样，首次运行需要进入目录并执行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> /Users/</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">user-name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">/.nvm/versions/node/v8.1.0/lib/node_modules/ijavascript/bin/jp-babel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./jp-babel.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="ES6-support.png" src="/assets/images/ES6-support-b1885b4bbdc0aec3f2ea55394489a98a.png" width="430" height="538" class="img_ev3q"></p><p>运行效果如下图：</p><p><img loading="lazy" alt="es6-output.png" src="/assets/images/es6-output-45090d6dc4aced7438faa03701f268eb.png" width="1424" height="548" class="img_ev3q"></p><p>唯一不完美的是，输入代码后，使用快捷键<code>Control + Enter</code>运行代码，在第二次时就会报错。可能因为是默认使用了严格模式。
解决方案是先点击菜单上的<code>Kernel -&gt; Interrupt</code>，然后再<code>Control + Enter</code>运行。当然，<code>Interrupt</code>也有快捷键，默认为<code>I,I</code>，如果使用不便（比如与<code>Vimium </code>插件冲突），在<code>Help -&gt; Edit Keyboard Shortcuts</code>中可以进行修改。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="结论">结论<a class="hash-link" href="#结论" title="Direct link to heading">​</a></h2><p>以上就是<code>Jupyter Notebook</code>的安装，以及对<code>Javascript</code>支持配置的完整过程。有了她，我们不仅能在文档中执行代码，还能以网页形式分享。同时，通过重现整个分析过程，并将说明文字、代码、图表、公式、结论都整合在一个文档中，与同行们进行有效沟通。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Chrome Dev Tools---[性能篇]]]></title>
            <link>https://wolffn.github.io/blog/2018/04/01/Chrome-Dev-Tools-性能篇</link>
            <guid>/2018/04/01/Chrome-Dev-Tools-性能篇</guid>
            <pubDate>Sun, 01 Apr 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[本文主要记录Chrome Dev Tools 关于性能调优的使用方法。基础用法请参见基础篇]]></description>
            <content:encoded><![CDATA[<blockquote><p>本文主要记录Chrome Dev Tools 关于性能调优的使用方法。基础用法请参见<a href="//wolffn.github.io/blog/2017/11/15/Chrome-Dev-Tools-%E5%9F%BA%E7%A1%80%E7%AF%87/" target="_blank" rel="noopener noreferrer">基础篇</a>  </p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a class="hash-link" href="#performance" title="Direct link to heading">​</a></h2><ul><li>与<code>loading</code>相对,是<code>running</code>的性能,找出页面性能瓶颈,建议:<ul><li>在<code>隐身模式下</code>使用.</li><li><code>Capture Settings</code>-&gt;<code>20x slowdown</code>(for mobile)</li></ul></li><li>右键 -&gt; <code>Save profile</code>/ <code>Load profile</code></li><li><code>Record</code>结果分析:<ul><li><code>FPS</code>出现红色时,说明丢帧严重,绿色越高,性能越好.</li><li><code>CPU</code>与底部的<code>Summary</code>相呼应,当该栏被颜色填满时，说明<code>CPU</code>满负荷.</li><li>鼠标悬浮于<code>FPS</code>,<code>CPU</code>,<code>NET</code>上面时,可以看到放大的screenshot</li><li>鼠标悬浮于<code>Frames</code>,查看FPS,不应高于60.</li><li><code>Frames</code>中,点击某一帧,<code>Summary</code>中显示Screenshot,点击可放大;此时若开启<code>Enable advanced paint instrumentation</code>,会显示<code>Layer</code></li><li><code>Interactions</code>:用户交互事件</li><li><code>Cmd + Shift + p</code>-&gt;<code>show rendering</code>,显示<code>Rendering</code> Tab</li><li><code>Overview</code>上点击、按住并移动鼠标,来聚焦某一个时间段.(或者使用W A S D键)</li></ul></li><li>找出瓶颈<code>bottleneck</code><ul><li><code>Summary</code>中,<code>Rendering</code>是否过多-&gt;减少<code>Rendiering</code></li><li><code>Memory</code>勾选后显示内存使用情况</li><li><code>Network</code>,左侧线:request sent之前的事件;浅色:request sent,waiting;深色:content download;右侧线:等待主进程.</li><li>展开<code>Main</code>,<code>x</code>:时间,越宽说明运行时间越长;<code>y</code>:callstack.</li><li><code>Main</code>中,Shift+鼠标选择区域,可以看到具体时间</li><li><code>Main</code>中,颜色随机分配,深黄色<code>Scriping</code>,紫色<code>Rendering</code>,</li><li><code>Main</code>中,事件右上角红色三角,说明很可能有性能问题.</li><li>点击<code>Main</code>中的事件,<code>Summary</code>中会显示详情,<code>reveal</code>跳转至相应code</li><li><code>console</code>旁边有<code>rendering</code>.<code>Paint Flashing</code> <code>layer borders</code> <code>scrolling performance issues</code></li><li>在调用栈最底层的紫色事件(Layout),放大后很可能也有红色三角,点击,再从<code>Summary</code>跳转至对应代码,可以发现右侧又事件,指示出强制重绘的事件.</li><li><a href="https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/performance-reference" target="_blank" rel="noopener noreferrer">事件类型参考</a></li></ul></li><li>查看调用栈,分析性能<ul><li>三个Tab均展示选中事件</li><li>右侧<code>Show Heaviest Stack</code></li><li><code>call tree</code>查找哪一个<code>root activity</code>消耗了最多的时间</li><li><code>bottom up</code>展示直接消耗时间的事件</li><li><code>event log</code>按调用顺序展示,<code>filter</code>选择事件类型</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory">Memory<a class="hash-link" href="#memory" title="Direct link to heading">​</a></h2><ul><li>Menu -&gt; More tools -&gt; Task manager 打开任务管理器<ul><li>右键点击表格标题 -&gt; 启用JavaScript memory</li><li><code>Memory</code>列表示原生内存，<code>JavaScript Memory</code>表示JS堆。</li></ul></li><li>内存术语<ul><li>对象可通过两种方式占用内存：<ul><li>直接通过对象自身占用，对象自身占用内存大小在分析结果中表现为<code>Shadow Size</code>。</li><li>通过保持对其他对象的引用隐式占用。对象本身、连同其无法从<strong>GC根</strong>到达的相关对象一起删除后释放的内存大小，在分析结果中表现为<code>Retained Size</code>。</li></ul></li><li><code>Distance</code>是指该内存节点与GC 根之间的距离。如果相同类型的几乎所有对象的距离都相同，只有少数对象的距离偏大，则有必要进行调查。</li></ul></li><li>Devtools -&gt; Performance面板 -&gt; 启用Memory复选框<ul><li>在记录时点击Collect garbage，可以强制垃圾回收。</li><li>Overview窗格中HEAP图表表示JS堆</li><li>最下方窗格为JS HEAP、Documents、Nodes、Listeners、GPU Memory</li></ul></li><li>使用堆快照，发现已从DOM Tree分离节点的内存泄漏。<ul><li>选择<code>Take Heap Snapshot </code>，然后点击<code>Take Heap Snapshot</code>按钮。</li><li>执行一段时间后，从左侧面板选择该快照，快照名字下方显示JS对象总大小。</li><li>Summary视图显示按构造函数名称分组的对象，Containment 视图提供了对象结构视图，有助于分析全局命名空间 (window) 中引用的对象以找出是什么让它们始终如影随形。使用此视图可以分析闭包以及在较低级别深入了解您的对象。</li><li>在<code>Summary</code>视图的 <strong>Class filter</strong> 文本框中键入 <code>Detached</code>，搜索已分离的 DOM 树。</li><li>展开三角符号，以黄色突出显示的节点具有 JavaScript 代码对它们的直接引用。</li><li>点击黄色节点，在 <strong>Object</strong> 窗格中，可以看到与正在引用该节点的代码相关的更多信息。 </li></ul></li><li>使用分配时间线确定 JS 堆内存泄漏<ul><li>选择<code>Record Allocation Timeline</code>单选按钮，按<code>Start</code>按钮，执行您怀疑导致内存泄漏的操作。完成后，按<code>stop recording</code>按钮。</li><li>点击记录的profile文件查看，选择展现形式为<code>Chart</code>。分配时间线上的蓝色竖线表示新内存分配。</li><li>点击下方内容，可以查看具体代码。</li></ul></li><li>按函数调查内存分配<ul><li>选择Record Allocation Profiler 类型，可以按照 JavaScript 函数查看内存分配。</li><li>点击<code>start</code>按钮，执行期望观察的操作，完成后点击<code>stop</code>。</li><li>Profile默认视图为 <strong>Heavy (Bottom Up)</strong>，将分配了最多内存的函数显示在最上方。</li></ul></li><li>发现频繁垃圾回收<ul><li>如果感觉页面经常暂停，则可能存在垃圾回收问题。</li><li>在任务管理器中，<strong>Memory</strong> 或 <strong>JavaScript Memory</strong> 值频繁上升和下降表示存在频繁的垃圾回收。</li><li>在<code>Timeline</code>记录中，JS 堆或节点计数图表频繁上升和下降指示存在频繁的垃圾回收。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="application">Application<a class="hash-link" href="#application" title="Direct link to heading">​</a></h2><ul><li>storage: 查看local storage,session storage,IndexedDB,Web SQL,</li><li>Application Cache: 查看通过Application Cache API创建的资源和规则</li><li>Cache Storage: 查看Service Worker相关缓存</li><li>Clear Storage: 删除缓存</li><li>Cookies: 查看、删除cookie,不可修改</li><li>Frame: 安框架组织Resources<ul><li>右键-&gt;复制链接、在新页面中打开、保存、在Network中查看</li></ul></li></ul>]]></content:encoded>
            <category>chrome</category>
            <category>tools</category>
        </item>
        <item>
            <title><![CDATA[效率至上-一文带你真正走进vim]]></title>
            <link>https://wolffn.github.io/blog/2018/03/31/效率至上-一文带你真正走进vim</link>
            <guid>/2018/03/31/效率至上-一文带你真正走进vim</guid>
            <pubDate>Sat, 31 Mar 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[vim一直是程序员之间比较有争议的一个话题。有人认为她是编辑器之神，有人则认为她古老过时，远远不如IDE，或是以当红小生vscode为代表的图形化文本编辑器。无论爱恨，我们的开发工作，大到远程登录服务器coding，修改config文件，小到git commit message，或多或少总要接触她。]]></description>
            <content:encoded><![CDATA[<p><code>vim</code>一直是程序员之间比较有争议的一个话题。有人认为她是编辑器之神，有人则认为她古老过时，远远不如<strong>IDE</strong>，或是以当红小生<code>vscode</code>为代表的<strong>图形化文本编辑器</strong>。无论爱恨，我们的开发工作，大到远程登录服务器<code>coding</code>，修改<code>config</code>文件，小到<code>git commit message</code>，或多或少总要接触她。</p><p>为什么要写这篇blog呢，是因为我发现各大平台充斥的<code>vim</code>教程类blog其实很不友好，大多数是命令的堆砌，很少有对思想的解读。由此造成的结果，很多工程师对<code>vim</code>总是敬畏三分，或者就算部分人可以使用<code>vim</code>，也只是以自己的固有思维，结合vim的命令操作，并没有真正掌握<code>vim</code>的精髓。所以我尝试用自己的方式，试图帮助大家<strong>系统</strong>地建立起<code>vim</code>的知识系统。</p><p>文章主要结构如下：</p><ul><li>首先介绍<code>vim</code>编辑器最简单、基本的操作，让你快速入门，在遇到<code>vim</code>时，可以不至于惊慌，从容完成任务。如果想到某些操作，比如常用的复制、粘贴之类，可以到第二部分查找对应高阶操作，循序渐进使用<code>vim</code>。</li><li>接下来，将会介绍<code>vim</code>一系列高级操作，将我们的效率最大化。注：这部分信息量较大，建议您在阅读部分内容后，快速浏览不熟悉的命令，做到心中有数；随后可前进到第三部分；回过头来，再循序渐进，边学边练。</li><li>最后，试图讲述<code>vim</code>思想的精髓，既让我们真正对<code>vim</code>的操作融会贯通，又让我们可以在使用其他IDE/编辑器时应用这些思想，甚至在我们自己设计、实现功能、组件时，都能进行应用。这才算真正掌握了神器<code>vim</code>。</li></ul><h1>模式</h1><p>vim有三个模式，分别为普通（正常）模式、插入模式以及命令模式。</p><ul><li>普通模式：一般用于浏览文件，也包括一些复制、粘贴、除等操作。</li><li>插入模式：主要用来输入、修改、删除字符，此时的操作，除了不能用鼠标外，与我们日常在编辑器中操作无异。普通模式下，通过<code>i</code>等命令进入插入模式。</li><li>命令模式：用以执行一些输入并执行一些vim或插件提供的指令。在普通模式下通过输入<code>:</code>后，可以发现，屏幕的右下角会出现<code>:</code>，此时便进入了命令模式。本文中使用<code>：</code>开头的命令，便可视为输入<code>:</code>进入命令模式后，输入后面的字符，执行命令。</li></ul><p>很多人对于<code>vim</code>的第一点疑惑，便来源于此。我们习惯了图形化编辑器下，始终处于插入状态。然而在<code>vim</code>中，大多数情况下，我们会处于正常模式。只有当需要输入字符时，进入插入模式；当需要使用命令时，进入到命令模式。在插入和命令模式下，输入<code>Esc</code>便可返回正常模式。一张图概括如下：</p><p><img loading="lazy" alt="image" src="data:image/png;base64,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" width="667" height="247" class="img_ev3q"></p><blockquote><p>注：后文讲解，如无特殊说明，均为普通模式下操作。</p></blockquote><h1>基本操作</h1><p>如果不追求效率，只想完成修改文件的任务，并保存退出，只需要掌握以下三个命令：</p><ol><li>移动：<code>h j k l</code> 最简单的移动，相当于键盘上面的方向键，分别对应左下上右。</li><li>进入插入模式：<code>i</code></li><li>保存退出：<code>ZZ</code>（注意区分大小写）</li></ol><p>流程如下：</p><ol><li>普通模式下，通过<code>h j k l</code> 移动到想要修改的位置</li><li>输入<code>i</code>进入插入模式，此时通过输入(字母、数字、符号)，删除(Backspace)等，完成基本修改操作</li><li><code>Esc</code>回到普通模式，<code>ZZ</code>，保存修改并退出。</li></ol><h1>进阶：命令形式</h1><p>普通模式下，<code>vim</code>的命令主要分为以下三种：</p><ol><li><p>动作，用以移动光标，或者定义操作的范围；比如：</p><ol><li><code>h</code>：定义操作范围为一格，单独使用时，向左移动光标一格。</li><li><code>w</code>：定义操作范围为一个单词，移动光标到下一个单词首部。</li></ol></li><li><p>操作，这种命令需要在后面接表示操作范围的指令；</p><ol><li><code>d</code>，删除，后接表示一个单词操作范围的<code>w</code>，即<code>dw</code>时，表示删除到当前词尾。</li><li><code>c</code>，修改，后接表示一个单词操作范围的<code>w</code>，即<code>cw</code>时，表示修改当前单词。(编辑器行为表现为，删除到当前词尾，同时进入插入模式)。</li></ol></li><li><p>命令，直接执行的命令，其中一部分，在执行命令后，直接进入编辑模式；比如：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1.  `D`，删除至行末。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.  `I`，到行首进入插入模式。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我们的使用方式主要也是三种：命令、动作、操作+动作。
此外，在<strong>动作</strong>类的命令前，加上<code>number</code>为可选项，可实现<code>重复n次</code>的效果：</p></li><li><p><code>[number] + h/j/k/l</code> 向<code>左/下/上/右</code>移动<code>number</code>个字符。比如，'2j'，向下移动光标2个字符。</p></li><li><p>依旧使用<code>d</code>和<code>w</code>来举例，<code>d</code>是删除，<code>w</code>是单词，<code>dw</code>代表删除一个单词，<code>d2w</code>代表删除两个单词。后面的命令，大多都可应用此种形式组合使用，大家多注意，养成这种<code>操作 + [次数] + 范围</code>的思维模式，举一反三，便可发挥最大功效。</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="移动进阶">移动进阶<a class="hash-link" href="#移动进阶" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="单词级别的移动">单词级别的移动<a class="hash-link" href="#单词级别的移动" title="Direct link to heading">​</a></h4><p>这里有仅大小写不同的两组命令，两组命令的功能，是相同的：跳转光标到对应位置。但是对应的单位不同，分别为<code>word</code>和<code>string</code>。具体区别是：</p><ul><li><p><code>string</code>仅以<strong>空格</strong>分开；</p></li><li><p><code>word</code>以<strong>字母数字以外的字符</strong>分开。</p><p>以这个字符串为例：<code>hello world-hehe111 abcde</code></p></li><li><p><code>word</code>有5个，分别为<code>hello</code>  <code>world</code>, <code>-</code>, <code>hehe111</code>和<code>abcde</code>。</p></li><li><p><code>string</code>有3个，分别为<code>hello</code>  <code>world-hehe111</code>和<code>abcde</code>。</p></li></ul><p>两组命令如下：（跳转光标至）</p><ul><li><p><code>w</code> 下一个单词开头</p></li><li><p><code>e</code> 当前或下一个单词结尾</p></li><li><p><code>b</code> 当前或上一个单词开头</p></li><li><p><code>ge</code> 上一个单词的结尾</p></li><li><p><code>W</code> 下一个字符串的开头</p></li><li><p><code>E</code> 当前或下一个字符串结尾</p></li><li><p><code>B</code> 当前或上一个字符串的开头</p></li><li><p><code>GE</code> 上一个字符串的结尾</p></li></ul><p>举个例子，当光标位于<code>hehe111</code>的第一个字符<code>h</code>时，前后的单词/字符串信息如下：</p><table><thead><tr><th></th><th>前一个</th><th>当前</th><th>后一个</th></tr></thead><tbody><tr><td>单词</td><td>-</td><td>hehe111</td><td>abcde</td></tr><tr><td>字符串</td><td>hello</td><td>world-hehe111</td><td>abcde</td></tr></tbody></table><p>那么以上各个敲击以上各个命令的结果，便一目了然(加粗字表示命令运行后光标位置)：</p><p><img loading="lazy" alt="image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS4AAAC7CAYAAADbnHMHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAgC0lEQVR42u3deXwb1b338c8ZSSPJ8m7HjhPHcRKykZ2QAIGyFG6BC2V5LhRKHyiFlqeU0tv7tLdQKEsppS2lpX1obwMtkFIoUAIEQssaQqEJS/bFWZw4ibfY8SovsnbN84ds2Y7txI7lyKP83q9XXq/YHh2dOXP01ZkzRyMVaKswEEIIE9ESXQEhhBgqCS4hhOlIcAkhTEeCSwhhOhJcQgjTkeASQpiOBJcQwnQkuIQQpiPBJYQwHQkuIYTpSHAJIUxHgkvEzYfrdVZ9oie6GuIEIMGV5Hbss7Kt1ApAMKQoPWCN/W33ASvhMFTVWmjzKDbssBEOQ2m5hUa3xv5qCwAdPsXazTbaOhQAza0ahxo0Sg9Y2d1ZXiCoWLNJ518b7bS2q0Tvtkhy1uEXIUar2x7MYHJhiLomC1npEb56RQf3PpbGC79qBuBHv03n8fvdPL3CyaYSneIJIaYUhvjmPVlkZkT4/s1tbN9j5Y0PHEwcF+a+36bz9M/cbC218vvnUlmy0E/5QQuTC8Pcdp2H8oMWgiFFS7tGemo40bsvkpgEV5KqrLWgafC9Gz0APLPSecTtLzrbxy1Xd+BuVXjaNd56shHdZnDN/81i6f0tpDgMiseHeeU9BycVhZg1Lcjdt7QTDCkuujmHO7/ezucWBvAFYMJYCS0xsiS4ktSGEhuTx4diP9/wRS81Db1nBny+7v/PmNS9bWFhCN1m0Nah2L/fxgP/kxr72xkLAgAU5EbDyWY1CIUQ4riSOa4ktXBWkK2lNgDaOxT/+bMMUuwGrW3RQ97mUdRWH/l9Ky3FoLg4yAPfaePRO1u57PM+xo2JAKBkGkskkIy4ktSEsWHmTAtyw52ZhMKKr1/lISPN4MxT/Vz7vSyyMiKMGcQp3beu83DLvZmkp0Zo9WgsvdfNmk39XzmcPinEPb9J5/R5QWZNkWGYGDlKbt2c3Lw+hcNu9BoheX0Kp2Pwhz0SgYN1FgoHEXT+gEK3GTIiEyNKgksIYToyxyWEMB0JLtEvY/mKRFdBiAFJcIn+Pbc80TUQYkASXEII05HgEkKYjgSXEMJ0JLiEEKYjwSWEMB0JLiGE6UhwCSFMR4JLCGE6ElxCCNOR4BL90+T2DmL0kuAS/YvITUPE6CXBJYQwHQkuIYTpSHAJIUxHgksIYToSXEII05HgEkKYjgSXEMJ0JLiEEKYjwSWEMB0JLtE/+ciPGMUkuET/5CM/YhST4BJCmI4ElxDCdCS4hBCmI8ElhDAdCS4hhOlIcAkhTEeCSwhhOhJcQgjTkeASQpiOBJcQwnQkuIQQpiPBJYQwHQkuIYTpSHAJIUxHgksIYToSXEII05HgEkKYjgSXEMJ0JLiEEKYjwSWEMB3rYDYyImEiIT9GJATIlyicCNQ1l2L4WhJdDXFcKJRmRbPaUZol0ZUZXI0DbRVHTCIjEiYc8CCBJUSyU1h0lynC66inipGQHwktIU4ERufrffQ7anBFTw+FECcCs7zeBzHHNfBoywgGafzoZfT8ItJnLRl2ZTxlW/Ds2QhKgWHgmDC9b7mGQcPqF4kEvAAoq07OWVeiOVIS2pBxN4z9bC9dj6+6jOwzL0fTHYN+yvbS9XgrdselPQNNNbjXvUPGvHOwjy1OaFOOBs2f/gMjEiL7jC8C8f+W8K72zlx4Pnpu4TBKMsfZ1aAm5wcS9rbh3vwBzoJJcQmu9p2f0rZ7feznYHNdn3LD3nbcmz8AIxL9hVJkzD8XPcmCazj72b57A+2lG0mfcxZ67vhBP2fX4+LRnv7aA7RuX4MtMzduweUt30H96hcINNaiZ+Yy4cYHUJa+Xdi98T2aP/k7Ya+H1KkLGHvZrX22CbrraVj1VzzlOwBF8c0/xZqRE5d69mXg3vgekWCArMX/3m+dh6tnew8vuMxhWC2orDaUUnE7EPmX3kL+pd+gZetH1L/7LMpq67ONJSWNKbc/hrJaOfDEDwh5WkFLvlUdw9lPZbVF39SH2C7H+rgBywKUxTbMkiASCFD17I8JNNfHfhfyevps5z90gKrnH8YId5/uRPzePtvVvv4H2vds6lFZiAR9w67nkVh0B0Y4PGLlx7O9zSAur/iewWWEgsMtDctR3u2VLfoC06zJfZCGsp9GOBRre6WGdyqitOjxNILDPZagbHqsfsd6GhLxtRNwN4JSuCbPAaVQlr5XvgKNNRjhEJruJKVw2gANZeCt3gNAStGM7r57vN78VPR5hv866dydzmOkrPrxqf8oEZehUiTgo+bVx/Ds2waAPa+Qwmt/GH3hdfJVlVL39jIC7gYALCmp5F14I67Jc0ds51pL1lK/6nmMYPRKiZ4zloLLb8OWlT/IEgyqX3iYSNBP4XV39TOyNKh55TGC7kOM//JdWJwu6lf9lZYt/wQj+iJNmTiTgitvP+yxBgeX/wYjFCB97tnUr36RiK8DlCJr0RfI+dx/DH4nDYODyx+lo2IXAI6CiSjL8Dpxy+bVtG77F5GAD5Qi97wvkbng/F7buDe+R9PHb0TrTfSYF1z+bazp2b2289fsp3LTavyNNQCkzVhM/iU303Oe52h9Q3Okkj5zMTlnX4XmSGHfY9/pt9567jgyTzmfnHOupuPAdjqqSvtupCB12qmkTl+Is3A6FU/eRaCl8Zjbylu+g8Y1r+KvPxgLI3tOAXkXfhV7weTehyoc4tDKpbTv3Rytb2Yu467+fp82ay1ZS9NHr0RH2Z3tkXPWlaTP+Vxsm8YPX6Z5/TtgGFicrgFfR4M9TmYTh3MChfdgGZ7923EWTkXZ7Pjrqqh9/X9im7SXbqDqxUcIuBuw5xXiHD+FcEc7Na/+Hm/5jhHZsdZtH1H31jKMoB9HwUT0rDwCjbWUP30foUF3VIURieCvryZQX9Xnr5FAkI7KUkId7Wi6ndqVS2nZ/AEAKYXT0BwpdJTvpOLpezAikV6PDbrr8FaXcejNpzGCAew5BYDCW75rCHtpUPXXh+io2IWmO3EVz8JXW4G3ag/HPAFsGLg3vIfF6cI+prDzIsFLBJpqYpvUr/orDav/RsTvJaVoBnp2Pv66Ksqfvjcadj2PQ8nHBNvc0RGQUrTt+izWRjC4vqHpOnkX34TFld7vqV8Xe95Ecs+7BqVpGKHAgMd0zPnX4SycTjwmot3r38VXU47V4SKlcBp69lj8jTVUPv9wn35mhIK0792Mc/xJ6Jm5BNwNlC+7l0igu64NH7xE3VvLCHlacRRMJGXCdMLeDlq3fBjbpvGjl2le9zYArslzMcJhWks+7lO3oRwnsxn+iMswUFYbRdffgy17LEF3HeVP3Yu3Zl/09EBp1L/3LCjF2MtvJXXKfAC8FTupXv4b6t9/nqKvPUB8r7QYNH/6DwByP39NbLRwcPmjdJTvpGnta+RdfNOgSkqZPAdfzX68VaXYxxbTXrYZwiFSpy0k6K7BCAdxjptMuKMNz94toDSKbrwPPbsAIxKh/IkfEGxppH3PBtKmL4qV23U6Z88r7DGaMwjUVw96L/215fgOVaDZnRTf8ks0XY+163BelGkzFpF/yTcAqFnxOzxlW+nYtw09u4BA40FatnyIZncy8WsPYnGlAdEXnHvDuzT+8yXG/Nv1sbL07LFMuOFelMVK67YPqXvnWTylG8mYfx5GJJKAvhFfOed9iRxAzy6I/a7h/Rdwb3qf9j0byDz1C722zz7jErKXXA4YVD33EL7aclo2vUvWaZcQamumZdP7oBQFl38L15R5QPR00FO+Pfr/SBj3pg9AKcZf9V2cRTOJBAIceOK/e4X6UI+T2cTlVNGWno0tO3r6ZcsYg9WVhhGJTkSGPS1E/L7oO/knf8f98Rudj4oueQh5WjHC4bheaQm1uQm1udHsTjLmnhP7fc7Z/4uOZx8i1O4edFmu4tk0rV2Jt3wnGadcwKE3/oQRDlL8jSl4K3aDYZAyaTbeqt0YkTDO8VNinVhpGunzz6VpzeuE+3tOpcj7txt67LtCHzP4K0KB5lowDFKnLkDTo6eHzqIZ6Bk5PU5/oqOyoLshusykH9bULAq/cnf3Ps/oDljXlHl4yrbG5oD8h8rBiBDxe6ld+YfOkY2KvYMHmw/1KttZODW2f84JM0FpsZ8T0TfiTc8uoL1sM40fvESotRFltRH2tve7rdI0Mk+9OLaPmYsupHblE3jLd5F12iV4K3fF+lBXaEF0rjP1pAWdbdYK4RB6Vh7OohlAdETqmjKPth2fxB4z1ONkNnEKrlxi74qdk8khb3T429XpNN1O2NNy2OOysThT475TymLtdwLXmpaL0iwEW+oxIhHUICZk9bwJKKtOoLEaf+2+2CmIp2wzvpr9oBQpxbNip1KHX9Wx500AwF9zoJ962rBljxvefkLvJQ8GGKFhLCJUCntOd3ma3Rn9T+epbtfVK2tqBqHWhl4PtaVlYs3I7d1+PYJY0x0opWJX/RLRN+KtduVS2ks3AtG5KM1iJRzof/W5stlRlu4+F+x6c+l8Q+lqW013Dvh8XW1mdWXScyR6+GT/UI+T2cQluHpefh7obxa7k4m3PDyk8o72mSnDMAZ+vGH0ufwc8XswIhFs6bmDCq2uOthzCvAdqqD547+j6U4szhRat36IEfSj6Q5sWfn46yr6fXyotQkA+9iJfcu2WHp15GPaTzrfhWOFgrL2PKyKwuvuZiiOtHq66zmdhdNip5NHLOsIV8+G0zfiJda2h81BDkbY68FTthVl1Sm64Z7YRZ/20g3Urny873NFwhAxoLNb2zLHdFWiV1sN5vV0+PKNwxcaD/U4mc2IXwPW7C7QLATbW/Ad3HvYXw3C/azHcRRMBqUR9rUfoWQVG2lEDivD4spAszuIBHz4elxZav7sbTAi3aOIQXJOnAlGBM+BElyTZpGx8ILohL27AUf+RJTFij1/IigN78F9PSZbDVo2r47W1mY/xhYceD+tKelAdOFu1+R/qLWZYGvzcA7ZEVldGQB0VOzss1wi4vdiBAODLutY+oZm77FURg3cfbuWBxz5zU/F5ho1h2vIbWGEAmAYWF1pPa5UGzStea3/7YMB2krXxX5uK1kLgJ4ffVOL9iEVveBz2MR+qK25e/81C75Dld3bGAbeyt4XdeJ5nEajEZ880HSdrNMuomnN61S98EvSZizGmp5FsOkQ7Xu34Mif0Gt+BcCanotms+GrLafyLw9gcaTimDCN7NMv7bWdY9wUPGVbqV7+KCmF0zAiYfIuvglraiZpJy/BveFdql/+f2Se8nlCbc20l26ILjk47d+HtA+uSXNo/uwtMAycxbNIKZpJw+qXwIjgLJoOgJ5TgGPMeHx1lVQ+/SPSZi+ho7yEQGMtyqaTfnLvTwAMNIrqz0D76SyaiS01k2C7m6pnH8R10nxaNq+OvrMrdUyjiKNxFs3EOX4K3uoy9i/9PumzzkDZbPiqy/BW7yX7zMv6HKd49I3mdW/RXvIxdJ5qhjs8VD33IEQiFFxxe+eqd4Pa15cSbKol0rkExlO+g8q//ASL7qTgqu+iLFZ81Xuoe+cZNKtOoKUpuqTkxYdBWcg+63JSp506uPp3BW9LIweXP0rKlLm0blwVW9bRn7q3/0zgUAXBlgY8+7aC0sjqnMDXc8bhmjQbz75tHHjybjLmn4Om2/Hs2YSmOyj8yt1oup3UqfNp2/kZlc89SMa8c+jYt637tHMEjtNoNPzgGmDlfM/5pezTL0VZrDR+tIK2nZ/22MZKSj/rT5SmMf6a71Pz6u/w13UuQzAMOKyhsxZfRLC5jtaStXgOlIBSRHweSM0k99yrifg9tG5fi3vDe10Fk3fRV4f8ERR7wSQ03YER9OOaNBdLSiq29CyCrU2kTJrdVWvGX3sH1S/+Et+hcpo+iV7VtDhdFF57R681bV37PlhH2s/xX7mLqmd/gr++Cn99FZruxJaRQ7C1Ob6LEnucWo+/9gcceuNPtO1eh3vT+7HfW1JScY6bMuDjojveu78Mtm8Emw7F1oJFGdG+oVSv06ZAfWXv4DAM/HWVvUbZIU8Lgabek9Ndj+k6tR9Uk+g6Y7/4DWpfW0pH+U46yneC0nAWTo0uSeln3y1OV3ebKY2CK76FxZUe26Tgym9T9/YztG5fQ8um1bHfZ8zrvsiUf/HNhFob8VaXRfuZUjjyJuCrq+z1aZMhHSeTOer9uEJxvZmcgb/2AJrdibLox2URXLi9hbC3FSMURM8vHvTc1nAEmmogHAYM9DETRvz5AAIN1YCBLXvccdlHiJ5yBJtq0BwuNEcqFufQT7e6Hf++ET/dy1hsOUdv/0BDdbQ/5hUNuG3PtrWmZsU+gdCrnM5+ZknNOmLbD/U4WR0ZiW7QozrOwZUge/dDSxssHLlV+kIkCzME1yDemkfv4r/BUivfheEsERDiGKi3VqOeeznR1RhqrRNdgUE5anB1feDWtAwDbXspnDxt2EWpFW8mem/iTj33Muqt1cMvSPRhZGdCozvR1RgSs7zejxpcmtWOWVK4X+VVGDmZkDb8xYzai28Mu4xRp6E52j4i/rIzUU0jtzQl/lTn6330G8SIy9J5A30bZgwwtbMUY870RFdj1FINTZBjpolwE8nKhAYzBJdCaTbTfFEGDHI5RDS8zHmHUWNHGXzhfFQcJhwNzDFxOaR9anRjHVcESbZfQ2qD5StQV10R/4IL0jBa2pKuz4wGyXfr0J7CESjZhTp5RqJrMjqFw9DWDhkn+AvrueUjU66mQXYmRn3D8MsSvSR1cBn79sG4AnCZc7Q40ozGJsjNHvCuESIO8vNAgivukjq42LYD5s0efjnJqqEJxpj7LgGjXn4e1NUPvxzRS3IH19YSmH1yomsxejU0wJiR+mYbAcDYPKiTEVe8JW9whUKway9qplxRHFCjjLgA0EbwVHlsPlQfTPQeJp2kDS6jtAwmTQCHOdalJER9A+TKiIvICH4J6rixUF0z/HJEL0kbXGwvkfmto2lohBwJrpGkCiS4RkLyBtfW7TK/dTR1MuIacQ4HpDih2Z3omiSV5AwufwDKylHTpya6JqNbXQMqV1bNj+gcF8DECRgVlYney6SSlMFl7C6FqZPBFudvuk6m5U7ezq+ycg7tNtZJaSTnuAAmFkJF1fDLETFJGVxsK4G5s+Jf7gj37+PJaGiCPLmieFwUTYDKwX9fpji65AyurTtkfutoGhtlDdfxUjwR9pQluhZJJfmCy+eD8irUVHPfU3vENTTKGq7jRBUVwsFaCAaHX5gAkjC4jB27ojcNtJjj9hwJ09AkVxS7jPTcpcUCEwsxymWCPl6SLrhGbH4r2dTXS3B1OR5zl9NOgtK9wy9HAMkYXFtG8POJI33Z/Hiqb5TgOp5mTocduxNdi6SRXMHV7oHaOtTk4pEpf6Qvmx9P8nGf40rNmAY7S4dfkACSLLiMkp0wZ2bfL+IUfdU3oeSWzVFfuWrknyMnG2wWDPnAdVwk1yt8WwnMlc8nHpW7BdJccgGj04jctrk/C+fDlm2J3t2kkFzBtbUEZs9MdC1GPaOhEfLGJLoaJ555c2CzBFc8JE9wtbRCsxs1sSjRNRn9Gptk8WkCqHlzYPvO7o9biWOWNMFlbN8x8ssgjsdcyPHQIKvmE8Kuw/w5GOs3JbompqcCbRVJcanMWPokTCpGXXh+oqsihBhhphxx+QOK/dUWQuEev9yyXea3hDhBDOoLYUeLtg7Ffb9L44MPnDjTIvg7FLPnBPjlrTXkLlqAGj+Oz7bZ+OYd/V/m/91DTSyZP7TPi7W0Kc67Ji/2swJyxoa47rIObrxi9M1V/OixNCYXhrjpyoHr9sNH07j0XD9nLggkurqjQigMF389l7f+1MA5XxlDR2vf9/NLLu7gJ7e3jVgdfvhoGhMKwix7IZW1L9dh7bzg+5tnXPzlby5Wv1BPemr05OipV50sfzOFfzzRmOimSxhTBdc3788kxWmw6oV6stIj1DZoPLA0jRseKOTNP94AgGGAPSXCq0v7HtTsjGM7KzZC8PozDeTnRPAH4M1/2fnZrzI4Y36Q6cWhRDfLkITD8MkmOw/c3p7oqowan2zRmT8rgMUC4RD89C43C2b0foNLcYzcjErXMfnBzU38cVkaJXutzJse7Vf/XGfHqsPHW3QuPNMPwLptOqfNP7HfdExzqrjqU539B6w8ekcLWekRAMbmRnjw9jYK8sNU1navSVJa9G+H/9Ntx975dKuBbjNIcxn8xwU+HOkRaupHZ/MFg4rH/5bCd3+ezrIVTsI9TqnXbbcxf1YAm9Wg0a3x6J9dPPxUKiVlVp5Z6cTjjX6syR9Q/HF5Cv/9SDpPverE5zf3x51WfaJz12/TeGSZi31VvdevvbPWzoVn+mI/52b07Ttdo53BcrcqfvlUKsFQtN3+uU5n2YrumzauWOVgW2l03NB1TLLSI0yZEWTjzugNMJtaNCrLrdxwdTsfbtBjj92yXWeJBJc5rN+uc9opflJTeneg7IwITz3oZsLY7ldnJAwHDlp6/as+NLxdLauyUHrAypbdVh5ZloojxRjyaefx8uRfU6mpt3D6vADPvOJi6d+6v8n7nTV2LjzTj9enuOr2bFraNcbnhbnzkXR++3ga7R6FYcD1d2SyocTGkvkB3njfyf++IwvDpJdxnnrVyS+eSGPetCANzRa+/J0cSg9EQ8Mw4F+f2TnrlO5jWdOg9ek/geDQgjsz3eC1d5xs3xN9nqdeSeGxP6bH3gAefSoVZ+coruuYAJy5wM/67dGQWrPJxty5AS44I8CaddFvq9pfbcHbqrF4zokdXKY5VayosVCY3x1OK9538OdXu1+QN1zewZUXRN81/R6Nr92R1evxeWPCvPjr5mN+/p89noZui86H1By0Mm9uAI9XDWsUN1KmTw9y/23R+ZjicWF+9kQat325A4APP3Pw/Zs8rHjfwbiCcGy7k08KctN3oksk3v9M52CtlecfqcdigSsv8HH2dWPYUGLj1NmjM6wHEggq/rAsjd8/2MziOUGuudjHT10RXnzTwT23trNpl40Z04I47N3H8RdL09H13sd16U/cQ54WOOs0P59tszFnWpB95Tamnxxgy24reTkRNAucVBTudUwAliwIsPwf0X794Xo75y72M704RDisKKu0sHmXjUlTg2Skjb5+dzyZJrjGZEXYWtp9D/nPnRJgWmdHeuD3adQ3d4+onOkRVv8lvt8e/KefuMnPjZ6ihsPw7YcyeOY1J/95vSfRTdPH2Yv8sf/PnxGiYq+NljbFgYMWphQHSXEYlFVamHVSdwjNnRrC0jkC2LXPSigAX/qv7oscPq+i6pDFdMFVWasR8ip+/kQaqnPQ1OTWOGlStO+8u9bOhUt8vR7zmx+5WTRn+Pt5ziI/L73lZPGcILOmB5g/M8inW3XGZEc49/ToMdqy2xo7JhA9Xj5P9Kr5x+vt3HpttH+ducjPvzbq7N5vZclC/zHXKVmYJrhmTA7y+t9T8HgVLqdBTmaEnMwI4TDU1h3fz9xZLHD63ADvrnUAoy+42j3dpzXVdRoZeWEy0gze/djOhWdFO73TblB1qLvdfAFFuPM0xmE3KC4O8fj97tjfvX5FxhDneUaDrpHUr+5sIbtzbjQYUrHP4b+/1s6t14zMMTxrQYD7f53B2s0BzpgfYP6MID//Uxo5mRGu/kL0qm/PYwJg1w1Onh3g2ZVObDaDyYXRUdnZC/0sf8dJdY2F+25vTXSzJpxp5riuPN9Pdl6YXzyZGlu/deCghXt/n0ZrY+/gMgxo86g+/3qt+xoiX0Dh8ys6fIo3P7Lz3GspfP5037EXOILe/shBhy+6vy++6eScznf3VWscnLc4OjeyaHaQTzfYqaiJtt2yFc7YDfXOmB9kzy6dplaNjDSDuiaNy2/JpanFfBP048ZEyJsQ4r2P7WSkGVgs8L2H03lttZ3dB6yMzQv3mXj3+Pr2Ha9v6Pue5jKYPCXI86+7OG1ukNknhSgvt7KlROe0ucE+x6TLmacEWPFGCmct7g60JfMDbN2i03DIwikzzXUleySYZsRl1w3+8ONm7vx1Bqddlk9mbpi2Fo1Lv9DB7be0Euwxeepr0Tj7yrw+Zdx3ZwtXfP7YwuaKGzvvz64gd1yYi8/18tXLRt86LoApxSEuvjk6X6Xr8ORDzeytsJCTHYldkT371ADfvL6d/3NvJj6f4rwzfFjsBroOJ08O8e1vtHLVLbkUTAjRUK9xx7daGZ8fSfSuDZlS0dHWbT/O5G9/d9LSbOGcs3xc/0Uvf3jBxUWf63va9V93Z/X53aIlPp64v2XIz3/eYj9PH7AyvTiEUjBvdoBAUOGwG32OSZcz5gV4PKA459TuumWmG0ycHCLFYfSajztRmfIjP/XNGi1tismFYbn11gBCYaipj17QUP0MFto8ipY2jcKxYcLh6KnghV/LZc2L9d3bdCiqai0UFYRxOU3XTXoJh2FflYV0lxGbqxTmZcrgEsPX6Na44ls53PnNVorGhnnqlRRSXcaIrg4XIl4kuE5g67bZ+MdHDmobNRaeHORrV3TIvQWFKUhwCSFMR2aIhBCmI8ElhDAdCS4hhOlIcAkhTEeCSwhhOhJcQgjTkeASQpiOBJcQwnQkuIQQpiPBJYQwHQkuIYTpSHAJIUxHgksIYToSXEII05HgEkKYjgSXEMJ0JLiEEKYjwSWEMB0JLiGE6UhwCSFMR4JLCGE6ElxCCNOR4BJCmI4ElxDCdCS4hBCmI8ElhDAdCS4hhOlIcAkhTEeCSwhhOhJcQgjTkeASQpiOBJcQwnQkuIQQpiPBJYQwHQkuIYTpSHAJIUxHgksIYToSXEII05HgEkKYjgSXEMJ0JLiEEKYjwSWEMB0JLiGE6UhwCSFMR4JLCGE6ElxCCNOR4BJCmI4ElxDCdCS4hBCmI8ElhDAdCS4hhOlIcAkhTEeCSwhhOhJcQgjTkeASQpiOBJcQwnQkuIQQpiPBJYQwHQkuIYTpSHAJIUzn/wPMhlCvHQhVWQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNS0yN1QyMToyMzoxMiswODowMArxpUgAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDUtMjdUMjE6MjM6MTIrMDg6MDB7rB30AAAAIHRFWHRzb2Z0d2FyZQBodHRwczovL2ltYWdlbWFnaWNrLm9yZ7zPHZ0AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADE4NykstJsAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMzAyAepOLwAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTkwNTg1NzkySS2+LQAAABJ0RVh0VGh1bWI6OlNpemUAODI2MEJCqY6UOQAAAEZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL2FwcC90bXAvaW1hZ2VsYy9pbWd2aWV3Ml85XzE1OTAxMzk0MjM1NTczODY0XzEzX1swXTAGrpgAAAAASUVORK5CYII=" width="302" height="187" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="句子段落级别的移动">句子，段落级别的移动<a class="hash-link" href="#句子段落级别的移动" title="Direct link to heading">​</a></h4><ul><li><p><code>0</code> 移动到当前行行首</p></li><li><p><code>^</code> 移动到当前行的第一个非空字符</p></li><li><p><code>$</code> 移动到当前行尾</p></li><li><p><code>(</code> 跳转到当前或前一个句子的开头</p></li><li><p><code>)</code> 跳转到当前或下一个句子的结尾</p></li><li><p><code>{</code> 跳转到当前或前一个段落的开头</p></li><li><p><code>}</code> 跳转到当前或下一个段落的结尾</p></li><li><p>这里段落很容易理解，是以空行分隔开的。句子麻烦些，是按照句号来算的。</p></li><li><p>记得在这些命令前添加 <code>d</code>试一下效果吧，掌握<code>操作+范围</code>这种命令形式吧。</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="页面级别的移动">页面级别的移动<a class="hash-link" href="#页面级别的移动" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="按行移动光标">按行移动光标<a class="hash-link" href="#按行移动光标" title="Direct link to heading">​</a></h5><ul><li><code>gg</code> 移动到文本第一行行首</li><li><code>G</code> 移动到文本末行行首</li><li><code>[n] + %</code>：按百分比近似定位到某行，该行位于整个文件的<code>n%</code>处</li><li><code>[n] + gg/G</code> 跳转到第<code>n</code>行，常用。</li></ul><p>要想用好上述几个命令，有两个简单的建议：</p><ol><li>结合命令：<code>ctrl-g</code>。该命令的作用是显示当前行的位置信息（第几行，相对整个文本行数的百分比）。</li><li>在命令模式下输入以下命令，或在<code>~/.vimrc</code>中添加如下代码片段</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">set</span><span class="token plain"> nu </span><span class="token string" style="color:#e3116c">" 显示行号</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">set cursorline "</span><span class="token plain"> 高亮光标所在行</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">/pre</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="显示页面内移动光标">显示页面内移动光标<a class="hash-link" href="#显示页面内移动光标" title="Direct link to heading">​</a></h5><ul><li><code>H</code>：屏幕顶部行首</li><li><code>M</code>：屏幕中央行首</li><li><code>L</code>：屏幕底部行首</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="滚动与翻页">滚动与翻页<a class="hash-link" href="#滚动与翻页" title="Direct link to heading">​</a></h5><ul><li><p><code>ctrl-d/u</code>：前进/后退半页</p></li><li><p><code>ctrl-f/b</code>：前进/后退整页</p></li><li><p><code>ctrl+e</code>：上滚一行</p></li><li><p><code>ctrl+y</code>：下滚一行</p></li><li><p><code>zt</code>：使光标所在位置移动到屏幕的顶部（所有内容做位移）</p></li><li><p><code>zz</code>：使光标所在位置移动到屏幕的中央（所有内容做位移）</p></li><li><p><code>zb</code>：使光标所在位置移动到屏幕的底部（所有内容做位移）</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="匹配">匹配<a class="hash-link" href="#匹配" title="Direct link to heading">​</a></h4><ul><li><code>f+单个字符</code>：在本行内向右移动到指定字符</li><li><code>F+单个字符</code>：在本行内向左移动到指定字符</li><li><code>t+单个字符</code>：在本行内向右移动到指定字符的前一个字符</li><li><code>T+单个字符</code>：在本行内向左移动到指定字符的前一个字符</li><li><code>%</code>: 在“( )”、“<!-- -->[ ]<!-- -->”、“{ }”类符号的首尾间切换</li><li><code>*</code> 和 <code>#</code>: 匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（*是下一个，#是上一个）。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="mark">Mark<a class="hash-link" href="#mark" title="Direct link to heading">​</a></h4><ul><li><code>m+[a~z]</code> ：在当前光标做标记，如ma</li><li><code>'+[mark]</code>：光标返回指定标记所在的行，如<code>'a</code>，则光标返回到标记<code>a</code>所在行首</li><li>"`"+<!-- -->[mark]<!-- -->：光标返回指定标记</li><li><code>ctrl+o</code>：跳转回光标前一个位置</li><li><code>ctrl+i</code>：跳转回较新的光标位置</li><li>建议结合命令模式下如下两个命令，可获得更好体验：<ul><li><code>:marks</code>：显示全部mark</li><li><code>:delmarks [mark]</code>：删除指定mark</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="编辑进阶">编辑进阶<a class="hash-link" href="#编辑进阶" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="进入插入模式">进入插入模式<a class="hash-link" href="#进入插入模式" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="在不同位置进入插入模式">在不同位置进入插入模式<a class="hash-link" href="#在不同位置进入插入模式" title="Direct link to heading">​</a></h5><ul><li><code>i</code>：在光标前插入字符</li><li><code>I</code>：在行首插入字符</li><li><code>a</code>：在光标后插入字符</li><li><code>A</code>：在行尾插入字符</li><li><code>o</code>：在光标下发插入空行</li><li><code>O</code>：在光标上方插入空行</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="使用修改命令进入插入模式">使用修改命令进入插入模式<a class="hash-link" href="#使用修改命令进入插入模式" title="Direct link to heading">​</a></h5><ul><li><p><code>c</code>：修改，后面需要接范围</p></li><li><p><code>c+w</code>：删除光标位置单词，并进入插入模式</p></li><li><p><code>c+l / s</code>：删除光标位置字符，并进入插入模式</p></li><li><p><code>c+c / S</code>：删除光标所在行，并进入插入模式</p></li><li><p><code>c+$ / C</code>：删除光标位置到行尾的字符，并进入插入模式</p></li><li><p><code>r</code>： 替换当前字符。</p></li><li><p><code>R</code>：（进入replace模式）持续替换光标所在字符，直到使用ESC退出替换模式。</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="删除">删除<a class="hash-link" href="#删除" title="Direct link to heading">​</a></h4><ul><li><p><code>x</code>： 删除当前位置或下一个位置的字符。</p></li><li><p><code>d</code>：删除，属于动作指令，后面需要加操作类指令。比如如下命令：</p><ul><li><code>de</code>：删除到当前单词结尾。</li><li><code>dw</code>：删除到下一个单词开始。</li><li>注意，此处与<code>de</code>的区别在于，<code>dw</code>会删除两个单词之间的空格。</li><li><code>daw</code>：删除一个单词，包含单词的边界（空格）。</li><li><code>d0</code>：删除至行首。</li><li><code>d$ / D</code>：删除至行尾。</li></ul></li><li><p><code>da[</code>：删除<!-- -->[ ]<!-- -->整个块，包含符号本身；</p></li><li><p><code>di[</code>：删除<!-- -->[ ]<!-- -->块，不包含符号本身；</p></li><li><p><code>da/di +</code> ' " { ( 等，也与接[类似，删除整个区块。唯一需要注意的，"和'仅仅在行内。</p></li><li><p><code>dt[x]</code>：在本行，删除到<!-- -->[x]<!-- -->。比如，<code>dt"</code>删除到双引号，<code>dtf</code>，删除到字母<code>f</code>。 <code>d/foo</code>：在全文， 删除到 “foo” 。</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="剪切">剪切<a class="hash-link" href="#剪切" title="Direct link to heading">​</a></h4><p>剪切操作其实就是我们之前讲的删除。也就是<code>d</code>。删除的内容，默认会存放到剪切板中。也就相当于进行了剪切。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="进阶操作符">进阶操作符<a class="hash-link" href="#进阶操作符" title="Direct link to heading">​</a></h4><p>从这里大家可以看出，<code>i</code>和<code>a</code>的作用比较特殊，代表与区块相关的某种操作。区别就在于，<code>i</code>不包含区块边界符号。<code>a</code>包含。这两个操作符很重要，在后面的复制操作中还会用到。此外还有<code>t</code>，<code>/</code>。此外，<code>i</code>和<code>a</code>还可以接<code>t</code>，此时<code>t</code>表示一对xml标签。<code>i</code>：区块，不包含边界。<code>a</code>：区块，包含边界。<code>t</code>："to"，本行到哪里。<code>/</code>：接匹配，全文到哪里。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="粘贴">粘贴<a class="hash-link" href="#粘贴" title="Direct link to heading">​</a></h4><ul><li><code>p</code>：粘贴到光标后，或下一行。</li><li><code>P</code>：粘贴到光标前，或前一行。</li></ul><p>为什么会有光标前后或上下一行两种情况呢？是因为我们复制或剪切的内容有可能是字符串或者整行：</p><ul><li>当复制内容为字符串时，粘贴到光标前/后。</li><li>当复制内容为整行时，粘贴到上/下一行。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="复制">复制<a class="hash-link" href="#复制" title="Direct link to heading">​</a></h4><ul><li><code>y</code>，复制，属于操作，后面需要接动作来标识复制的范围。比如：<ul><li><code>yw</code>：复制到当前单词结尾。</li><li><code>ye</code>：从当前位置复制到本单词的最后一个字符。</li><li><code>y$</code>：复制到当前行尾。</li><li><code>yy</code>或<code>Y</code>：复制当前行。</li><li><code>nyy</code>：复制从光标所在行起的n行，注意n在最前面。</li></ul></li></ul><p><code>0y$</code>： 命令意味着：</p><ul><li><code>0</code> → 先到行头</li><li><code>y</code> → 从这里开始拷贝</li><li><code>$</code> → 拷贝到本行最后一个字符</li></ul><p>当然也可以结合我们刚刚介绍的进阶操作符来进行操作：</p><ul><li><code>yi"</code>：复制两个引号之间</li><li><code>yit</code>：复制两个xml标签之间</li><li><code>y/[x]</code>：复制到x。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="剪切板">剪切板<a class="hash-link" href="#剪切板" title="Direct link to heading">​</a></h4><p>vim 有 12 个剪切板，分别是 0、1、2、...、9、a、“、＋。<code>:reg</code>：查看各个剪切板里的内容。<code>y</code>，<code>p</code>默认使用 "剪切板中的内容。
<code>"[n]y</code>：复制到剪切板<code>n</code>中。<code>"[n]p</code>：粘贴剪切板<code>n</code>中的内容。</p><p><strong>查看是否支持系统剪切板：</strong></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> --version </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"clipboard"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>观看输出中，<code>clipboard</code>前面是<code>+</code>还是<code>-</code>。若是<code>-</code>，则说明不支持系统剪切板。
<code>+</code>号剪切板比较特殊，是<strong>系统剪切板</strong>，用于与系统其他应用互动：</p><ul><li><code>"+y</code>，将内容复制到系统剪切板，<code>ctrl＋v</code>将其粘贴到其他应用中，比如<code>vs code</code>。</li><li><code>"+p</code>，将其他应用中复制的内容，粘贴到vim中。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="可视模式">可视模式<a class="hash-link" href="#可视模式" title="Direct link to heading">​</a></h4><p><code>v</code>：进入可视模式。<code>V</code>：进入行选择模式。<code>Crtl + v</code>：进入块选择模式。</p><p>进入可视模式后，可以通过之前的移动操作，来进行选择。比如：<code>hjkl</code>：前后左右选择。<code>$</code>：选择到行尾。<code>i"</code>：选择两个引号之间。</p><p>选择后，可以使用</p><ul><li><code>d</code>进行删除/剪切，</li><li><code>y</code>进行复制。</li><li>还可以使用以下很有意思的命令：<ul><li><code>gU</code>：变大写。</li><li><code>gu</code>：变小写。</li><li><code>J</code>：把所有的行连接起来（变成一行）。</li><li><code>&lt;</code> 或 <code>&gt;</code>：左右缩进。</li><li><code>=</code> ：自动缩进 。</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="格式化">格式化<a class="hash-link" href="#格式化" title="Direct link to heading">​</a></h4><p><code>=</code>：调整格式化缩进。<code>gg=G</code>：全文代码格式化。</p><ul><li><code>gg</code>，到文章开头</li><li><code>=</code>，调整格式</li><li><code>G</code>，到文章结尾。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="自动补全">自动补全<a class="hash-link" href="#自动补全" title="Direct link to heading">​</a></h4><p>编辑模式下<code>Ctrl + n/p</code>出现提示，此时会出现补全的选项。按住<code>Ctrl</code>不放，用<code>n</code>和<code>p</code>来遍历提示选项，到达期待的选项后，无需其他操作，继续输入即可。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="撤销">撤销<a class="hash-link" href="#撤销" title="Direct link to heading">​</a></h4><ul><li><code>u</code>：撤销前一个动作</li><li><code>U</code>：撤销当前行的一系列动作</li><li><code>CTRL-R</code>：Redo，意思就是我又不想撤销了。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="查找替换">查找替换<a class="hash-link" href="#查找替换" title="Direct link to heading">​</a></h4><ul><li><code>/</code>： 查找，此时Terminal左下角会出现<code>/</code>，在后面输入想要查找的内容，回车即可。</li><li><code>?</code>：反向查找，同样道理，左下角会出现<code>?</code>。</li><li><code>/[search]\c</code>：忽略大小写。比如：<code>/test\c</code>，查找test，忽略大小写</li><li><code>n</code>： 下一个匹配</li><li><code>N</code>： 前一个匹配</li></ul><p>命令模式下：</p><ul><li><code>s/old/new/</code>：用<code>new</code>替换<code>old</code></li><li><code>s/old/new/g</code>：全局替换</li><li><code>set hlsearch</code>：<strong>高亮</strong>搜索结果</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="宏录制">宏录制<a class="hash-link" href="#宏录制" title="Direct link to heading">​</a></h4><p><code>qa</code> 操作序列 <code>q</code>, <code>@a</code>, <code>@@</code></p><ul><li><code>qa</code> 把你的操作记录在寄存器 <code>a。</code></li><li>于是 <code>@a</code> 会replay被录制的宏。</li><li><code>@@</code> 是一个快捷键用来replay最新录制的宏。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="命令">命令<a class="hash-link" href="#命令" title="Direct link to heading">​</a></h2><ul><li><code>:w</code>：保存修改</li><li><code>:wq</code>：保存修改并退出</li><li><code>ZZ</code>：保存修改并退出</li><li><code>q!</code>：不保存修改，强制退出</li><li><code>e!</code>：不保存修改，强制重新打开当前文件</li></ul><blockquote><p>大家可以看到，<code>!</code>的作用便在于，强制。除此以外，他还有另一个很强势的功能，就是执行shell命令。具体信息，大家可以详细阅读下一节。</p></blockquote><ul><li><code>.</code>：重复执行前一个命令。这个命令很灵活、实用，建议多多尝试。</li><li><code>:help [command]</code>：查看某命令的help此外，在命令行中执行如下命令，便可进入vim的教程。</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vimtutor</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="外部命令">外部命令<a class="hash-link" href="#外部命令" title="Direct link to heading">​</a></h2><p>这是<code>vim</code>的一个很神奇的功能，在编辑的时候可以与外部文本互动，甚至执行一些<code>shell</code>命令。</p><ul><li><p><code>:w [file-name]</code>：将当前内容输出到指定文件中</p></li><li><p><code>:r [file-name]</code>：将另外一个文件的内容输出到当前位置</p></li><li><p><code>:e filename</code>：vim下打开指定文本</p></li><li><p><code>ctrl+w, s</code>：水平拆分窗口</p></li><li><p><code>ctrl+w, v</code>：垂直拆分窗口</p></li><li><p><code>ctrl+w, ARROW(h,j,k,l或方向键)</code>：在窗口间切换光标。</p></li><li><p><code>ctrl+w, w</code>：在窗口间切换光标。</p></li><li><p><code>:qa</code>：关闭所有窗口。</p></li><li><p><code>:saveas</code>：另存为。</p></li><li><p><code>:n/bn/bp</code>：在打开的多个文件间切换。</p></li><li><p><code>:![command]</code>：vim下执行某shell命令。</p></li><li><p>比如，<code>:!ls</code>，便会暂时切换到shell下，输出当前目录的文件名。此时输入回车，便可退回当前<code>vim</code>编辑的文件中。</p></li></ul><p>如果你觉得这种输入命令的方式还不够过瘾，<code>vim</code>还提供了保留当前工作现场，直接进入shell的方式。这种命令一个典型的工作场景是，如我们编辑了一个文件，但是发现无法保存（没有写权限），此时可以先进入到shell下，执行类似<code>chmod u+w [filename]</code>，的命令，为当前用户获取该文件的写权限，然后再回到 vim 保存刚刚的修改。 有如下两种方法：</p><ol><li><code>:shell</code> 或 <code>:sh</code>，当退出当前 shell 时（比如<code>exit</code>），就会回到 vim。</li><li><code>ctr-z</code> 进入 shell，<code>fg</code> 退回 vim。</li></ol><h1>Config</h1><p>这部分主要是一些vim的config。可以直接命令模式输入，也可以保存到<code>~/.vimrc</code>中，便可每次打开<code>vim</code>自动应用。(其中一些命令是互相冲突的，请自行选择有用的命令)。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">syntax on </span><span class="token comment" style="color:#999988;font-style:italic"># 开启语法高亮</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> nu</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mber</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 显示行号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> nonu</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mber</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 隐藏行号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> cursorline </span><span class="token comment" style="color:#999988;font-style:italic"># 高亮当前行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> ruler </span><span class="token comment" style="color:#999988;font-style:italic"># 显示光标位置信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> noruler </span><span class="token comment" style="color:#999988;font-style:italic"># 隐藏光标位置信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> hlsearch </span><span class="token comment" style="color:#999988;font-style:italic"># 高亮匹配</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> nohlsearch </span><span class="token comment" style="color:#999988;font-style:italic"># 取消高亮匹配</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nohlsearch </span><span class="token comment" style="color:#999988;font-style:italic"># 临时取消高亮（只取消一次查询的高亮）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> incsearch </span><span class="token comment" style="color:#999988;font-style:italic"># 在输入字符串过程中显示匹配点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> nowrapscan </span><span class="token comment" style="color:#999988;font-style:italic"># 找到文尾后停止查找</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> wrapscan </span><span class="token comment" style="color:#999988;font-style:italic"># 恢复为到文尾后自动从头开始</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> ic/ignorecase</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 忽略大小写</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> noic/noignorecase </span><span class="token comment" style="color:#999988;font-style:italic"># 区分大小写&lt;/pre&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>VIM思想</h1><p>这部分主要是一些我在使用<code>vim</code>过程中的一些思考和感悟，试图尽力阐述出来。如果大家能有一些思考和收获，说明我的思考是有意义的。如果大家有不同见解，十分欢迎拍砖交流。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-normal">Why Normal<a class="hash-link" href="#why-normal" title="Direct link to heading">​</a></h4><ul><li>为什么vim下，要放弃人们习惯的插入模式，使用命令模式呢？仔细想一想，其实原因很简单：在没有鼠标的年代，人们只能依靠键盘来移动光标，修改文本。</li><li>为什么现在有了鼠标，我们还要用正常模式呢?<ol><li>工作内容覆盖。我们每个人都认为，工程师的工作，是写代码。然而，其实我们主要的工作，是读，或者说，理解代码。经调查，工程师日常工作中，读：写代码的比例，为10：1(参考《Clean Code》一书)。所以默认的普通模式，主要满足占比重更大的”读“；遇到需要修改的时候，再进入编辑模式。</li><li>大量快捷键。相信每个人，都最起码知道一组快捷键：<code>ctrl-c/v</code>，也就是我们熟悉的copy &amp; paste. 如果你平时注重效率，养成了快捷键的习惯，还可能知道一些诸如<code>ctrl-a/x/s/w</code>等。不知你注意到没有，如刚刚列举的很多快捷键，都由 <code>特殊的命令符+字母</code>构成。因为在此时，键盘上的大多数按键，都是可以<strong>输入到文本中的字符</strong>。而在<code>vim</code>的正常模式下面，无法直接向文件中输入这些字符，相当于<strong>不用按<code>ctrl</code>等特殊的命令符</strong>，直接可以把这些按键，用作命令的快捷键。</li></ol></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="合理的快捷键">合理的快捷键<a class="hash-link" href="#合理的快捷键" title="Direct link to heading">​</a></h4><ul><li>vim中的快捷键，布局非常合理。根据使用频繁程度，调整距离手边的距离。比如，最基础的移动操作，放在手边的<code>HJKL</code>。虽然移动将手移动到键盘上的方向键，并未真正的浪费多少时间，但是其对思维的打断，其实非常影响效率。</li><li>快捷键的设置，也是非常合理，结合了单词的意义、读音，非常便于记忆。比如：<ul><li><code>d</code>	delete</li><li><code>c</code>	change</li><li><code>w</code>	word</li><li><code>e</code>	end</li><li><code>b</code>	back</li><li><code>I</code>	edit</li><li><code>f</code>	find</li><li><code>r</code>	replace</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="精细化多维度命令">精细化，多维度命令<a class="hash-link" href="#精细化多维度命令" title="Direct link to heading">​</a></h4><p>快捷键应有尽有，各个维度移动，都切合使用者思维，几乎可以做到”指哪儿打哪儿“。
比如，移动、删除、复制、等等操作，都可以结合精细化的位置，根据符合人类思维的不同维度，进行操作。
比如，字符，单词，行，文章，屏幕，匹配（位置、文字、符号），以及类似书签的Mark等。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="原子组合命令">原子、组合命令<a class="hash-link" href="#原子组合命令" title="Direct link to heading">​</a></h4><p><code>vim</code>的大部分快捷键，都是原子操作，并通过与范围结合，排列组合，灵活多变，完成各种强大的功能。这也与<code>unix</code>的主要思想契合：每个命令做好，且只做好同一件事。
与此同时，通过用数字和宏，代替无意义的重复。
此外，对一些常用操作，提供了现成的宏，方便操作。比如，<code>dd</code>，是删除整行，同时也可以直接用<code>D</code>来完成。<code>I</code>，<code>A</code>等，也是类似道理。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="外部命令-1">外部命令<a class="hash-link" href="#外部命令-1" title="Direct link to heading">​</a></h4><p>类似栈的思路，可以放下当前操作，保存现场，然后进入另一个操作。当操作完成后，回到当前现场。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="思维模式">思维模式<a class="hash-link" href="#思维模式" title="Direct link to heading">​</a></h4><p><code>vim</code>的快捷键，或者说命令，不仅很符合我们的思维，而且还能在很大程度上扩展我们的思维。
拿编辑代码时最多的操作，移动光标来说。原来我们的移动，基本就是通过键盘的方向键，上下左右，或者通过鼠标，移动到想要去的位置。而在vim中，你会发现，光标除了上下左右，还可以移动到词首，词尾，句首，句尾，行首，行尾，页面首部，页面中部，页面尾部，文档首部，文档尾部，文档任意一行，甚至还可以移动到某个指定字母，某个tag，匹配大、中、小括号。度过最初的不适应后，通过刻意练习和日常使用，肌肉形成记忆，便无需刻意回想是用什么命令，而是潜意识完成操作。掌握了这些命令后，当你使用原来的编辑器时，也会去寻找这些快捷键。这就不仅仅是使用vim时候提供效率了，而是通过提高编辑操作的意识、思想，提高了整体的工作效率。</p><p>使用vim一段时间后，我在其他工具中进行编辑时，编再也无法忍受，一个一个自读地移动光标。于是也会主动去找单词、行级别移动的快捷键。</p><ul><li>Mac系统<ul><li><code>cmd + ←/→</code>	移动到：当前行首/尾部</li><li><code>alt + ←/→</code>	移动到：当前单词首/尾部</li></ul></li><li>iterm：<ul><li><code>ctrl + f/b</code>	前进/后退一个字符</li><li><code>Esc + f/b</code>	前进/后退一个单词</li><li><code>ctrl + a/e</code>	行首/行尾</li><li><code>ctrl + h/d</code>	删除光标前/后一个字符</li><li><code>ctrl + w</code>	删除光标前一个单词</li><li><code>ctrl + k/u</code>	删除光标前/后所有内容</li><li><code>ctrl + y</code>	粘贴之前删除的内容</li></ul></li></ul><h1>后记</h1><p>这篇文章到这里也就结束了，洋洋洒洒写了这么多，一次读下来就接受，很难；仅仅通过阅读就掌握，更难。想要真正用熟<code>vim</code>，掌握思想，需要后续更多思考、实践。但是相信我，这些付出，一定是值得的。因为它不仅能让你掌握一个开发利器，更能带给你很有价值的思想。</p>]]></content:encoded>
            <category>vim</category>
            <category>tools</category>
        </item>
        <item>
            <title><![CDATA[关于GTD的思考]]></title>
            <link>https://wolffn.github.io/blog/2018/02/16/关于GTD的思考</link>
            <guid>/2018/02/16/关于GTD的思考</guid>
            <pubDate>Fri, 16 Feb 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[WHY GTD]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-gtd">WHY GTD<a class="hash-link" href="#why-gtd" title="Direct link to heading">​</a></h2><p>专注目标不是那么容易做到的，需要学会<strong>分离与当前无关的任务/问题</strong>，工作中经常会碰到的问题可以首先寻找简单可用可靠的方案，并将心中的疑虑记录下来，<strong>集中成一个列表</strong>，工作之外翻翻书，系统思考和学习，而不会因为这个问题而叉开思路对相关的内容研究一番。总之，<strong>专注当前的任务，把新问题记录下来，回头再专心攻克。</strong>  </p><p>用自己最熟悉的工具（我用notes，或者纸笔，以后可能尝试Bear），把待办工作列表（今天要做什么）记录下来，很重要的一点是记录分解后的小目标（分解任务也是一个很重要的能力）。  </p><p>上述关于做事习惯的思考，便是<code>GTD</code>相关内容。所以本文主要关注如何做GTD。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="稍后读摘录">稍后读（摘录）<a class="hash-link" href="#稍后读摘录" title="Direct link to heading">​</a></h2><p>稍后读可以算是喜欢收集信息、阅读的同学们都在用的工具了。在使用 Pocket（收趣） 时，我发现了一个特殊的需求和一种特殊的体验。</p><p>这个特殊的需求是：对于我这样的人来说，稍后读服务中会存有一些软件教程类文章，它们操作性较强，不适合纯粹阅读，而是需要我们抽出时间，对照着文章中的步骤学习和执行。这种文章，我需要把它们放在任务管理软件中。</p><p>特殊的体验是：通过 Pocket 中内置的 Evernote 动作，我们可以带着 Pocket 中的标签，发送全文到 Evernote。这个发送的过程不需要特殊界面，也不需要跳转到 Evernote 的应用，它通过 Pocket 这个服务与 Evernote 这个服务之间的联接来实现。在 Pocket 中选择「发送」之后就可以继续阅读剩下的文章，而当我们打开 Evernote 并同步，就能看到这篇发送过去的文章。  </p><p>这种稍后-稍后读的方式，无疑也是<code>GTD</code>的一种形式。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gtd">GTD<a class="hash-link" href="#gtd" title="Direct link to heading">​</a></h2><blockquote><p>这部分主要是我阅读<a href="https://sspai.com/article/39996?series_id=1" target="_blank" rel="noopener noreferrer">少数派专栏</a>时的笔记。推荐阅读作者原文。当然，我只记录免费部分。</p></blockquote><p><img loading="lazy" alt="GTD" src="/assets/images/GTD-2105514e89e59ae33af57c5d5f18a4cc.jpg" width="1280" height="320" class="img_ev3q">
上图便是GTD德五个步骤：</p><blockquote><p>「收集」「处理」「整理」「回顾」「执行」</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="收集capture">收集（Capture）<a class="hash-link" href="#收集capture" title="Direct link to heading">​</a></h2><ol><li>做法：只要想到，就记下来。</li><li>目的：把脑子里的事情腾出来。</li><li>不应该脑子里一直存着一些悬而未决的事去做当下的工作</li><li>先找到一个线头，然后顺着联想的线去拽这个线头，就能拉出一大团杂事。</li><li>收件箱随后要清空，不要在收件箱里积攒任务。下一次做收集时，收件箱不应该存在之前看过的任务。</li><li>将不知该如何分类的任务，放到一个单独的列表，命名为「杂项」，或「小事」等</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="厘清clarify">厘清（Clarify）<a class="hash-link" href="#厘清clarify" title="Direct link to heading">​</a></h2><ol><li>目的：把收件箱内的任务明晰化，分清哪些是可行的任务，哪些是不可行的想法。</li><li>效果：收件箱里就会只剩下那些「不能马上做的可行任务」，这些任务，就需要正式进入任务管理系统，来整理分类</li><li>孵化：目前不需要，未知的未来也许会做。比如，“学习一门语言”。不应该保留。原因如下：<ol><li>首先，任务管理系统里应该放那些有完成日期的并且可执行的任务。</li><li>其次，大多数任务管理软件，会在项目后面显示未完成任务数，这个是一个压力源。</li></ol></li><li>标准：让任何人在看到这个任务后都知道这么做，可以马上执行：时机（什么时候）、重点（做什么）、执行方式（类似URL）</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="整理organize">整理（Organize）<a class="hash-link" href="#整理organize" title="Direct link to heading">​</a></h2><ol><li>列表：让每个任务都有所属</li><li>标签：标注一个任务的执行时的情境：在哪里做、优先级、分配给谁<br><img loading="lazy" alt="GTD" src="/assets/images/list-06b8a3248f9d2224ea6ff4c1c4d116f4.png" width="750" height="1334" class="img_ev3q"><br><img loading="lazy" alt="GTD" src="/assets/images/tag-bc064c4d6432bbc2618623f3c34fe00e.png" width="852" height="404" class="img_ev3q">  </li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="回顾reflect">回顾（Reflect）<a class="hash-link" href="#回顾reflect" title="Direct link to heading">​</a></h2><ol><li>目的：保障系统的有效性，不堆积无效和不能处理的任务。</li><li>当下回顾：日常行为。定期回顾：最少是每周回顾一次
<img loading="lazy" alt="GTD" src="/assets/images/reflect-49f205814127509533fa65280ce87de7.png" width="658" height="260" class="img_ev3q"></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="执行engage">执行（Engage）<a class="hash-link" href="#执行engage" title="Direct link to heading">​</a></h2><p>「出行前」、「不到 5 分钟行动」</p>]]></content:encoded>
            <category>GTD</category>
            <category>read</category>
        </item>
        <item>
            <title><![CDATA[CSS居中的各种实现方式]]></title>
            <link>https://wolffn.github.io/blog/2017/11/15/CSS居中的各种实现方式</link>
            <guid>/2017/11/15/CSS居中的各种实现方式</guid>
            <pubDate>Wed, 15 Nov 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[CSS中如何完美做到居中，一直是令前端工程师头疼的问题。最近读到CSS-TRICKS中的一篇帖子，将居中问题的解决方案策略化。感觉收获很大，翻译过来供大家交流学习。]]></description>
            <content:encoded><![CDATA[<p><em>CSS中如何完美做到居中，一直是令前端工程师头疼的问题。最近读到<a href="https://css-tricks.com/" target="_blank" rel="noopener noreferrer">CSS-TRICKS</a>中的一篇帖子，将居中问题的解决方案策略化。感觉收获很大，翻译过来供大家交流学习。</em>
当我们书写CSS时，让元素居中，是抱怨的爆发点之一：为什么会这么难？<br>
<!-- -->我认为问题的关键，不在于怎么做，而在于我们如何从诸多居中方法中选择出适应当前情景的。<br>
<!-- -->所以接下来，让我们一起创建一颗决策树，希望可以让居中变得简单。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="水平居中">水平居中<a class="hash-link" href="#水平居中" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="行内元素">行内元素<a class="hash-link" href="#行内元素" title="Direct link to heading">​</a></h3><p>我们可以通过对其父级块元素做如下处理来使行内元素居中。适用于<code>inline</code>,<code>inline-block</code>,<code>inline-table</code>,<code>inline-flex</code>等。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.center-children</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">text-align</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> center</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例：<a href="http://codepen.io/chriscoyier/pen/HulzB" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="块级元素">块级元素<a class="hash-link" href="#块级元素" title="Direct link to heading">​</a></h3><p>我们可以通过将一个块级元素的<code>margin-left</code>和<code>margin-right</code>同时设置为<code>auto</code>来使其居中。<em>（注意：此时元素必须定义有<code>width</code>，否则将填满宽度，谈不上水平居中。）</em>通常由以下简写来定义：</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.center-me</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> auto</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/eszon" target="_blank" rel="noopener noreferrer">传送门</a></p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="多个块级元素">多个块级元素<a class="hash-link" href="#多个块级元素" title="Direct link to heading">​</a></h3><p>当同一行中有两个或以上块级元素需要居中时，我们不得不通过改变<code>display</code>的类型来实现。下面的例子分别将<code>display</code>设置为<code>inline-block</code>以及<code>flexbox</code>的例子。</p><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/ebing" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><p>当你指的是多个位于同一列上的块级元素时，将<code>margin</code>设为<code>auto</code>的技术依旧生效。  </p><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/haCGt" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="垂直居中">垂直居中<a class="hash-link" href="#垂直居中" title="Direct link to heading">​</a></h2><p>在CSS中做到垂直居中，我们需要稍微狡猾一点。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="行内元素-1">行内元素<a class="hash-link" href="#行内元素-1" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="单行">单行<a class="hash-link" href="#单行" title="Direct link to heading">​</a></h4><p>有时行内元素或文本能够做到垂直居中，仅仅是因为元素上、下的<code>padding</code>相等。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.link</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">padding-top</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">padding-bottom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/ldcwq" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><p>在某些情况当<code>padding</code>不适用，并且文字不会换行时，有一个技巧：当<code>line-height</code>与<code>height</code>相等时，文字垂直居中。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.center-text-trick</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">line-height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">white-space</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nowrap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/LxHmK" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="多行">多行<a class="hash-link" href="#多行" title="Direct link to heading">​</a></h4><p>上下<code>padding</code>相等依旧可以解决这个问题。但当此方法不生效时，可能是元素或文本处于<code>table cell</code>中，要么是<code>html</code>语义中的<code>table</code>，要么是<code>CSS</code>中的设置。这种情况下，我们使用<code>vertical-align</code>来完成垂直居中。注意：此为特殊用法，<code>vertical-align</code>平时用来处理一行中的元素如何排列。</p><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/ekoFx" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><p>如果类似<code>table</code>的那些无效时，也许我们应该尝试下<code>flexbox</code>。 在<code>flex</code>中，一个子元素可以轻易地在父元素中居中。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">flex-center-vertically</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flex</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">justify-content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> center</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">flex-direction</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> column</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/uHygv" target="_blank" rel="noopener noreferrer">传送门</a></p></blockquote><p>记住，这种做法仅在父级元素高度固定时(px, %等)才有效。
如果上述两种做法都无效，那么我们可以采用“幽灵元素”技术。在这种做法中，一个伪元素占据父元素的全部高度，然后文本在其中垂直居中。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.ghost-center</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> relative</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.ghost-center</span><span class="token selector pseudo-element" style="color:#00009f">::before</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">" "</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> inline-block</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">width</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">vertical-align</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> middle</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.ghost-center</span><span class="token selector" style="color:#00009f"> p</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> inline-block</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">vertical-align</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> middle</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/ofwgD" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="块级元素-1">块级元素<a class="hash-link" href="#块级元素-1" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="高度已知时">高度已知时<a class="hash-link" href="#高度已知时" title="Direct link to heading">​</a></h4><p>由于诸多原因，很多情况我们无法得知元素的高度，比如：当宽度变化时，文字的重绘会改变高度；文字样式的变化可能改变高度；文字数量的变化可能改变高度；宽高比固定的元素，比如图片，在改变大小时也会改变高度，等等。
但当我们知道高度时，可以按照如下方法实现垂直居中：</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.parent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> relative</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.child</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> absolute</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">top</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">margin-top</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">-50</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/* account for padding and border if not using box-sizing: border-box; */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/HiydJ" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="高度未知时">高度未知时<a class="hash-link" href="#高度未知时" title="Direct link to heading">​</a></h4><p>在这种情况下，我们仍然可以实现垂直居中：将元素下移父级元素的50%，再上移自身高度的50%。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.parent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> relative</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.child</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> absolute</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">top</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">transform</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">translateY</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">-50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/lpema" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="可以使用flexbox时">可以使用<code>flexbox</code>时<a class="hash-link" href="#可以使用flexbox时" title="Direct link to heading">​</a></h4><p>不算什么大的惊喜，在<code>flexbox</code>中，这可容易多了。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.parent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flex</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">flex-direction</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> column</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">justify-content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> center</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/FqDyi" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="同时水平和垂直居中">同时水平和垂直居中<a class="hash-link" href="#同时水平和垂直居中" title="Direct link to heading">​</a></h2><p>我们可以通过结合使用前面讲述的技巧来实现将元素完美居中。主要有以下三种情况：</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="元素宽高固定时">元素宽高固定时<a class="hash-link" href="#元素宽高固定时" title="Direct link to heading">​</a></h3><p>此时可以使用绝对定位将元素置于父元素(50%，50%)的位置，之后再通过将<code>margin</code>设置为负值。这种方法拥有广泛的浏览器支持。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.parent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> relative</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.child</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">width</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> absolute</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">top</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">left</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">-70</span><span class="token unit">px</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">-170</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/JGofm" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="元素宽高不固定时">元素宽高不固定时<a class="hash-link" href="#元素宽高不固定时" title="Direct link to heading">​</a></h3><p>当宽高不固定时，我们可以使用<code>transform</code>属性来实现将元素在两个方向同时移动50%。该宽度基于当前元素的宽度。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.parent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> relative</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.child</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> absolute</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">top</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">left</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">transform</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">translate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">-50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">-50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/lgFiq" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="可以使用flexbox时-1">可以使用<code>flexbox</code>时<a class="hash-link" href="#可以使用flexbox时-1" title="Direct link to heading">​</a></h3><p>此时我们需要使用两个居中属性：</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.parent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flex</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">justify-content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> center</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">align-items</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> center</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>示例: <a href="http://codepen.io/chriscoyier/pen/msItD" target="_blank" rel="noopener noreferrer">传送门</a>  </p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="补充额外一种兼容性很好的方法">补充额外一种兼容性很好的方法<a class="hash-link" href="#补充额外一种兼容性很好的方法" title="Direct link to heading">​</a></h3><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.Absolute-Center</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> auto</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">position</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> absolute</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">top</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">left</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">bottom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">right</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="结论">结论<a class="hash-link" href="#结论" title="Direct link to heading">​</a></h2><p>我们完全可以在CSS中实现居中。</p><p><em>译自：<a href="https://css-tricks.com/centering-css-complete-guide/" target="_blank" rel="noopener noreferrer">https://css-tricks.com/centering-css-complete-guide/</a></em></p>]]></content:encoded>
            <category>css</category>
        </item>
        <item>
            <title><![CDATA[Chrome Dev Tools---[基础篇]]]></title>
            <link>https://wolffn.github.io/blog/2017/11/15/Chrome-Dev-Tools-基础篇</link>
            <guid>/2017/11/15/Chrome-Dev-Tools-基础篇</guid>
            <pubDate>Wed, 15 Nov 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[Chrome Dev Tools 是每一位前端工程师开发调试的必备利器，称之为FE的瑞士军刀也毫不为过。然而，每每当发现一些自己不知道的用法时，我们经常会觉得，自己只是掌握了其强大功能的九牛一毛。为了能够让她发挥出最大功效，首先，我们应当了解她更多的使用方法；然后，在开发中合适的场景下，刻意练习使用；最后，熟练掌握那些之前不了解的功能，并为我所为用，最大提升效率。]]></description>
            <content:encoded><![CDATA[<p>Chrome Dev Tools 是每一位前端工程师开发调试的必备利器，称之为FE的瑞士军刀也毫不为过。然而，每每当发现一些自己不知道的用法时，我们经常会觉得，自己只是掌握了其强大功能的九牛一毛。为了能够让她发挥出最大功效，首先，我们应当了解她更多的使用方法；然后，在开发中合适的场景下，刻意练习使用；最后，熟练掌握那些之前不了解的功能，并为我所为用，最大提升效率。</p><blockquote><p>本文翻译自<a href="https://developers.google.com/web/tools/chrome-devtools" target="_blank" rel="noopener noreferrer">谷歌官方文档</a>，主要介绍了Elements, Console, Sources, Network四个Tab页面下的功能。敬请期待<code>Chrome Dev Tools 性能篇</code></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="elements">Elements<a class="hash-link" href="#elements" title="Direct link to heading">​</a></h2><ul><li><p>进入：</p><ol><li><code>Cmd + Alt + c</code> inspect，点击想观察的节点</li><li>console中<code>inspect(DOM)</code>，<code>DOM</code>为想观察的节点。</li></ol></li><li><p>遍历节点：</p><ol><li>鼠标点击</li><li>在DOM节点中，上下箭头跳转，向右箭头，展开折叠的节点。向左箭头，折叠打开的节点。</li></ol></li><li><p>编辑节点
<code>F2</code> -&gt; Edit as HTML. <code>ctrl+enter</code>保存更改，<code>Esc</code>退出更改，不保存.</p></li><li><p>编辑 DOM 节点名称或属性</p><ol><li>直接在节点名或属性上双击</li><li>选中突出节点，<code>Enter</code>,然后<code>Tab</code>选择.</li><li>右键,<code>Edit/Add Attribute</code>.</li></ol></li><li><p>点击并拖动,可以移动DOM节点.</p></li><li><p>右键-&gt;<code>Scroll into view</code>,滚动页面使节点在视口中显示.</p></li><li><p>断点调试</p><ol><li>右键节点-&gt;<code>break on</code>，可以对该节点的子树修改、属性修改、节点移除三种事件添加断点</li><li>右侧<code>DOM Breakpoints</code>,管理<strong>DOM断点</strong>.</li><li>Event Listener<ol><li>Ancestors 显示祖先节点的事件侦听器。</li><li>每个Event Listener包含两个属性<ul><li>handler, <code>右键</code> -&gt; <code>Show Function Definition</code></li><li>useCapture, addEventListener函数中<code>useCapture</code>的值(bool).</li><li>Framework listeners, 框架事件监听器. </li></ul></li></ol></li></ol></li><li><p><strong>Styles</strong>，位于面板左侧，主要是样式相关内容</p><ul><li>页面底端的Computed 可以编辑，修改。</li><li>点击<code>Styles</code>中的文件名-&gt;跳转到Source-&gt;右键，Local Modifications.</li><li><code>Inherited from &lt;NODE&gt;</code>,点击<code>&lt;NODE&gt;</code>可以跳转到该DOM节点。</li><li>灰色条目不是已定义规则，而是在运行时计算的规则。</li><li>鼠标悬停在 CSS 选择器上可以查看受该选择器影响的所有元素。</li><li>点击右上角<code>.cls</code>,可以查看、增加、删除class。</li><li>点击(并长按)右上角<code>+</code>按钮，(选择要向哪一个样式表)添加一个新的 CSS 规则。</li><li>点击右上角<code>:hov</code>，或在元素上点击右键，启用/删除伪类。</li><li>点击css属性进行修改，tab跳转；Alt/ /Shift/Shift+Fn + 上/下，增减0.1,1,10,100。</li><li>鼠标悬停到样式表上面，此时右下角出现三个点，移动过去，此时有<code>color</code>,<code>background-color</code>等快捷方式。</li><li>点击<code>color</code>声明左侧带颜色的小正方形，打开<code>color-picker</code>。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="console">Console<a class="hash-link" href="#console" title="Direct link to heading">​</a></h2><ul><li>进入: <code>Cmd + Alt + J</code></li><li>编辑时，输入<code>Shift + Enter</code>实现换行，而不会直接运行。</li><li>Settings -&gt; General -&gt; Console -&gt; <ul><li>Hide network messages/ Log XMLHttpRequests/ Preserve log / Enable custom formatters</li><li>Show timestamps 展开消息堆叠.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="console-api">Console API<a class="hash-link" href="#console-api" title="Direct link to heading">​</a></h4><ul><li><p>Ctrl + L/ <code>clear()</code> /<code>console.clear()</code> 清空console.</p></li><li><p>右键 -&gt; Save As 保存console输出.</p></li><li><p>日志组按组输出,可嵌套:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Group Name"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">groupCollapsed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Group Name"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">//默认折叠</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">groupEnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>计时器,时间戳,<em>在Timeline上有标注</em></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">time</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"name"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">timeEnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"name"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 向Timeline添加一个标记</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">timeStamp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Adding result"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>断言,在console中可跳转到代码对应位置.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"a &gt; 500!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>堆栈追踪&amp;&amp;错误处理</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 追踪堆栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// some code here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 打印跟踪调用栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">trace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 处理运行时异常</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onerror</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">message</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> url</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> line</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"window.onerror was invoked with message = "</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> message </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">", url = "</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> url </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">", line = "</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>字符串替换 <code>%s %d %f %o(DOM节点) %O(js对象) %c 样式</code>。不过有了ES6以后，推荐使用更加方便、灵活的模板字符串</p></li><li><p>添加cpu配置文件.将会添加到<code>Profiles</code>面板中</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">profile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"label"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">profileEnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>其他特殊用法</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// DOM元素格式化为JS对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 输出object子级元素xml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dirxml</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 将Object,Array输出</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">a</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">b</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">c</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">a</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"foo"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">b</span><span class="token operator" style="color:#393A34">:</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">c</span><span class="token operator" style="color:#393A34">:</span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">family</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"firstName"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"lastName"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"age"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 记录相同字符串传入的次数(多用于统计函数调用次数)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Login called for user "</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="command-line-api">Command Line API<a class="hash-link" href="#command-line-api" title="Direct link to heading">​</a></h4><ul><li><p>↑ / ↓切换查看表达式 </p></li><li><p>选择元素</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'code'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// document.querySelector()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'figure'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// document.querySelectorAll()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">$x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'html/body/p'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 返回与指定xpath匹配的数组元素</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$0 </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 返回最近访问过的5个元素,$0为最新的一个</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>监听事件, 查看时间监听器(<code>Elements</code>-&gt;<code>Event Listener</code>中也可以查看)</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">monitorEvents</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"click"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 监听事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">unmonitorEvents</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 取消监听</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">getEventListeners</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 返回在指定对象上注册的事件侦听器</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>复制:将指定对象的字符串表示形式复制到剪贴板.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">copy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">copy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>调试函数</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">debug</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 调用fn时开始调试</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">undebug</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 停止调试</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">monitor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// console中将输出函数调用,以及传入的参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">unmonitor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 停止监控</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>在<code>Elements</code>中打开指定元素/对象/函数.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">inspect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DOM</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">inspect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">object</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>查看对象</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sources">Sources<a class="hash-link" href="#sources" title="Direct link to heading">​</a></h2><ul><li>添加断点<ul><li>添加<code>Event</code>断点:
<code>Source标签</code>-&gt;右侧<code>Event Listener Breakpoints </code>-&gt;<code>Mouse</code>-&gt;<code>click</code></li><li><code>DOM</code>断点.Elements 面板中，对DOM节点右键，Break On...</li><li><code>XHR</code>断点</li><li>异常断点:右上角<code>Pause on exceptions</code></li><li>条件断点</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//  当DOM元素满足某个条件进行断点，同时查看这个元素</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">hasAttribute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'class'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">inspect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">elem</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>在编辑器中行首右键,<code>continue to here</code></li><li>检测变量值<ul><li><code>Watch</code>-&gt;<code>+</code>,添加希望检测的表达式,比如,a,typeof a</li><li><code>Scope</code>窗格,在脚本暂停时,会显示当前变量</li></ul></li><li>log变量值<ul><li>右键 -&gt; <code>Add logpoint</code></li></ul></li><li>右上角<code>Deactivate breakpoints</code>,启动/忽略全部断点</li><li><code>Call Stack</code>调用堆栈<ul><li>在<code>Call Stack</code>中右键,<code>Restart Frame</code></li><li><code>Async</code>,提高完整的异步函数调用堆栈的可视性</li><li>使用非匿名函数,提高堆栈可读性</li></ul></li><li>将第三方脚本添加入黑箱:<ul><li>在已打开的文件中,右键-&gt;<code>Blackbox Script</code></li><li>在<code>Call Stack</code>中,右键-&gt;<code>Blackbox Script</code></li><li><code>Settings</code>-&gt;<code>Blockboxing</code>-&gt;<code>add pattern</code>,下拉菜单中,<code>Blackbox</code>黑箱,<code>Disabled</code>阻止执行</li></ul></li><li>实时编辑:编辑器中修改代码-&gt;<code>Cmd + s</code>，继续运行代码</li><li><code>Threads</code>,切换线程</li><li><code>Source Map</code>, <code>Settings</code>中开启</li><li><code>Snippets</code> 编写代码，运行结果输出到<code>console</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="network">Network<a class="hash-link" href="#network" title="Direct link to heading">​</a></h2><ul><li>面板中，蓝线标志<code>DOMContentLoaded</code>事件，红线标志<code>load</code>事件。</li><li><code>Http1.0/1.1</code>下,<code>chrome</code>最多支持对同一个<code>domain</code>6个<code>TCP</code>请求</li><li>Shift + 光标移动到request上面，此时绿色标志该请求的发起者，红色标志该请求的依赖项。</li><li>摄像机按钮，<code>Capture Screenshots</code>，再次刷新页面时，可以在时间轴上方看到对应屏幕状态。</li><li><code>disable cache</code>,<code>throttle</code>,<code>Offline</code>,<code>hide data urls</code></li><li>右键-&gt;<code>clear browser cache</code></li><li>右键表格header -&gt; 添加/移除显示列</li><li><code>header</code>:<code>Use large request rows</code>,<code>Show overview</code></li><li>右键request-&gt;<code>copy response</code>-&gt;console中<code>copy({})</code>-&gt;得到格式化的JSON</li><li><ul><li>右键request-&gt;<code>block request</code> 在drawer中,查看被block的request</li></ul></li><li>右键<code>XHR request</code> -&gt; <code>reply XHR</code></li><li><code>Summary</code>: request数量,大小,时间</li><li>Filter<ul><li>空格隔开:并</li><li><code>domain</code>,<code>has-response-header</code>,<code>is</code>(is:running),<code>larger-than</code>,<code>method</code>,<code>mime-type</code>,<code>mixed-content</code>,<code>scheme</code>,<code>set-cookie-domain</code>,<code>set-cookie-name</code>,<code>set-cookie-value</code>,<code>status-code</code></li></ul></li><li>Timing含义:
Queuing: 排队时间.
Stalled: http请求建立到发出去.
Proxy Negotiation、DNS Lookup
Initial Connection/Connecting: 建立链接花费时间。TCP握手移机重试.
SSL: 建立SSL链接花费时间.
Request sent: 发起请求的时间.
Waiting (Time to first byte (TTFB)): 发起请求到接受第一个字节数据.
Content Download: 获取响应数据的时间.</li></ul>]]></content:encoded>
            <category>chrome</category>
            <category>tools</category>
        </item>
        <item>
            <title><![CDATA[Mac开发环境配置]]></title>
            <link>https://wolffn.github.io/blog/2017/11/15/Mac开发环境配置</link>
            <guid>/2017/11/15/Mac开发环境配置</guid>
            <pubDate>Wed, 15 Nov 2017 00:00:00 GMT</pubDate>
            <description><![CDATA[本文主要记录Mac开发环境的设置,以及一些优秀软件,使用技巧,等, 后续还会继续逐渐添加.]]></description>
            <content:encoded><![CDATA[<blockquote><p>本文主要记录Mac开发环境的设置,以及一些优秀软件,使用技巧,等, 后续还会继续逐渐添加.</p></blockquote><blockquote><p>所有的设置,软件以及技巧都追求 在极致简洁和极致效率, 最大可能提升工具效率,以提升生产力. </p></blockquote><blockquote><p>主要作为个人笔记性质,故有些细节略去.如有不解,欢迎留言.如有推荐 or 其他软件问题,欢迎留言探讨.</p></blockquote><blockquote><p>已做分章节处理，移步<a href="https://wolffn.github.io/docs/tools/mac/system" target="_blank" rel="noopener noreferrer">此处</a>阅读。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考:<a class="hash-link" href="#参考" title="Direct link to heading">​</a></h2><ol><li><a href="http://blog.jobbole.com/63130/" target="_blank" rel="noopener noreferrer">http://blog.jobbole.com/63130/</a></li><li><a href="http://macshuo.com/?p=676" target="_blank" rel="noopener noreferrer">http://macshuo.com/?p=676</a></li><li><a href="https://help.github.com/articles/connecting-to-github-with-ssh/" target="_blank" rel="noopener noreferrer">https://help.github.com/articles/connecting-to-github-with-ssh/</a></li></ol>]]></content:encoded>
            <category>mac</category>
            <category>tools</category>
        </item>
        <item>
            <title><![CDATA[Linux-Mac-Shell常用命令]]></title>
            <link>https://wolffn.github.io/blog/2016/08/26/Linux-Mac-Shell常用命令</link>
            <guid>/2016/08/26/Linux-Mac-Shell常用命令</guid>
            <pubDate>Fri, 26 Aug 2016 00:00:00 GMT</pubDate>
            <description><![CDATA[工欲善其事，必先利其器。无论是做哪一方面开发的程序员，都免不了和shell打交道，不管是基于Linux的服务器、开发机，还是Mac。]]></description>
            <content:encoded><![CDATA[<blockquote><p>工欲善其事，必先利其器。无论是做哪一方面开发的程序员，都免不了和shell打交道，不管是基于Linux的服务器、开发机，还是Mac。</p></blockquote><blockquote><p>本文主要记录一些Shell命令的基本用法，作为参考/查询手册，随时更新、完善。更多技巧以及详细解释将后续以专题形式持续更新。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="命令行操作技巧">命令行操作技巧<a class="hash-link" href="#命令行操作技巧" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="光标移动">光标移动<a class="hash-link" href="#光标移动" title="Direct link to heading">​</a></h3><blockquote><p>注意：Mac系统下Terminal以及Iterm下，使用Alt相关功能，需要单独设置。  </p></blockquote><ol><li><code>ctrl + a</code>   移动至行首</li><li><code>ctrl + e</code>   移动至行尾</li><li><code>alt + f</code>    向后移动一个单词</li><li><code>alt + b</code>    向前移动一个单词</li><li><code>alt + 左键</code>  直接移动到点击位置</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="编辑">编辑<a class="hash-link" href="#编辑" title="Direct link to heading">​</a></h3><ol><li><code>ctrl + k</code>   删除至行尾</li><li><code>ctrl + u</code>   删除至行首</li><li><code>ctrl + w</code>   删除前一个单词</li><li><code>ctrl + y</code>   粘贴删除的内容  </li></ol><p>应用示例：输入命令时，发现忘记在最前面输入<code>sudo</code>，可进行如下操作：
<code>ctrl + u</code>，输入<code>sudo</code>，<code>ctrl + y</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="其他">其他<a class="hash-link" href="#其他" title="Direct link to heading">​</a></h3><ol><li><code>ctrl + x + e</code>   x,e依次输入，进入编辑器中编辑命令</li><li><code>alt + .</code>   上一条命令的参数</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令">常用命令<a class="hash-link" href="#常用命令" title="Direct link to heading">​</a></h2><ol><li><code>ls</code> 查看当前目录下的文件</li><li><code>cd</code> 进入某目录
<code>cd -</code> 跳转回前一目录
<code>cd ~</code> 进入当前用户个人目录</li><li><code>pwd</code> 输出当前所在路径</li><li><code>mkdir</code> 新建文件夹</li><li><code>touch</code> 新建文件</li><li><code>find</code> 查找文件</li><li><code>ln</code> 建立链接</li><li><code>du</code> 查看目录大小</li><li><code>cal</code> 显示日历</li><li><code>date</code> 显示当前日期、时间</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="文件传输类">文件传输类<a class="hash-link" href="#文件传输类" title="Direct link to heading">​</a></h2><ol><li><code>mv</code> 移动文件/重命名</li><li><code>cp [File Name] [Destination]</code> 拷贝文件</li><li><code>cp -R [File Name] [Destination]</code>递归拷贝（主要用于文件夹）</li><li><code>scp</code> 远程拷贝，除了需要在远程地址的目录前加入<code>user@host:</code>形式的地址信息外，命令用法与copy一致</li><li><code>ftp</code> 启动ftp服务。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="压缩与解压缩">压缩与解压缩<a class="hash-link" href="#压缩与解压缩" title="Direct link to heading">​</a></h2><p> <code>tar</code> 打包压缩
<code>-c</code> 归档文件
<code>-x</code> 解压缩文件
<code>-v</code> 显示压缩/解压缩过程
<code>-j</code> bzip2压缩文件
<code>-z</code> gzip压缩文件
<code>-f</code> 使用档名
<code>tar -cvf</code> 只打包，不压缩
<code>tar -zcvf</code> 打包，并用gzip压缩
<code>tar -jcvf</code> 打包，并用bzip2压缩</p><p>解压缩时，只需将上述命令中<code>c</code>换成<code>x</code>即可。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="系统命令类">系统命令类<a class="hash-link" href="#系统命令类" title="Direct link to heading">​</a></h2><ol><li><p><code>whoami</code> 显示当前操作用户</p></li><li><p><code>hostname</code> 显示主机名</p></li><li><p><code>uname</code> 显示系统信息</p></li><li><p><code>top</code> 动态显示当前耗费资源最多进程信息</p></li><li><p><code>ps</code> 显示瞬间进程状态 <code>ps aux</code></p></li><li><p><code>kill</code> 杀死进程（top/ps查看进程id后，<code>kill [id]</code>）</p></li><li><p><code>netstat</code>显示网络状态信息，<code>lsof -i :3000</code> 查看占用 3000 端口的进程</p></li><li><p><code>which [command]</code> 查看命令所在路径
<code>export [VAR]="xxx"</code>为系统变量赋值
<code>alias [short]=[long]</code> 为命令设定别名</p></li><li><p><code>du -sh *</code> 带有单位显示目录信息</p></li><li><p><code>df</code> 查看磁盘大小
<code> df -h</code> 带有单位显示磁盘信息</p></li><li><p><code>ps</code>是Process Status的缩写，查看系统进程状态。为我们提供了进程的一次性的查看，它所提供的查看结果并不动态连续的；如果想对进程时间监控，应该用<code>top</code>工具。</p><p><code>ps -ef</code>用标准的格式显示进程，是比较常用的一种命令，后面管道接<code>grep</code>，查看确切进程状态，之后结合<code>kill</code>命令，杀死进程。</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="文本操作类">文本操作类<a class="hash-link" href="#文本操作类" title="Direct link to heading">​</a></h2><p>这是比较重要的一节，后面会专门写文章介绍这些概念，这里只作为一个目录。</p><ol><li><code>cat</code> 查看文件内容</li><li><code>head</code> 查看文件头部内容
<code>tail</code> 查看文件尾部内容</li><li><code>more/less</code>分页显示文件内容</li><li><code>grep</code> 在文本文件中查找某个字符串</li><li><code>sed</code>管道命令，以行为单位进行处理</li><li><code>awk</code>管道命令，以列为单位进行处理</li><li><code>|</code> 管道</li><li><code>&gt; &gt;&gt;</code> 重定向。其中，<code>&gt;</code> 为覆盖，<code>&gt;&gt;</code> 为追加。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="包管理ubuntu">包管理(ubuntu)<a class="hash-link" href="#包管理ubuntu" title="Direct link to heading">​</a></h2><p>此处主要介绍ubuntu包管理概念，大多数Mac用户使用Brew，原理类似，具体命令参考帮助文档即可。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update 更新软件源信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> upgrade 更新已安装的包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> dist-upgrade 升级系统（慎重！！！）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> 安装软件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> -f </span><span class="token function" style="color:#d73a49">install</span><span class="token plain">   修复安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> remove 删除软件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> remove --purge 删除软件以及配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> autoremove 自动删除（未删除的依赖）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> clean </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> autoclean 清理无用的包</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="权限管理">权限管理<a class="hash-link" href="#权限管理" title="Direct link to heading">​</a></h2><ol><li><code>chmod</code> 更改权限</li><li><code>chown</code> 更改文件的用户及用户组</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="进阶">进阶<a class="hash-link" href="#进阶" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="grep"><a href="http://wolffn.github.io/docs/tools/shell/grep" target="_blank" rel="noopener noreferrer">Grep</a><a class="hash-link" href="#grep" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="awk"><a href="http://wolffn.github.io/docs/tools/shell/awk" target="_blank" rel="noopener noreferrer">AWK</a><a class="hash-link" href="#awk" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="shell-script"><a href="http://wolffn.github.io/docs/tools/shell/shell-script" target="_blank" rel="noopener noreferrer">Shell Script</a><a class="hash-link" href="#shell-script" title="Direct link to heading">​</a></h3>]]></content:encoded>
            <category>shell</category>
            <category>linux</category>
            <category>mac</category>
            <category>tools</category>
        </item>
        <item>
            <title><![CDATA[github+hexo搭建博客过程全纪录]]></title>
            <link>https://wolffn.github.io/blog/2016/01/22/github-hexo搭建博客过程全纪录</link>
            <guid>/2016/01/22/github-hexo搭建博客过程全纪录</guid>
            <pubDate>Fri, 22 Jan 2016 00:00:00 GMT</pubDate>
            <description><![CDATA[本文记录mac上搭建hexo+github blog的全过程]]></description>
            <content:encoded><![CDATA[<p><em>本文记录mac上搭建hexo+github blog的全过程</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1准备篇">1.准备篇<a class="hash-link" href="#1准备篇" title="Direct link to heading">​</a></h2><ul><li>安装git
若已经安装xcode，（在app store下载安装），只需选择菜单“Xcode”-&gt;“Preferences”，在弹出窗口中找到“Downloads”，选择“Command Line Tools”，点“Install”就可以完成安装了。
若未安装，打开terminal，输入以下命令，安装homebrew</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后通过homebrew安装git</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>安装node</p></li><li><p>安装npm</p></li><li><p>注册github
登录官网 <a href="http://github.com/" target="_blank" rel="noopener noreferrer">http://github.com/</a>注册，并在邮箱中<strong>确认注册</strong>。</p></li><li><p>建立github仓库 username.github.io
项目名称必须为username.github.io，username与注册时的用户名<strong>完全相同</strong>，在该项目的setting中，找到GitHub Pages一项，根据提示开启“automatic page generator”</p></li><li><p>上传rsa key 至github</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2安装hexo">2.安装Hexo<a class="hash-link" href="#2安装hexo" title="Direct link to heading">​</a></h2><p>注：以下采用npm安装。如未翻墙，请在每条命令后面加入如下代码：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--disturl=http://registry.npm.taobao.org/mirrors/node --registry=http://registry.npm.taobao.org</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install hexo -g --save</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>建立目录，初始化hexo</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3发表文章至github">3.发表文章至github<a class="hash-link" href="#3发表文章至github" title="Direct link to heading">​</a></h2><p>配置_config.yml</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">deploy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type: git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    repo: git@github.com:username/usernema.github.io.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    branch: master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>重中之重：每个冒号之后都要有 <strong> 一个空格 </strong> ，否则后面的步骤会静默失败，这真是让人抓狂。</p><p>发布新文章</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hexo new "title"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>生成静态页面</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hexo generate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>启动本地服务器</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hexo server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>部署至github</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hexo deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>清空缓存</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hexo clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4修改主题">4.修改主题<a class="hash-link" href="#4修改主题" title="Direct link to heading">​</a></h2><ul><li>在github上寻找喜欢的主题，将其目录拷贝到themes目录下。</li><li>修改_config.yml中theme为新主题名称。</li></ul><p>推荐<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener noreferrer">Next主题</a>，<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener noreferrer">文档</a>。</p><p><strong> 最后建议将blog目录的code同样提交至github，保存。</strong></p>]]></content:encoded>
            <category>blog</category>
            <category>hexo</category>
            <category>github</category>
        </item>
        <item>
            <title><![CDATA[Welcome]]></title>
            <link>https://wolffn.github.io/blog/2010/01/01/welcome</link>
            <guid>/2010/01/01/welcome</guid>
            <pubDate>Fri, 01 Jan 2010 00:00:00 GMT</pubDate>
            <description><![CDATA[Blog features are powered by the blog plugin. Simply add files to the blog directory. It supports tags as well!]]></description>
            <content:encoded><![CDATA[<p>Blog features are powered by the blog plugin. Simply add files to the <code>blog</code> directory. It supports tags as well!</p><p>Delete the whole directory if you don't want the blog features. As simple as that!</p><p>You can write content using <a href="https://github.github.com/gfm/" target="_blank" rel="noopener noreferrer">GitHub-flavored Markdown syntax</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="markdown-syntax">Markdown Syntax<a class="hash-link" href="#markdown-syntax" title="Direct link to heading">​</a></h2><p>To serve as an example page when styling markdown based Docusaurus sites.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="headers">Headers<a class="hash-link" href="#headers" title="Direct link to heading">​</a></h2><h1>H1 - Create the best documentation</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="h2---create-the-best-documentation">H2 - Create the best documentation<a class="hash-link" href="#h2---create-the-best-documentation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="h3---create-the-best-documentation">H3 - Create the best documentation<a class="hash-link" href="#h3---create-the-best-documentation" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="h4---create-the-best-documentation">H4 - Create the best documentation<a class="hash-link" href="#h4---create-the-best-documentation" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="h5---create-the-best-documentation">H5 - Create the best documentation<a class="hash-link" href="#h5---create-the-best-documentation" title="Direct link to heading">​</a></h5><h6 class="anchor anchorWithStickyNavbar_LWe7" id="h6---create-the-best-documentation">H6 - Create the best documentation<a class="hash-link" href="#h6---create-the-best-documentation" title="Direct link to heading">​</a></h6><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="emphasis">Emphasis<a class="hash-link" href="#emphasis" title="Direct link to heading">​</a></h2><p>Emphasis, aka italics, with <em>asterisks</em> or <em>underscores</em>.</p><p>Strong emphasis, aka bold, with <strong>asterisks</strong> or <strong>underscores</strong>.</p><p>Combined emphasis with <strong>asterisks and <em>underscores</em></strong>.</p><p>Strikethrough uses two tildes. <del>Scratch this.</del></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lists">Lists<a class="hash-link" href="#lists" title="Direct link to heading">​</a></h2><ol><li>First ordered list item</li><li>Another item ⋅⋅<!-- -->*<!-- --> Unordered sub-list.</li><li>Actual numbers don't matter, just that it's a number ⋅⋅1. Ordered sub-list</li><li>And another item.</li></ol><p>⋅⋅⋅You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we'll use three here to also align the raw Markdown).</p><p>⋅⋅⋅To have a line break without a paragraph, you will need to use two trailing spaces.⋅⋅ ⋅⋅⋅Note that this line is separate, but within the same paragraph.⋅⋅ ⋅⋅⋅(This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)</p><ul><li>Unordered list can use asterisks</li></ul><ul><li>Or minuses</li></ul><ul><li>Or pluses</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a class="hash-link" href="#links" title="Direct link to heading">​</a></h2><p><a href="https://www.google.com" target="_blank" rel="noopener noreferrer">I'm an inline-style link</a></p><p><a href="https://www.google.com" target="_blank" rel="noopener noreferrer" title="Google's Homepage">I'm an inline-style link with title</a></p><p><a href="https://www.mozilla.org" target="_blank" rel="noopener noreferrer">I'm a reference-style link</a></p><p><a href="http://slashdot.org" target="_blank" rel="noopener noreferrer">You can use numbers for reference-style link definitions</a></p><p>Or leave it empty and use the <a href="http://www.reddit.com" target="_blank" rel="noopener noreferrer">link text itself</a>.</p><p>URLs and URLs in angle brackets will automatically get turned into links. <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">http://www.example.com</a> or <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">http://www.example.com</a> and sometimes example.com (but not on Github, for example).</p><p>Some text to show that the reference links can follow later.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="images">Images<a class="hash-link" href="#images" title="Direct link to heading">​</a></h2><p>Here's our logo (hover to see the title text):</p><p>Inline-style: <img loading="lazy" src="https://github.com/adam-p/markdown-here/raw/master/src/common/images/icon48.png" alt="alt text" title="Logo Title Text 1" class="img_ev3q"></p><p>Reference-style: <img loading="lazy" src="https://github.com/adam-p/markdown-here/raw/master/src/common/images/icon48.png" alt="alt text" title="Logo Title Text 2" class="img_ev3q"></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="code">Code<a class="hash-link" href="#code" title="Direct link to heading">​</a></h2><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'JavaScript syntax highlighting'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Python syntax highlighting"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">No language indicated, so no syntax highlighting.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">But let's throw in a &lt;b&gt;tag&lt;/b&gt;.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">highlightMe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'This line can be highlighted!'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tables">Tables<a class="hash-link" href="#tables" title="Direct link to heading">​</a></h2><p>Colons can be used to align columns.</p><table><thead><tr><th>Tables</th><th align="center">Are</th><th align="right">Cool</th></tr></thead><tbody><tr><td>col 3 is</td><td align="center">right-aligned</td><td align="right">\$1600</td></tr><tr><td>col 2 is</td><td align="center">centered</td><td align="right">\$12</td></tr><tr><td>zebra stripes</td><td align="center">are neat</td><td align="right">\$1</td></tr></tbody></table><p>There must be at least 3 dashes separating each header cell. The outer pipes (|) are optional, and you don't need to make the raw Markdown line up prettily. You can also use inline Markdown.</p><table><thead><tr><th>Markdown</th><th>Less</th><th>Pretty</th></tr></thead><tbody><tr><td><em>Still</em></td><td><code>renders</code></td><td><strong>nicely</strong></td></tr><tr><td>1</td><td>2</td><td>3</td></tr></tbody></table><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="blockquotes">Blockquotes<a class="hash-link" href="#blockquotes" title="Direct link to heading">​</a></h2><blockquote><p>Blockquotes are very handy in email to emulate reply text. This line is part of the same quote.</p></blockquote><p>Quote break.</p><blockquote><p>This is a very long line that will still be quoted properly when it wraps. Oh boy let's keep writing to make sure this is long enough to actually wrap for everyone. Oh, you can <em>put</em> <strong>Markdown</strong> into a blockquote.</p></blockquote><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="inline-html">Inline HTML<a class="hash-link" href="#inline-html" title="Direct link to heading">​</a></h2><dl><dt>Definition list</dt><dd>Is something people use sometimes.</dd><dt>Markdown in HTML</dt><dd>Does *not* work **very** well. Use HTML <em>tags</em>.</dd></dl><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="line-breaks">Line Breaks<a class="hash-link" href="#line-breaks" title="Direct link to heading">​</a></h2><p>Here's a line for us to start with.</p><p>This line is separated from the one above by two newlines, so it will be a <em>separate paragraph</em>.</p><p>This line is also a separate paragraph, but... This line is only separated by a single newline, so it's a separate line in the <em>same paragraph</em>.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="admonitions">Admonitions<a class="hash-link" href="#admonitions" title="Direct link to heading">​</a></h2><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This is a note</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>This is a tip</p></div></div><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>This is important</p></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>This is a caution</p></div></div><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>This is a warning</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="my-logos">My Logos<a class="hash-link" href="#my-logos" title="Direct link to heading">​</a></h2><p><code>右键 -&gt; 复制图片地址</code> 使用<br>
<img loading="lazy" src="http://static.yximgs.com/udata/pkg/userGrowth-fe-infra/user-profile-bear-logo-big.ico" alt="logo-big.ico" class="img_ev3q">
<img loading="lazy" src="http://static.yximgs.com/udata/pkg/userGrowth-fe-infra/user-profile-bear-logo.ico" alt="logo.ico" class="img_ev3q">
<img loading="lazy" src="http://static.yximgs.com/udata/pkg/userGrowth-fe-infra/user-profile-bear-logo.png" alt="logo.png" class="img_ev3q">
<img loading="lazy" src="http://static.yximgs.com/udata/pkg/userGrowth-fe-infra/user-profile-bear-logo.svg" alt="logo.svg" class="img_ev3q"></p>]]></content:encoded>
            <category>facebook</category>
            <category>hello</category>
            <category>docusaurus</category>
        </item>
    </channel>
</rss>