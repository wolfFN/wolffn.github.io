"use strict";(self.webpackChunkdocusaurus_demo=self.webpackChunkdocusaurus_demo||[]).push([[4929],{3905:function(e,n,a){a.d(n,{Zo:function(){return c},kt:function(){return d}});var t=a(7294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function p(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=t.createContext({}),l=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},c=function(e){var n=l(e.components);return t.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=l(a),d=r,k=u["".concat(s,".").concat(d)]||u[d]||m[d]||i;return a?t.createElement(k,o(o({ref:n},c),{},{components:a})):t.createElement(k,o({ref:n},c))}));function d(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var p={};for(var s in n)hasOwnProperty.call(n,s)&&(p[s]=n[s]);p.originalType=e,p.mdxType="string"==typeof e?e:r,o[1]=p;for(var l=2;l<i;l++)o[l]=a[l];return t.createElement.apply(null,o)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8577:function(e,n,a){a.r(n),a.d(n,{assets:function(){return c},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return p},metadata:function(){return l},toc:function(){return m}});var t=a(3117),r=a(102),i=(a(7294),a(3905)),o=["components"],p={title:"Redux-Observable"},s=void 0,l={unversionedId:"library/react/redux-observable",id:"library/react/redux-observable",title:"Redux-Observable",description:"Redux-Observable \u662f\u4e00\u4e2a\u57fa\u4e8e RXJS \u7684\u975e\u5e38\u6709\u5a01\u529b\u7684 Redux \u4e2d\u95f4\u4ef6\u3002\u4ed6\u901a\u8fc7\u62bd\u8c61\u51fa\u4e0e Redux \u7684\u8fde\u63a5\u5e76\u5904\u7406\u8ba2\u9605\uff0c\u8ba9\u5f00\u53d1\u8005\u514d\u4e8e\u76f4\u63a5 listen \u6216 dispatch actions\u3002",source:"@site/docs/library/react/redux-observable.md",sourceDirName:"library/react",slug:"/library/react/redux-observable",permalink:"/docs/library/react/redux-observable",draft:!1,tags:[],version:"current",frontMatter:{title:"Redux-Observable"},sidebar:"Library",previous:{title:"react-router",permalink:"/docs/library/react/react-router"},next:{title:"Deep Selector",permalink:"/docs/library/vue/deep-selector"}},c={},m=[{value:"Side-Effects",id:"side-effects",level:3},{value:"\u5355\u6b21\u6267\u884c",id:"\u5355\u6b21\u6267\u884c",level:3},{value:"Immediately Executing Actions",id:"immediately-executing-actions",level:3},{value:"Updating State",id:"updating-state",level:3},{value:"Utilizing the Store with Actions",id:"utilizing-the-store-with-actions",level:3},{value:"Listening to State Updates Directly",id:"listening-to-state-updates-directly",level:3},{value:"Javascript Events",id:"javascript-events",level:3},{value:"AJAX Calls",id:"ajax-calls",level:3},{value:"Cancelling AJAX Calls When Using MergeMap",id:"cancelling-ajax-calls-when-using-mergemap",level:3},{value:"Delaying AJAX Request",id:"delaying-ajax-request",level:3},{value:"Waiting for Merge-Mapped Observables",id:"waiting-for-merge-mapped-observables",level:3},{value:"Catching AJAX Errors",id:"catching-ajax-errors",level:3},{value:"Generic Error Catching",id:"generic-error-catching",level:3},{value:"Listening to Two Observables",id:"listening-to-two-observables",level:3},{value:"Race to the State",id:"race-to-the-state",level:3},{value:"Conclusion",id:"conclusion",level:3},{value:"References",id:"references",level:2}],u={toc:m};function d(e){var n=e.components,a=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,t.Z)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Redux-Observable")," \u662f\u4e00\u4e2a\u57fa\u4e8e RXJS \u7684\u975e\u5e38\u6709\u5a01\u529b\u7684 Redux \u4e2d\u95f4\u4ef6\u3002\u4ed6\u901a\u8fc7\u62bd\u8c61\u51fa\u4e0e Redux \u7684\u8fde\u63a5\u5e76\u5904\u7406\u8ba2\u9605\uff0c\u8ba9\u5f00\u53d1\u8005\u514d\u4e8e\u76f4\u63a5 ",(0,i.kt)("inlineCode",{parentName:"p"},"listen")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},"dispatch")," ",(0,i.kt)("inlineCode",{parentName:"p"},"actions"),"\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u6700\u57fa\u672c\u7684\u64cd\u4f5c\uff0c\u53ef\u4ee5\u7b80\u5316\u4e3a\uff0c\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"subscribe")," \u6240\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"epics")," \u7684\u540c\u65f6\uff0c\u8c03\u7528 Redux \u7684",(0,i.kt)("inlineCode",{parentName:"p"},"dispatch")," \u51fd\u6570"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"allYourObservablesTogether.subscribe(store.dispatch);\n")),(0,i.kt)("h3",{id:"side-effects"},"Side-Effects"),(0,i.kt)("p",null,"\u56e0\u4e3a Redux \u8c03\u7528\u7684 Action \uff0c \u90fd\u662f\u901a\u8fc7 Reducer\xa0 \uff0c\u4ec5\u4fee\u6539 State\uff0c\u6240\u4ee5\u4e00\u822c\u6211\u4eec\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"tap"),"\xa0 \u6765\u5904\u7406 side-effects\uff08\u6bd4\u5982\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"console.log"),"\xa0\uff09\u3002 ",(0,i.kt)("inlineCode",{parentName:"p"},"tap"),"\xa0 \u51e0\u4e4e\u4e0e ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise.then()"),"\xa0 \u4e00\u6837\uff0c\u9664\u4e86\u4ed6\u4e0d\u4f1a\u4fee\u6539 pipeline \u4e2d\u7684 state\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u7531\u4e8e Epics \u5fc5\u987b emmit \u4e00\u4e2a action \uff0c\u6240\u4ee5\u8fd9\u91cc\u6211\u4eec\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"ignoreElements"),"\xa0 \u6765\u7ed3\u675f\u6211\u4eec\u7684 pipeline\uff0c\u5b83\u5728 tap \u540e\u76f4\u63a5\u7ed3\u675f\u8fd9\u4e2a pipeline\uff0c\u4e0d\u4f1a emmit action\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const startLoggingServiceEpic = action$ =>\n    action$.pipe(\n        ofType(UPDATE_USER_INFO),\n        map(({ email, phone, userName }) => ({\n            emailAddress: email,\n            phoneNumber: phone,\n            userName,\n        })),\n        tap(updateLoggingService),\n        ignoreElements(),\n    );\n")),(0,i.kt)("h3",{id:"\u5355\u6b21\u6267\u884c"},"\u5355\u6b21\u6267\u884c"),(0,i.kt)("p",null,"\u4ec5\u5728 Action \u9996\u6b21\u89e6\u53d1\u65f6\u6267\u884c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const startChatSystemEpic = action$ =>\n    action$.pipe(\n        ofType(START_CHAT_CLIENT),\n        take(1),\n        tap(startChatClient),\n        ignoreElements(),\n    );\n")),(0,i.kt)("h3",{id:"immediately-executing-actions"},"Immediately Executing Actions"),(0,i.kt)("p",null,"\u5c06\u4e00\u4e2a Epic \u4e0e Redux-Observable \u521d\u59cb\u5316\u5076\u5c14\u5728\u4e00\u8d77\u5e76\u4e0d\u662f\u4e00\u4e2a\u597d\u4e3b\u610f\u3002\u4f46\u8fd9\u4e48\u505a\u53ef\u4ee5\u907f\u514d\u8c03\u7528\u4e00\u4e2a action \u6765\u89e6\u53d1 Epic\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// Redux-Observable 1.x.x\nconst logAppVersionEpic = () =>\n    of(appVersion).pipe(tap(console.info), ignoreElements());\n\n// Another Option for Redux-Observable 1.x.x\nconst logAppVersionEpic = () =>\n    EMPTY.pipe(defaultIfEmpty(appVersion), tap(console.info), ignoreElements());\n\n// Redux-Observable 0.x.x\nconst logAppVersionEpic = () =>\n    timer(0).pipe(mapTo(appVersion), tap(console.info), ignoreElements());\n")),(0,i.kt)("p",null,"\u5728 version 1 \u4e4b\u524d\uff0cRedux-Observable \u9700\u8981\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"timer(0)"),"\xa0 \u624d\u80fd\u5904\u7406\u7acb\u5373\u6267\u884c\u3002",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"of"),"\xa0 \u4f1a\u4e00\u4e2a\u63a5\u4e00\u4e2a\u5730 emit \u4efb\u4f55\u4f20\u5165\u4ed6\u7684\u4efb\u4f55\u53c2\u6570\u3002",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"EMPTY"),"\xa0 \u662f\u4e00\u4e2a\u5e38\u91cf observable\uff0c\u5728\u88ab\u8ba2\u9605\u65f6\uff0c\u76f4\u63a5 complete\u3002\u7136\u540e\uff0c\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"defaultIfEmpty"),"\xa0 \u5c06\u5176\u53c2\u6570\u5728 pipeline \u4e2d\u4f20\u9012\u4e0b\u53bb\u3002"),(0,i.kt)("h3",{id:"updating-state"},"Updating State"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const storeUserInfoEpic = action$ =>\n    action$.pipe(\n        ofType(UPDATE_USER_INFO),\n        map(({ authInfo, userInfo }) => ({\n            accessToken: authInfo.accessToken,\n            emailAddress: userInfo.email,\n            username: userInfo.username,\n        })),\n        map(storeUserInfo),\n    );\n")),(0,i.kt)("p",null,"\u5176\u4e2d\uff0c\u7b2c\u4e00\u4e2a map \u7528\u6765\u8f6c\u6362\u6570\u636e\u683c\u5f0f\uff0c\u7b2c\u4e8c\u4e2a\u89e6\u53d1\u5bf9\u5e94\u7684 action\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u56e0\u4e3a\u5728\u4e00\u4e2a observable pipeline \u4e2d\uff0c\u53ef\u4ee5\u505a\u5f88\u591a\u4e8b\u60c5\uff0c\u6240\u4ee5\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u6d41\u7a0b\u662f\uff0c\u4f7f\u7528\u975e\u5e38\u7b80\u5355\u7684\u3001\u53ef\u590d\u7528\u7684 reducers\uff0c\u5229\u7528 epics \u6765\u5b9e\u73b0\u6570\u636e\u8f6c\u6362\u3001\u4e1a\u52a1\u903b\u8f91\u3002"),(0,i.kt)("h3",{id:"utilizing-the-store-with-actions"},"Utilizing the Store with Actions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const hideLoginModalEpic = (action$, state$) =>\n    action$.pipe(\n        ofType(UPDATE_AUTH_INFO),\n        map(() => state$.value),\n        map(authInfoSelector),\n        pluck('isAuthenticated'),\n        filter(Boolean),\n        mapTo({ namespace: 'login' }),\n        map(closeModal),\n    );\n")),(0,i.kt)("p",null,"\u4e3b\u8981\u5e94\u7528\u573a\u666f\uff0c\u5e0c\u671b\u5728\u67d0\u4e00 action \u5b8c\u6210\u540e\uff0c\u89e6\u53d1\u4f9d\u8d56\u4e8e state \u7684\u540e\u7eed action\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u5728\u5927\u591a\u6570 observables \u4e2d\u5e76\u4e0d\u5b58\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},".value"),"\xa0 \u5c5e\u6027\uff0c\u4f46\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"state$"),"\xa0 \u662f\u4e00\u4e2a BehaviorSubject\uff0c\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u83b7\u53d6\u5176 value\u3002"),(0,i.kt)("h3",{id:"listening-to-state-updates-directly"},"Listening to State Updates Directly"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const hideLoginModalEpic = (action$, state$) =>\n    state$.pipe(\n        map(authInfoSelector),\n        pluck('isAuthenticated'),\n        distinctUntilChanged(),\n        filter(Boolean),\n        mapTo({ namespace: 'login' }),\n        map(closeModal),\n    );\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"distinctUntilChanged"),"\xa0 \u4f1a\u6301\u6709\u524d\u4e00\u9636\u6bb5 state \u7684 value\uff0c\u5e76\u4e0e\u5f53\u524d\u8fdb\u884c\u6bd4\u8f83\u3002\u5f53 value \u76f8\u540c\u65f6\uff0cpipeline \u7ed3\u675f\uff1b\u5f53 value \u6709\u6539\u53d8\u65f6\uff0cpipeline \u7ee7\u7eed\u3002"),(0,i.kt)("h3",{id:"javascript-events"},"Javascript Events"),(0,i.kt)("p",null,"\u6211\u4eec\u7ecf\u5e38\u9700\u8981\u76d1\u542c javascript events\uff0c\u4f8b\u5982 localStorage \u66f4\u6539\uff0ciframe \u901a\u4fe1\uff0c\u4ee5\u53ca\u4e0e\u7b2c\u4e09\u65b9 library \u4ea4\u4e92\u3002\u9274\u4e8e\u7b2c\u4e09\u65b9 lib \u5f88\u5c11\u6709\u4f7f\u7528 observable\uff0c\u6240\u4ee5\u8fd9\u79cd\u573a\u666f\u5f88\u5e38\u89c1\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const windowSizeEpic = () =>\n    fromEvent(window, 'resize').pipe(\n        throttleTime((1 / 60) * 1000), // \u6b64\u5904\u5e94\u4f7f\u7528animationFrameScheduler\uff0c\u4e3a\u65b9\u4fbf\u7406\u89e3\u6545\u7b80\u5316\n        map(windowSizeChanged),\n    );\n\nsomeThirdPartyLibrary.on('ready', () => {});\n\nfromEvent(someThirdPartyLibrary, 'ready').pipe();\n")),(0,i.kt)("h3",{id:"ajax-calls"},"AJAX Calls"),(0,i.kt)("p",null,"\u76f8\u8f83\u4e8e\u76f4\u63a5\u5f15\u5165 ajax\uff0c\u66f4\u597d\u7684\u505a\u6cd5\u662f\u901a\u8fc7 middleware function \u5c06\u5176\u4f5c\u4e3a\u4f9d\u8d56\u5f15\u5165\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u4e3b\u8981\u6765\u6e90\u4e8e\u4ee5\u4e0b\u4e24\u65b9\u9762\uff1a"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"easier debugging"),(0,i.kt)("li",{parentName:"ol"},"server-side rendering\uff0c\u5c06 ajax \u66ff\u6362\u4e3a axios \u6216 fetch")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const epicOptions = {\n    dependencies: {\n        ajax,\n    },\n};\n\nconst epicMiddleware = createEpicMiddleware(epicOptions);\n\nconst fetchPermissionsEpic = (action$, state$, { ajax }) =>\n    action$.pipe(\n        ofType(FETCH_PERMISSIONS),\n        map(state$.value),\n        map(accessTokenSelector),\n        switchMap(accessToken =>\n            ajax({\n                crossDomain: true,\n                headers: {\n                    Authorization: `Bearer ${accessToken}`,\n                },\n                url: 'https://example.com/permissions',\n            }).pipe(pluck('response'), map(storePermissions)),\n        ),\n    );\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"switchMap"),"\xa0 \u662f\u622a\u81f3\u76ee\u524d\uff0c\u6211\u4eec\u89c1\u5230\u8fc7\u7684\u6700\u91cd\u8981\u7684 operator\uff0c\u5b83\u5141\u8bb8\u6211\u4eec\u5c06 observables \u653e\u5230\u4e00\u4e2a pipeline \u4e2d\uff0c\u94fe\u5f0f\u5904\u7406\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u6ce8\uff1a\u4e3a\u4e86\u65b9\u4fbf\u5bf9 response \u6700\u62e6\u622a\u5904\u7406\uff0c\u6211\u5f15\u5165\u4e86",(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/axios-observable"},"axios-observable"),"\uff0c\u672a\u4f7f\u7528 rxjs \u9644\u5e26\u7684 ajax\u3002")),(0,i.kt)("h3",{id:"cancelling-ajax-calls-when-using-mergemap"},"Cancelling AJAX Calls When Using MergeMap"),(0,i.kt)("p",null,"\u5229\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"mergeMap"),"\xa0 \u6211\u4eec\u53ef\u4ee5\u4e3a\u9700\u8981\u53d1\u9001\u591a\u6b21\u7684\u76f8\u4f3c ajax \u8bf7\u6c42\uff0c\u521b\u5efa\u901a\u7528\u7684 epic\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u5f53\u6211\u4eec\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"mergeMap"),"\xa0 \u66ff\u6362 ",(0,i.kt)("inlineCode",{parentName:"p"},"switchMap"),"\xa0 \u65f6\uff0c\u5b83\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 observable\uff0c\u5e76 subscribe\u3002\u82e5\u64cd\u4f5c\u4e0d\u5f53\uff0c\u53ef\u80fd\u89e6\u53d1\u5185\u5b58\u6cc4\u6f0f\u3002\u5982\u679c\u60f3\u8981\u4f7f\u7528\u7c7b\u4f3c ",(0,i.kt)("inlineCode",{parentName:"p"},"switchMap"),"\xa0 \u7684\u53d6\u6d88\u529f\u80fd\uff0c\u6211\u4eec\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"takeUtil"),"\xa0\u3002",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"takeUtil"),"\xa0 \u63a5\u6536\u4e00\u4e2a observable\uff0c\u4e0d\u4f1a\u5411 pipeline \u4e2d\u4f20\u5165\u503c\u3002\u4e0e ",(0,i.kt)("inlineCode",{parentName:"p"},"take"),"\u4e00\u6837\uff0c\u5f53\u4f20\u5165\u7684 observable emmit \u65f6\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"takeUtil"),"\xa0complete \u5f53\u524d\u7684 observable\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"takeUtil"),"\xa0 \u4f1a\u76d1\u542c\u5177\u6709\u76f8\u540c ",(0,i.kt)("inlineCode",{parentName:"p"},"permissionType"),"\xa0 \u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"FETCH_PERMISSION"),"\xa0action\u3002\u5982\u679c\u76d1\u542c\u5230\uff0c\u6211\u4eec\u901a\u8fc7 complete observable \u7684\u65b9\u5f0f\u6765\u53d6\u6d88 ajax call\u3002\u4ee5\u6b64\u907f\u514d race condition\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const ofPermissionType = requiredPermissionType =>\n    filter(({ permissionType }) => requiredPermissionType === permissionType);\n\nconst fetchPermissionEpic = (action$, state$, { ajax }) =>\n    action$.pipe(\n        ofType(FETCH_PERMISSION),\n        mergeMap(({ permissionType }) =>\n            of(state$.value).pipe(\n                takeUntil(\n                    action$.pipe(\n                        ofType(FETCH_PERMISSION),\n                        ofPermissionType(permissionType),\n                    ),\n                ),\n                map(accessTokenSelector),\n                switchMap(accessToken =>\n                    ajax({\n                        crossDomain: true,\n                        headers: {\n                            Authorization: `Bearer ${accessToken}`,\n                        },\n                        url: 'https://example.com/permissions'\n                            .concat('?')\n                            .concat('permissionType=')\n                            .concat(permissionType),\n                    }).pipe(\n                        pluck('response'),\n                        map(permissionValue => ({\n                            permissionType,\n                            permissionValue,\n                        })),\n                        map(storePermission),\n                    ),\n                ),\n            ),\n        ),\n    );\n")),(0,i.kt)("h3",{id:"delaying-ajax-request"},"Delaying AJAX Request"),(0,i.kt)("p",null,"\u6709\u65f6\u5019\u6211\u4eec\u5e0c\u671b\u9650\u5236\u540c\u65f6\u53d1\u51fa\u7684 ajax \u8bf7\u6c42\u6570\u91cf\u3002\u6bd4\u5982\uff0c\u6709 10 \u4e2a\u6587\u4ef6\u5f85\u4e0a\u4f20\uff0c\u6211\u4eec\u53ef\u80fd\u5e0c\u671b\u540c\u65f6\u4e0a\u4f20\u4e24\u4e2a\u6587\u4ef6\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mergeMap"),"\xa0 \u4f1a\u4e00\u6b21\u6027\u53d1\u9001 10 \u4e2a\u6587\u4ef6"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mergeMap"),"\xa0 \u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4f20\u5165 2\uff0c\xa0This can be really hard to catch if you keep everything in the same epic though."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"concatMap"),"\xa0 \u4f1a\u4e00\u4e2a\u6587\u4ef6\u3001\u4e00\u4e2a\u6587\u4ef6\u5730\u53d1\u9001")),(0,i.kt)("p",null,"\u6bd4\u8f83\u597d\u7684\u65b9\u6848\u662f\u5982\u4e0b\uff0c\u4f7f\u7528 map \u548c mergeAll"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const ofPermissionType = requiredPermissionType =>\n    filter(({ permissionType }) => requiredPermissionType === permissionType);\n\nconst fetchPermissionsEpic = (action$, state$, { ajax }) =>\n    action$.pipe(\n        ofType(FETCH_PERMISSIONS),\n        map(props => ({\n            ...props,\n            accessToken: accessTokenSelector(state$.value),\n        })),\n        mergeMap(({ accessToken, permissionTypes }) =>\n            from(permissionTypes).pipe(\n                map(permissionType =>\n                    of(permissionType).pipe(\n                        takeUntil(\n                            action$.pipe(\n                                ofType(FETCH_PERMISSIONS),\n                                switchMap(\n                                    ({ permissionTypes }) => permissionTypes,\n                                ),\n                                ofPermissionType(permissionType),\n                            ),\n                        ),\n                        switchMap(() =>\n                            ajax({\n                                crossDomain: true,\n                                headers: {\n                                    Authorization: `Bearer ${accessToken}`,\n                                },\n                                url: 'https://example.com/permissions'\n                                    .concat('?')\n                                    .concat('permissionType=')\n                                    .concat(permissionType),\n                            }).pipe(\n                                pluck('response'),\n                                map(permissionValue => ({\n                                    permissionType,\n                                    permissionValue,\n                                })),\n                                map(storePermission),\n                            ),\n                        ),\n                    ),\n                ),\n                mergeAll(2),\n            ),\n        ),\n    );\n")),(0,i.kt)("p",null,"\u5176\u4e2d\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"from(permissionTypes)"),"\xa0 \u4f1a\u5c06\u6bcf\u4e2a permissionType \u4ee5\u5355\u72ec\u7684 value\uff0c\u53d1\u9001\u81f3 pipeline\u3002\u6211\u4eec\u5c06\u8fd9\u4e9b\u5168\u90e8 map \u5230\u4e00\u4e2a\u65b0\u7684 observable\uff0c\u7136\u540e\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"mergeAll(2)"),"\xa0 \u5c06\u5176\u9650\u5236\u4e3a\u540c\u65f6 merge map \u4e24\u9879\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u53e6\u4e00\u4e2a\u4e0d\u540c\u5728\u4e8e ",(0,i.kt)("inlineCode",{parentName:"p"},"takeUtil"),"\xa0 \u7684\u5904\u7406\u65b9\u5f0f\u3002\u6b64\u5904\u6211\u4eec\u9700\u8981\u904d\u5386 permissionType\uff0c\u5bfb\u627e\u662f\u5426\u6709\u4e0e\u5f53\u524d action \u5339\u914d\u7684\u8bf7\u6c42\u3002\u5982\u679c\u6709\uff0c\u5219\u53d6\u6d88 ajax\u3002"),(0,i.kt)("h3",{id:"waiting-for-merge-mapped-observables"},"Waiting for Merge-Mapped Observables"),(0,i.kt)("p",null,"\u5982\u679c\u60f3\u7b49\u5f85\u6240\u6709\u8bf7\u6c42\u8fd4\u56de\uff0c\u518d\u51fa\u53d1\u4e00\u4e2a action\uff0c\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"toArray"),"\xa0 \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"multicast")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const ofPermissionType = requiredPermissionType =>\n    filter(({ permissionType }) => requiredPermissionType === permissionType);\n\nconst fetchPermissionsEpic = (action$, state$, { ajax }) =>\n    action$.pipe(\n        ofType(FETCH_PERMISSIONS),\n        map(props => ({\n            ...props,\n            accessToken: accessTokenSelector(state$.value),\n        })),\n        mergeMap(({ accessToken, permissionTypes }) =>\n            from(permissionTypes).pipe(\n                map(permissionType =>\n                    of(permissionType).pipe(\n                        takeUntil(\n                            action$.pipe(\n                                ofType(FETCH_PERMISSIONS),\n                                switchMap(\n                                    ({ permissionTypes }) => permissionTypes,\n                                ),\n                                ofPermissionType(permissionType),\n                            ),\n                        ),\n                        switchMap(() =>\n                            ajax({\n                                crossDomain: true,\n                                headers: {\n                                    Authorization: `Bearer ${accessToken}`,\n                                },\n                                url: 'https://example.com/permissions'\n                                    .concat('?')\n                                    .concat('permissionType=')\n                                    .concat(permissionType),\n                            }).pipe(\n                                pluck('response'),\n                                map(permissionValue => ({\n                                    permissionType,\n                                    permissionValue,\n                                })),\n                                map(storePermission),\n                                catchError(error => of(caughtError(error))),\n                            ),\n                        ),\n                    ),\n                ),\n                mergeAll(2),\n                multicast(new Subject(), source$ =>\n                    source$.pipe(\n                        mergeOperator(\n                            source$.pipe(\n                                toArray(),\n                                map(finishedStoringPermissions),\n                            ),\n                        ),\n                    ),\n                ),\n            ),\n        ),\n    );\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Subject"),"\xa0 \u65e2\u662f observable\uff0c\u53c8\u662f observer\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\u72ec\u7acb\u7684 Subject\uff0c\u7528\u4ee5\u63a5\u6536 pipeline \u6b64\u5904\u7684\u8f93\u51fa\uff0c\u540c\u65f6\u8fde\u63a5\u5230 source observable\u3002\u63a5\u4e0b\u6765\u5c06 source observable \u4e0e\u81ea\u8eab merge\uff0c\u7136\u540e pipe off merged observable\u3002",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"multicast"),"\xa0 \u7d27\u63a5\u7740 ",(0,i.kt)("inlineCode",{parentName:"p"},"mergeAll"),"\xa0\uff0c\u6240\u4ee5\u4f1a\u63a5\u6536\u6bcf\u4e00\u4e2a permissionType \u7684 response\u3002\u4e00\u65e6\u6240\u6709\u7684 type \u90fd\u7ecf\u8fc7\u4e86 pipeline \u7684\u8fd9\u4e2a\u4f4d\u7f6e\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"toArray"),"\xa0 \u4f1a emit \u7531 ajax response \u6784\u6210\u7684\u6570\u7ec4\u3002\u56e0\u4e3a\u6211\u4eec\u5728\u524d\u9762\u5df2\u7ecf\u5904\u7406\u8fc7\u8fd9\u4e9b response\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc\uff0c\u76f4\u63a5 map\xa0finishedStoringPermissions\u3002"),(0,i.kt)("p",null,"\u4e00\u4e2a\u53ef\u8fd0\u884c\u7684\u7b80\u5316\u4f8b\u5b50\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const {\n    map,\n    merge: mergeOperator,\n    multicast,\n    toArray,\n} = require('rxjs/operators');\nconst { range, Subject } = require('rxjs');\n\nrange(1, 4) // same as from([1, 2, 3, 4])\n    .pipe(\n        map(t => t + 1),\n        multicast(new Subject(), source$ =>\n            source$.pipe(mergeOperator(source$.pipe(toArray()))),\n        ),\n    )\n    .subscribe(console.log);\n\n// 2\n// 3\n// 4\n// 5\n// [ 2, 3, 4, 5 ]\n")),(0,i.kt)("h3",{id:"catching-ajax-errors"},"Catching AJAX Errors"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"catchError"),"\xa0 \u7684\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a observable\uff0c\u6240\u4ee5\uff0c\u786e\u8ba4\u89e6\u53d1\u4e00\u4e2a action\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const fetchPermissionsEpic = (action$, state$, { ajax }) =>\n    action$.pipe(\n        ofType(FETCH_PERMISSIONS),\n        map(state$.value),\n        map(accessTokenSelector),\n        switchMap(accessToken =>\n            ajax({\n                crossDomain: true,\n                headers: {\n                    Authorization: `Bearer ${accessToken}`,\n                },\n                url: 'https://example.com/permissions',\n            }).pipe(\n                pluck('response'),\n                map(storePermissions),\n                catchError(error =>\n                    of(\n                        openModal({\n                            message: error,\n                            namespace: 'error',\n                            stackTrace: error.stack,\n                        }),\n                    ),\n                ),\n            ),\n        ),\n    );\n")),(0,i.kt)("h3",{id:"generic-error-catching"},"Generic Error Catching"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const storeCurrentUrlEpic = (action$, state$, { ajax }) =>\n    action$.pipe(\n        ofType(GET_CURRENT_URL),\n        map(() => window.location.href),\n        map(storeCurrentUrl),\n        catchError(error =>\n            merge(of(storeCurrentUrl('')), of(logError(error))),\n        ),\n    );\n")),(0,i.kt)("p",null,"\u5f53\u6211\u4eec\u5c06\u591a\u4e2a actions \u4f5c\u4e3a\u53c2\u6570\u5206\u522b\u4f20\u5165",(0,i.kt)("inlineCode",{parentName:"p"},"merge"),"\xa0 \u65f6\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"merge"),"\xa0 \u5e2e\u52a9\u6211\u4eec\u540c\u65f6\u8fd0\u884c\u8fd9\u4e9b actions\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u540c\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0crxjs \u8fd8\u6709\u4e00\u4e2a operator \u7248\u672c\u7684 merge\u3002\u6211\u60f3\u529d\u4f60\u907f\u514d\u4f7f\u7528\u5b83\uff0c\u4f46\u7531\u4e8e rxjs \u7f3a\u5c11 ",(0,i.kt)("inlineCode",{parentName:"p"},"finalize"),(0,i.kt)("br",{parentName:"p"}),"\n","operator\uff0c\u6240\u4ee5\u96be\u514d\u4f1a\u4f7f\u7528\u5b83\u3002 ",(0,i.kt)("inlineCode",{parentName:"p"},"tap"),"\xa0 \u662f\u4e00\u4e2a\u7c7b\u4f3c finalize \u7684 operator\uff0c\u4f46\u662f\u5b83\u53ea\u80fd\u89e6\u53d1\u526f\u4f5c\u7528\uff0c\u800c\u4e0d\u80fd\u8fd0\u884c action\u3002"),(0,i.kt)("p",null,"\u5173\u4e8e ",(0,i.kt)("inlineCode",{parentName:"p"},"merge"),"\xa0 \u7684\u590d\u6742\u7528\u6cd5\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const namespace = 'fetchPermissions';\n\nconst fetchPermissionsEpic = (action$, state$, { ajax }) =>\n    action$.pipe(\n        ofType(FETCH_PERMISSIONS),\n        map(state$.value),\n        map(accessTokenSelector),\n        switchMap(accessToken =>\n            merge(\n                of(\n                    loading({\n                        namespace,\n                    }),\n                ),\n                ajax({\n                    crossDomain: true,\n                    headers: {\n                        Authorization: `Bearer ${accessToken}`,\n                    },\n                    url: 'https://example.com/permissions',\n                }).pipe(\n                    pluck('response'),\n                    map(storePermissions),\n                    switchMap(action =>\n                        merge(\n                            of(action),\n                            of(\n                                loaded({\n                                    namespace,\n                                }),\n                            ),\n                        ),\n                    ),\n                    catchError(error =>\n                        merge(\n                            of(\n                                openModal({\n                                    message: error,\n                                    namespace: 'error',\n                                    stackTrace: error.stack,\n                                }),\n                            ),\n                            of(\n                                loaded({\n                                    namespace,\n                                }),\n                            ),\n                        ),\n                    ),\n                ),\n            ),\n        ),\n    );\n")),(0,i.kt)("p",null,"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"merge operator"),"\xa0 \u907f\u514d\u4e24\u6b21 loaded"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const namespace = 'fetchPermissions';\n\nconst fetchPermissionsEpic = (action$, state$, { ajax }) =>\n    action$.pipe(\n        ofType(FETCH_PERMISSIONS),\n        map(state$.value),\n        map(accessTokenSelector),\n        switchMap(accessToken =>\n            merge(\n                of(\n                    loading({\n                        namespace,\n                    }),\n                ),\n                ajax({\n                    crossDomain: true,\n                    headers: {\n                        Authorization: `Bearer ${accessToken}`,\n                    },\n                    url: 'https://example.com/permissions',\n                }).pipe(\n                    pluck('response'),\n                    map(storePermissions),\n                    catchError(error =>\n                        of(\n                            openModal({\n                                message: error,\n                                namespace: 'error',\n                                stackTrace: error.stack,\n                            }),\n                        ),\n                    ),\n                    mergeOperator(\n                        of(\n                            loaded({\n                                namespace,\n                            }),\n                        ),\n                    ),\n                ),\n            ),\n        ),\n    );\n")),(0,i.kt)("p",null,"My solution"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"export const rootEpic = (action$, store) =>\n    combineEpics(homeEpic, ...otherEpics)(action$, store).pipe(\n        catchError((error, source) =>\n            merge(\n                of({ type: HIDE_LOADING_MODAL }),\n                of(() => console.log(error)),\n                source,\n            ),\n        ),\n    );\n")),(0,i.kt)("h3",{id:"listening-to-two-observables"},"Listening to Two Observables"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"race"),"\xa0emit \u4e24\u4e2a observables \u4e2d\u8f83\u65e9\u5b8c\u6210\u7684\u3002\u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"race"),"\xa0 \u4e0d\u4f1a\u7acb\u5373\u7ed3\u675f\uff0c\u800c\u662f\u4f1a\u7ee7\u7eed\u76d1\u542c\u3002\u5f53\u4e00\u4e2a observable emit \u540e\uff0c\u5b83\u4f1a\u8ba9\u8fd9\u4e2a emission \u901a\u8fc7\uff0c\u540c\u65f6\u7ee7\u7eed\u7b49\u5f85\u53e6\u4e00\u4e2a observable emit\u3002\u5728\u53e6\u4e00\u4e2a\u4e5f\u63d0\u4ea4\u540e\uff0c\u5b83\u4f1a\u56de\u5230\u539f\u70b9\uff0c\u91cd\u65b0\u7b49\u5f85\u4e24\u4e2a observable \u7684\u4e0b\u4e00\u8f6e race\u3002\u53ea\u8981 race active\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u4e00\u76f4\u7ee7\u7eed\u3002 ",(0,i.kt)("inlineCode",{parentName:"p"},"take(1)"),"\xa0 \u7528\u4ee5\u5e72\u6389 infinite wait issue\u3002",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"filter"),"\xa0 \u8fd9\u91cc\u4e5f\u5f88\u8be1\u5f02\uff0c\u4f8b\u5b50\u4f5c\u8005\u7684\u610f\u601d\u662f HIDE_ERROR_NOTIFICATION \u4e0e hideErrorNotification \u505a\u7684\u4e8b\u60c5\u7c7b\u4f3c\u3002\u6240\u4ee5\u7528\u6237\u81ea\u5df1\u89e6\u53d1 \xa0HIDE_ERROR_NOTIFICATION \u65f6\uff0c\u4e0d\u9700\u8981\u5904\u7406\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const showErrorNotificationEpic = action$ =>\n    action$.pipe(\n        ofType(SHOW_ERROR_NOTIFICATION),\n        switchMap(() =>\n            race(\n                timer(5000),\n                action$.pipe(ofType(HIDE_ERROR_NOTIFICATION), take(1)),\n            ),\n        ),\n        filter(({ type }) => type !== HIDE_ERROR_NOTIFICATION),\n        map(hideErrorNotification),\n    );\n")),(0,i.kt)("h3",{id:"race-to-the-state"},"Race to the State"),(0,i.kt)("p",null,"\u8bbe\u60f3\u8fd9\u6837\u4e00\u79cd\u573a\u666f\uff0ccomponent \u4f1a\u53d1\u9001\u4f9d\u8d56 accessToken \u7684\u8bf7\u6c42\uff0c\u800c component \u52a0\u8f7d\u7684\u65f6\u5019\uff0cstate \u4e2d\u7684 accessToken \u8fd8\u6ca1\u6709 ready\u3002\u8fd9\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u5e76\u4e0d\u60f3\u53d1\u9001\u8fd9\u4e2a ajax \u8bf7\u6c42\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u9519\u8bef\u793a\u4f8b\uff0caccessToken \u5f88\u53ef\u80fd\u662f undefined\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const storeInventoryItemsEpic = (action$, state$) =>\n    action$.pipe(\n        ofType(FETCH_INVENTORY_ITEMS),\n        map(state$.value),\n        map(accessTokenSelector),\n        switchMap(accessToken =>\n            ajax({\n                crossDomain: true,\n                headers: {\n                    Authorization: `Bearer ${accessToken}`,\n                },\n                url: 'https://example.com/inventory-items',\n            }).pipe(pluck('response'), map(storeInventoryItems)),\n        ),\n    );\n")),(0,i.kt)("p",null,"\u6211\u4eec\u901a\u8fc7\u76d1\u542c ",(0,i.kt)("inlineCode",{parentName:"p"},"state$"),"\xa0\uff0c\u4ee5\u53ca\u540e\u9762\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"filter(Boolean)"),"\xa0 \u6765\u786e\u4fdd\u5728 accessToken ready \u4e4b\u540e\u518d\u53d1\u9001 ajax \u8bf7\u6c42\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u8fd9\u4e48\u505a\u7684\u539f\u7406\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"state$"),"\xa0 \u662f\u4e00\u79cd\u7279\u6b8a\u7684 observable\uff0c\u88ab\u79f0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"BehaviorSubject"),"\xa0\u3002\u8fd9\u610f\u5473\u7740\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"state$"),"\xa0 \u6c38\u8fdc\u6709\u4e00\u4e2a\u503c\uff0c\u4e0e\u6b64\u540c\u65f6\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"action$"),"\xa0 \u662f stateless \u7684\uff0c\u4e14\u53ea\u80fd\u76d1\u542c actions\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u5728\u53e6\u4e00\u4e9b\u573a\u666f\u4e2d\uff0c\u4f60\u53ef\u80fd\u5e76\u4e0d\u60f3\u7b49\u5f85 accessToken \uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"map(accessTokenSelector)"),"\xa0 \u540e\u9762\u5199\u4e00\u4e9b\u903b\u8f91\u6765\u5c55\u793a error\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const storeInventoryItemsEpic = (action$, state$) =>\n    action$.pipe(\n        ofType(FETCH_INVENTORY_ITEMS),\n        switchMap(\n            state$.pipe(\n                map(accessTokenSelector),\n                filter(Boolean),\n                take(1),\n                switchMap(accessToken =>\n                    ajax({\n                        crossDomain: true,\n                        headers: {\n                            Authorization: `Bearer ${accessToken}`,\n                        },\n                        url: 'https://example.com/inventory-items',\n                    }).pipe(pluck('response'), map(storeInventoryItems)),\n                ),\n            ),\n        ),\n    );\n")),(0,i.kt)("h3",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,"\u8fd9\u662f\u4f5c\u8005 9 \u4e2a\u6708\u79ef\u7d2f\u7684\u7ed3\u679c\uff0c\u5e0c\u671b\u4f60\u80fd\u6709\u6240\u6536\u83b7\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u4f5c\u8005\u6240\u6709\u57fa\u4e8e Redux-Observable \u7684\u9879\u76ee\u90fd\u4f7f\u7528\u4e86\u8fd9\u4e9b\u6a21\u5757\u3002\u5f53\u7136\u8fd8\u6709\u66f4\u591a solution\uff0c\u4f46\u662f\u8fd9\u4e9b\u8db3\u591f\u8d77\u6b65\u4e86\u3002"),(0,i.kt)("h2",{id:"references"},"References"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://itnext.io/redux-observable-can-solve-your-state-problems-15b23a9649d7"},"Redux-Observalable Can Solve Your State Problems"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://rxjs-dev.firebaseapp.com/"},"rxjs"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://redux-observable.js.org/"},"redux-observable")))}d.isMDXComponent=!0}}]);